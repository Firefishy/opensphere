var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(y){var B=0;return function(){return B<y.length?{done:!1,value:y[B++]}:{done:!0}}};$jscomp.arrayIterator=function(y){return{next:$jscomp.arrayIteratorImpl(y)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(y,B,A){y!=Array.prototype&&y!=Object.prototype&&(y[B]=A.value)};$jscomp.getGlobal=function(y){return"undefined"!=typeof window&&window===y?y:"undefined"!=typeof global&&null!=global?global:y};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(y,B){this.$jscomp$symbol$id_=y;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:B})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function y(A){if(this instanceof y)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(A||"")+"_"+B++,A)}var B=0;return y}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var y=$jscomp.global.Symbol.iterator;y||(y=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[y]&&$jscomp.defineProperty(Array.prototype,y,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var y=$jscomp.global.Symbol.asyncIterator;y||(y=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(y){$jscomp.initSymbolIterator();y={next:y};y[$jscomp.global.Symbol.iterator]=function(){return this};return y};
$jscomp.iteratorFromArray=function(y,B){$jscomp.initSymbolIterator();y instanceof String&&(y+="");var A=0,x={next:function(){if(A<y.length){var z=A++;return{value:B(z,y[z]),done:!1}}x.next=function(){return{done:!0,value:void 0}};return x.next()}};x[Symbol.iterator]=function(){return x};return x};
$jscomp.polyfill=function(y,B,A,x){if(B){A=$jscomp.global;y=y.split(".");for(x=0;x<y.length-1;x++){var z=y[x];z in A||(A[z]={});A=A[z]}y=y[y.length-1];x=A[y];B=B(x);B!=x&&null!=B&&$jscomp.defineProperty(A,y,{configurable:!0,writable:!0,value:B})}};$jscomp.polyfill("Array.prototype.keys",function(y){return y?y:function(){return $jscomp.iteratorFromArray(this,function(y){return y})}},"es6","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var y={},B=Object.create(new $jscomp.global.Proxy(y,{get:function(A,x,z){return A==y&&"q"==x&&z==B}}));return!0===B.q}catch(A){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.makeIterator=function(y){var B="undefined"!=typeof Symbol&&Symbol.iterator&&y[Symbol.iterator];return B?B.call(y):$jscomp.arrayIterator(y)};
$jscomp.owns=function(y,B){return Object.prototype.hasOwnProperty.call(y,B)};
$jscomp.polyfill("WeakMap",function(y){function B(){if(!y||!Object.seal)return!1;try{var b=Object.seal({}),f=Object.seal({}),k=new y([[b,2],[f,3]]);if(2!=k.get(b)||3!=k.get(f))return!1;k.delete(b);k.set(f,4);return!k.has(b)&&4==k.get(f)}catch(q){return!1}}function A(){}function x(b){if(!$jscomp.owns(b,t)){var f=new A;$jscomp.defineProperty(b,t,{value:f})}}function z(b){var f=Object[b];f&&(Object[b]=function(b){if(b instanceof A)return b;x(b);return f(b)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(y&&
$jscomp.ES6_CONFORMANCE)return y}else if(B())return y;var t="$jscomp_hidden_"+Math.random();z("freeze");z("preventExtensions");z("seal");var w=0,b=function(b){this.id_=(w+=Math.random()+1).toString();if(b){b=$jscomp.makeIterator(b);for(var f;!(f=b.next()).done;)f=f.value,this.set(f[0],f[1])}};b.prototype.set=function(b,f){x(b);if(!$jscomp.owns(b,t))throw Error("WeakMap key fail: "+b);b[t][this.id_]=f;return this};b.prototype.get=function(b){return $jscomp.owns(b,t)?b[t][this.id_]:void 0};b.prototype.has=
function(b){return $jscomp.owns(b,t)&&$jscomp.owns(b[t],this.id_)};b.prototype.delete=function(b){return $jscomp.owns(b,t)&&$jscomp.owns(b[t],this.id_)?delete b[t][this.id_]:!1};return b},"es6","es3");$jscomp.findInternal=function(y,B,A){y instanceof String&&(y=String(y));for(var x=y.length,z=0;z<x;z++){var t=y[z];if(B.call(A,t,z,y))return{i:z,v:t}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(y){return y?y:function(y,A){return $jscomp.findInternal(this,y,A).v}},"es6","es3");
!function(y,B){"object"==typeof exports&&"object"==typeof module?module.exports=B():"function"==typeof define&&define.amd?define([],B):"object"==typeof exports?exports["to-mark"]=B():y.toMark=B()}("undefined"!=typeof self?self:this,function(){return function(y){function B(x){if(A[x])return A[x].exports;var z=A[x]={i:x,l:!1,exports:{}};return y[x].call(z.exports,z,z.exports,B),z.l=!0,z.exports}var A={};return B.m=y,B.c=A,B.d=function(x,y,t){B.o(x,y)||Object.defineProperty(x,y,{configurable:!1,enumerable:!0,
get:t})},B.n=function(x){var y=x&&x.__esModule?function(){return x["default"]}:function(){return x};return B.d(y,"a",y),y},B.o=function(x,y){return Object.prototype.hasOwnProperty.call(x,y)},B.p="",B(B.s=3)}([function(y,B,A){var x=/\n$/g,z=/[ \xA0]+\n\n/g,t=/([ \xA0]+\n){2,}/g,w=/href="(.*?)"/,b=/^/gm;B=A(1).factory({TEXT_NODE:function(b){var f;return f=this.trim(this.getSpaceCollapsedText(b.nodeValue)),this._isNeedEscapeBackSlash(f)&&(f=this.escapeTextBackSlash(f)),this._isNeedEscapeHtml(f)&&(f=
this.escapeTextHtml(f)),this._isNeedEscape(f)&&(f=this.escapeText(f)),this.getSpaceControlled(f,b)},"CODE TEXT_NODE":function(b){return b.nodeValue},"EM, I":function(b,f){b="";return this.isEmptyText(f)||(b="*"+f+"*"),b},"STRONG, B":function(b,f){b="";return this.isEmptyText(f)||(b="**"+f+"**"),b},A:function(b,f){var k,q,m=f,n="";return k=w.exec(b.outerHTML),k&&(q=k[1].replace(/&amp;/g,"&")),b.title&&(n=' "'+b.title+'"'),!this.isEmptyText(f)&&q&&(m="["+this.escapeTextForLink(f)+"]("+q+n+")"),m},IMG:function(b){var f=
"",k=b.getAttribute("src");b=b.alt;return k&&(f="!["+this.escapeTextForLink(b)+"]("+k+")"),f},BR:function(){return"  \n"},CODE:function(b,f){var k,q,m="";return this.isEmptyText(f)||(q=parseInt(b.getAttribute("data-backticks"),10),k=isNaN(q)?"`":Array(q+1).join("`"),m=k+f+k),m},P:function(b,f){b="";return f=f.replace(t,"  \n"),this.isEmptyText(f)||(b="\n\n"+f+"\n\n"),b},"BLOCKQUOTE P":function(b,f){return f},"LI P":function(b,f){b="";return this.isEmptyText(f)||(b=f),b},"H1, H2, H3, H4, H5, H6":function(b,
f){var k="";for(b=parseInt(b.tagName.charAt(1),10);b;)k+="#",--b;return k+=" ",k+=f,"\n\n"+k+"\n\n"},"LI H1, LI H2, LI H3, LI H4, LI H5, LI H6":function(b,f){b=parseInt(b.tagName.charAt(1),10);return Array(b+1).join("#")+" "+f},"UL, OL":function(b,f){return"\n\n"+f+"\n\n"},"LI OL, LI UL":function(p,f){var k,q;return q=f.replace(z,"\n"),q=q.replace(x,""),k=q.replace(b,"    "),"\n"+k},"UL LI":function(b,f){var k="";return f=f.replace(t,"  \n"),b.firstChild&&"P"===b.firstChild.tagName&&(k+="\n"),k+("* "+
f+"\n")},"OL LI":function(b,f){for(var k="",q=parseInt(b.parentNode.getAttribute("start")||1,10);b.previousSibling;)b=b.previousSibling,1===b.nodeType&&"LI"===b.tagName&&(q+=1);return f=f.replace(t,"  \n"),b.firstChild&&"P"===b.firstChild.tagName&&(k+="\n"),k+(q+". "+f+"\n")},HR:function(){return"\n\n- - -\n\n"},BLOCKQUOTE:function(p,f){var k,q;return f=f.replace(t,"\n\n"),q=this.trim(f),k=q.replace(b,"> "),"\n\n"+k+"\n\n"},"PRE CODE":function(p,f){var k,q;return q=f.replace(x,""),k=q.replace(b,"    "),
"\n\n"+k+"\n\n"}});y.exports=B},function(y,B,A){function x(e,a,c){var d;c=c||null;for(d in e)if(e.hasOwnProperty(d)&&!1===a.call(c,e[d],d,e))break}function z(e){this.rules={};e&&this.addRules(e)}function t(e){e=e.tagName;return"S"===e||"B"===e||"I"===e||"EM"===e||"STRONG"===e||"A"===e||"IMG"===e||"CODE"===e}function w(e,a){x(a,function(a,d){"converter"!==d?(e[d]||(e[d]={}),w(e[d],a)):e[d]=a})}var b=/^\u0020/,p=/.+\u0020$/,f=/[\n\s\t]+/g,k=/^[\u0020\r\n\t]+|[\u0020\r\n\t]+$/g,q=/[\u0020]+/g,m=/[~>()*{}\[\]_`+-.!#|]/g,
n=/[\[\]\(\)<>]/g;z.prototype.lineFeedReplacement="\u200b\u200b";z.prototype.addRule=function(e,a){var c=e.split(", "),d=c.pop();for(a.fname=e;d;)this._setConverterWithSelector(d,a),d=c.pop()};z.prototype.addRules=function(e){x(e,function(a,c){this.addRule(c,a)},this)};z.prototype.getSpaceControlled=function(e,a){var c,d="",h="";return a.previousSibling&&(3===a.previousSibling.nodeType||t(a.previousSibling))&&(c=a.previousSibling.innerHTML||a.previousSibling.nodeValue,(p.test(c)||b.test(a.innerHTML||
a.nodeValue))&&(d=" ")),a.nextSibling&&(3===a.nextSibling.nodeType||t(a.nextSibling))&&(c=a.nextSibling.innerHTML||a.nextSibling.nodeValue,(b.test(c)||p.test(a.innerHTML||a.nodeValue))&&(h=" ")),d+e+h};z.prototype.convert=function(e,a){var c,d=this._getConverter(e);return e&&e.nodeType===Node.ELEMENT_NODE&&e.hasAttribute("data-tomark-pass")?(e.removeAttribute("data-tomark-pass"),c=e.outerHTML):d?c=d.call(this,e,a):e&&(c=this.getSpaceControlled(this._getInlineHtml(e,a),e)),c||""};z.prototype._getInlineHtml=
function(e,a){var c=e.outerHTML;e=e.tagName;a=a.replace(/\$/g,"$$$$");return c.replace(new RegExp("(<"+e+" ?.*?>).*(</"+e+">)","i"),"$1"+a+"$2")};z.prototype._getConverter=function(e){for(var a,c=this.rules;e&&c;)c=this._getNextRule(c,this._getRuleNameFromNode(e)),e=this._getPrevNode(e),c&&c.converter&&(a=c.converter);return a};z.prototype._getNextRule=function(e,a){return e[a]};z.prototype._getRuleNameFromNode=function(e){return e.tagName||"TEXT_NODE"};z.prototype._getPrevNode=function(e){var a;
e=e.parentNode;return e&&!e.__htmlRootByToMark&&(a=e),a};z.prototype._setConverterWithSelector=function(e,a){var c=this.rules;this._eachSelector(e,function(a){c[a]||(c[a]={});c=c[a]});c.converter=a};z.prototype._eachSelector=function(e,a){var c;e=e.split(" ");for(c=e.length-1;0<=c;)a(e[c]),--c};z.prototype.trim=function(e){return e.replace(k,"")};z.prototype.isEmptyText=function(e){return""===e.replace(f,"")};z.prototype.getSpaceCollapsedText=function(e){return e.replace(q," ")};z.prototype.escapeText=
function(e){return e.replace(m,function(a){return"\\"+a})};z.prototype.escapeTextForLink=function(e){return e.replace(n,function(a){return"\\"+a})};z.prototype.escapeTextHtml=function(e){return e=e.replace(z.markdownTextToEscapeHtmlRx,function(a){return"\\"+a})};z.prototype.escapeTextBackSlash=function(e){return e=e.replace(z.markdownTextToEscapeBackSlashRx,function(a){return"\\"+a})};z.markdownTextToEscapeRx={codeblock:/(^ {4}[^\n]+\n*)+/,hr:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,heading:/^(#{1,6}) +[\s\S]+/,
lheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,strong:/__(\S|\S[\s\S]*\S)__|\*\*(\S|\S[\s\S]*\S)\*\*/,em:/_(\S|\S[\s\S]*\S)_|\*(\S|\S[\s\S]*\S)\*/,strikeThrough:/~~(\S|\S[\s\S]*\S)~~/,code:/(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,verticalBar:/\u007C/,codeblockGfm:/^(`{3,})/,codeblockTildes:/^(~{3,})/};z.markdownTextToEscapeHtmlRx=/<([a-zA-Z_][a-zA-Z0-9\-\._]*)(\s|[^\\\/>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-\._]*)\s*\/?>|\x3c!--[^-]+--\x3e|<([a-zA-Z_][a-zA-Z0-9\-\.:\/]*)>/g;
z.markdownTextToEscapeBackSlashRx=/\\[!"#$%&'()*+,-.\/:;<=>?@[\]^_`{|}~\\]/g;z.prototype._isNeedEscape=function(e){var a,c=!1,d=z.markdownTextToEscapeRx;for(a in d)if(d.hasOwnProperty(a)&&d[a].test(e)){c=!0;break}return c};z.prototype._isNeedEscapeHtml=function(e){return z.markdownTextToEscapeHtmlRx.test(e)};z.prototype._isNeedEscapeBackSlash=function(e){return z.markdownTextToEscapeBackSlashRx.test(e)};z.prototype.mix=function(e){w(this.rules,e.rules)};z.factory=function(e,a){var c=new z;return a?
c.mix(e):a=e,c.addRules(a),c};y.exports=z},function(y,B,A){function x(t,b){var p;return-1!==t.className.indexOf("task-list-item")&&(p=-1!==t.className.indexOf("checked")?"x":" ",b="["+p+"] "+b),b}function z(t,b){var p=t.childNodes,f=p.length,k=[];for(t=0;t<f;t+=1)p[t].tagName&&p[t].tagName===b&&k.push(p[t]);return k}B=A(1);var t=A(0);A=B.factory(t,{"DEL, S":function(t,b){return"~~"+b+"~~"},"PRE CODE":function(t,b){var p,f="",k=t.getAttribute("data-backticks");return t.getAttribute("data-language")&&
(f=" "+t.getAttribute("data-language")),k=parseInt(k,10),p=isNaN(k)?"```":Array(k+1).join("`"),b=b.replace(/(\r\n)|(\r)|(\n)/g,this.lineFeedReplacement),"\n\n"+p+f+"\n"+b+"\n"+p+"\n\n"},PRE:function(t,b){return b},"UL LI":function(w,b){return t.convert(w,x(w,b))},"OL LI":function(w,b){return t.convert(w,x(w,b))},TABLE:function(t,b){return"\n\n"+b+"\n\n"},"TBODY, TFOOT":function(t,b){return b},"TR TD, TR TH":function(t,b){return b=b.replace(/(\r\n)|(\r)|(\n)/g,"")," "+b+" |"},"TD BR, TH BR":function(){return"<br>"},
TR:function(t,b){return"|"+b+"\n"},THEAD:function(t,b){var p="";var f=z(z(t,"TR")[0],"TH");var k=f.length;for(t=0;t<k;t+=1){var q;var m=f[t];var n=m.align;var e=m.textContent?m.textContent.length:m.innerText.length;m=q="";n&&("left"===n?(q=":",--e):"right"===n?(m=":",--e):"center"===n&&(m=":",q=":",e-=2));n=q;q="-";for(e=Math.max(e,3);1<e;)q+="-",--e;p+=" "+(n+q+m)+" |"}return b?b+"|"+p+"\n":""}});y.exports=A},function(y,B,A){B=A(4);var x=A(1),z=A(0);A=A(2);B.Renderer=x;B.basicRenderer=z;B.gfmRenderer=
A;y.exports=B},function(y,B,A){function x(e,a,c){return e=e.replace(f,"\n"),e=e.replace(q,"\n\n"),e=e.replace(n,function(a){return 3<=(a.match(/\n/g)||[]).length?"\n\n":1<=a?"\n":a}),e=e.replace(k,""),e=e.replace(new RegExp(c,"g"),"\n"),a&&(e=e.replace(m,"\n")),e}function z(e,a){var c,d="",b=e.getNode();var f=0;for(c=b.childNodes.length;f<c;f+=1)e.next(),d+=z(e,a);return a.convert(b,d)}var t=A(5),w=A(6),b=A(0),p=A(2),f=/[ \xA0]+(\n\n)/g,k=/^[\n]+|[\s\n]+$/g,q=/([ \xA0]+\n){2,}/g,m=/([ \xA0]){2,}\n/g,
n=/[ \xA0\n]+/g;y.exports=function(e,a){var c=!0;if(e){var d=p;a&&(c=a.gfm,!1===c&&(d=b),d=a.renderer||d);e=new t(w(e));a=d;for(var h="";e.next();)h+=z(e,a);d=x(h,c,d.lineFeedReplacement)}else d="";return d}},function(y,B,A){function x(t){this._normalizeTextChildren(t);this._current=this._root=t}var z={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3};x.prototype.next=function(){var t,w=this._current;if(this._current){for(t=this._getNextNode(w);this._isNeedNextSearch(t,w);)w=w.parentNode,t=w.nextSibling;
this._current=t}return this._current};x.prototype.getNode=function(){return this._normalizeTextChildren(this._current),this._current};x.prototype._normalizeTextChildren=function(t){var w;if(t&&!(2>t.childNodes.length))for(w=t.firstChild;w.nextSibling;){var b=w.nextSibling;w.nodeType===z.TEXT_NODE&&b.nodeType===z.TEXT_NODE?(w.nodeValue+=b.nodeValue,t.removeChild(b)):w=b}};x.prototype.getNodeText=function(){var t=this.getNode();return t.nodeType===z.TEXT_NODE?t.nodeValue:t.textContent||t.innerText};
x.prototype._isNeedNextSearch=function(t,w){return!t&&w!==this._root&&w.parentNode!==this._root};x.prototype._getNextNode=function(t){return t.firstChild||t.nextSibling};x.NODE_TYPE=z;y.exports=x},function(y,B,A){function x(b){var f;return"[object String]"===Object.prototype.toString.call(b)?(f=document.createElement("div"),f.innerHTML=z(b)):f=b,f.__htmlRootByToMark=!0,f}function z(p){return p=p.replace(t,""),p=p.replace(w,"><"),p.replace(b,"> <")}var t=/^[\s\r\n\t]+|[\s\r\n\t]+$/g,w=/>[\r\n\t]+</g,
b=/>[ ]+</g;x.preProcess=z;y.exports=x}])});(function(y){var B="object"===typeof window&&window||"object"===typeof self&&self;"undefined"!==typeof exports?y(exports):B&&(B.hljs=y({}),"function"===typeof define&&define.amd&&define([],function(){return B.hljs}))})(function(y){function B(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function A(a,d){return(a=a&&a.exec(d))&&0===a.index}function x(a){var d,c={},e=Array.prototype.slice.call(arguments,1);for(d in a)c[d]=a[d];e.forEach(function(a){for(d in a)c[d]=a[d]});
return c}function z(a){var d=[];(function L(a,c){for(a=a.firstChild;a;a=a.nextSibling)3===a.nodeType?c+=a.nodeValue.length:1===a.nodeType&&(d.push({event:"start",offset:c,node:a}),c=L(a,c),a.nodeName.toLowerCase().match(/br|hr|img|input/)||d.push({event:"stop",offset:c,node:a}));return c})(a,0);return d}function t(a,d,e){function b(){return a.length&&d.length?a[0].offset!==d[0].offset?a[0].offset<d[0].offset?a:d:"start"===d[0].event?a:d:a.length?a:d}function h(a){v+="<"+a.nodeName.toLowerCase()+c.map.call(a.attributes,
function(a){return" "+a.nodeName+'="'+B(a.value).replace('"',"&quot;")+'"'}).join("")+">"}function l(a){v+="</"+a.nodeName.toLowerCase()+">"}function f(a){("start"===a.event?h:l)(a.node)}for(var r=0,v="",m=[];a.length||d.length;){var n=b();v+=B(e.substring(r,n[0].offset));r=n[0].offset;if(n===a){m.reverse().forEach(l);do f(n.splice(0,1)[0]),n=b();while(n===a&&n.length&&n[0].offset===r);m.reverse().forEach(h)}else"start"===n[0].event?m.push(n[0].node):m.pop(),f(n.splice(0,1)[0])}return v+B(e.substr(r))}
function w(a){a.variants&&!a.cached_variants&&(a.cached_variants=a.variants.map(function(d){return x(a,{variants:null},d)}));return a.cached_variants||a.endsWithParent&&[x(a)]||[a]}function b(a){if(E&&!a.langApiRestored){a.langApiRestored=!0;for(var d in E)a[d]&&(a[E[d]]=a[d]);(a.contains||[]).concat(a.variants||[]).forEach(b)}}function p(a){function c(a){return a&&a.source||a}function e(d,e){return new RegExp(c(d),"m"+(a.case_insensitive?"i":"")+(e?"g":""))}function b(a,d){for(var e=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,
b=0,h="",l=0;l<a.length;l++){var f=b,r=c(a[l]);for(0<l&&(h+=d);0<r.length;){var v=e.exec(r);if(null==v){h+=r;break}h+=r.substring(0,v.index);r=r.substring(v.index+v[0].length);"\\"==v[0][0]&&v[1]?h+="\\"+String(Number(v[1])+f):(h+=v[0],"("==v[0]&&b++)}}return h}function h(l,f){if(!l.compiled){l.compiled=!0;l.keywords=l.keywords||l.beginKeywords;if(l.keywords){var r={},v=function(d,c){a.case_insensitive&&(c=c.toLowerCase());c.split(" ").forEach(function(a){a=a.split("|");r[a[0]]=[d,a[1]?Number(a[1]):
1]})};"string"===typeof l.keywords?v("keyword",l.keywords):d(l.keywords).forEach(function(a){v(a,l.keywords[a])});l.keywords=r}l.lexemesRe=e(l.lexemes||/\w+/,!0);f&&(l.beginKeywords&&(l.begin="\\b("+l.beginKeywords.split(" ").join("|")+")\\b"),l.begin||(l.begin=/\B|\b/),l.beginRe=e(l.begin),l.endSameAsBegin&&(l.end=l.begin),l.end||l.endsWithParent||(l.end=/\B|\b/),l.end&&(l.endRe=e(l.end)),l.terminator_end=c(l.end)||"",l.endsWithParent&&f.terminator_end&&(l.terminator_end+=(l.end?"|":"")+f.terminator_end));
l.illegal&&(l.illegalRe=e(l.illegal));null==l.relevance&&(l.relevance=1);l.contains||(l.contains=[]);l.contains=Array.prototype.concat.apply([],l.contains.map(function(a){return w("self"===a?l:a)}));l.contains.forEach(function(a){h(a,l)});l.starts&&h(l.starts,f);f=l.contains.map(function(a){return a.beginKeywords?"\\.?(?:"+a.begin+")\\.?":a.begin}).concat([l.terminator_end,l.illegal]).map(c).filter(Boolean);l.terminators=f.length?e(b(f,"|"),!0):{exec:function(){return null}}}}h(a)}function f(a,d,
c,b){function l(a,d){if(A(a.endRe,d)){for(;a.endsParent&&a.parent;)a=a.parent;return a}if(a.endsWithParent)return l(a.parent,d)}function r(a,d,c,e){return a?'<span class="'+(e?"":H.classPrefix)+(a+'">')+d+(c?"":"</span>"):d}function v(){var a=V,d;if(null!=q.subLanguage)if((d="string"===typeof q.subLanguage)&&!h[q.subLanguage])d=B(K);else{var c=d?f(q.subLanguage,K,!0,E[q.subLanguage]):k(K,q.subLanguage.length?q.subLanguage:void 0);0<q.relevance&&(R+=c.relevance);d&&(E[q.subLanguage]=c.top);d=r(c.language,
c.value,!1,!0)}else if(q.keywords){c="";var e=0;q.lexemesRe.lastIndex=0;for(d=q.lexemesRe.exec(K);d;){c+=B(K.substring(e,d.index));e=q;var b=d;b=C.case_insensitive?b[0].toLowerCase():b[0];(e=e.keywords.hasOwnProperty(b)&&e.keywords[b])?(R+=e[1],c+=r(e[0],B(d[0]))):c+=B(d[0]);e=q.lexemesRe.lastIndex;d=q.lexemesRe.exec(K)}d=c+B(K.substr(e))}else d=B(K);V=a+d;K=""}function m(a){V+=a.className?r(a.className,"",!0):"";q=Object.create(a,{parent:{value:q}})}function n(a,d){K+=a;if(null==d)return v(),0;a:{a=
q;var e;var b=0;for(e=a.contains.length;b<e;b++)if(A(a.contains[b].beginRe,d)){a.contains[b].endSameAsBegin&&(a.contains[b].endRe=new RegExp(a.contains[b].beginRe.exec(d)[0].replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"m"));a=a.contains[b];break a}a=void 0}if(a)return a.skip?K+=d:(a.excludeBegin&&(K+=d),v(),a.returnBegin||a.excludeBegin||(K=d)),m(a,d),a.returnBegin?0:d.length;if(a=l(q,d)){b=q;b.skip?K+=d:(b.returnEnd||b.excludeEnd||(K+=d),v(),b.excludeEnd&&(K=d));do q.className&&(V+="</span>"),q.skip||
q.subLanguage||(R+=q.relevance),q=q.parent;while(q!==a.parent);a.starts&&(a.endSameAsBegin&&(a.starts.endRe=a.endRe),m(a.starts,""));return b.returnEnd?0:d.length}if(!c&&A(q.illegalRe,d))throw Error('Illegal lexeme "'+d+'" for mode "'+(q.className||"<unnamed>")+'"');K+=d;return d.length||1}var C=e(a);if(!C)throw Error('Unknown language: "'+a+'"');p(C);var q=b||C,E={},V="";for(b=q;b!==C;b=b.parent)b.className&&(V=r(b.className,"",!0)+V);var K="",R=0;try{for(var t,w,x=0;;){q.terminators.lastIndex=x;
t=q.terminators.exec(d);if(!t)break;w=n(d.substring(x,t.index),t[0]);x=t.index+w}n(d.substr(x));for(b=q;b.parent;b=b.parent)b.className&&(V+="</span>");return{relevance:R,value:V,language:a,top:q}}catch(Q){if(Q.message&&-1!==Q.message.indexOf("Illegal"))return{relevance:0,value:B(d)};throw Q;}}function k(c,b){b=b||H.languages||d(h);var l={relevance:0,value:B(c)},r=l;b.filter(e).filter(a).forEach(function(a){var d=f(a,c,!1);d.language=a;d.relevance>r.relevance&&(r=d);d.relevance>l.relevance&&(r=l,
l=d)});r.language&&(l.second_best=r);return l}function q(a){return H.tabReplace||H.useBR?a.replace(C,function(a,d){return H.useBR&&"\n"===a?"<br>":H.tabReplace?d.replace(/\t/g,H.tabReplace):""}):a}function m(a){var d,c;a:{var b=a.className+" ";b+=a.parentNode?a.parentNode.className:"";if(c=v.exec(b))c=e(c[1])?c[1]:"no-highlight";else{b=b.split(/\s+/);c=0;for(d=b.length;c<d;c++){var h=b[c];if(l.test(h)||e(h)){c=h;break a}}c=void 0}}if(!l.test(c)){H.useBR?(h=document.createElementNS("http://www.w3.org/1999/xhtml",
"div"),h.innerHTML=a.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):h=a;d=h.textContent;b=c?f(c,d,!0):k(d);h=z(h);if(h.length){var m=document.createElementNS("http://www.w3.org/1999/xhtml","div");m.innerHTML=b.value;b.value=t(h,z(m),d)}b.value=q(b.value);a.innerHTML=b.value;d=a.className;c=c?r[c]:b.language;h=[d.trim()];d.match(/\bhljs\b/)||h.push("hljs");-1===d.indexOf(c)&&h.push(c);c=h.join(" ").trim();a.className=c;a.result={language:b.language,re:b.relevance};b.second_best&&(a.second_best=
{language:b.second_best.language,re:b.second_best.relevance})}}function n(){if(!n.called){n.called=!0;var a=document.querySelectorAll("pre code");c.forEach.call(a,m)}}function e(a){a=(a||"").toLowerCase();return h[a]||h[r[a]]}function a(a){return(a=e(a))&&!a.disableAutodetect}var c=[],d=Object.keys,h={},r={},l=/^(no-?highlight|plain|text)$/i,v=/\blang(?:uage)?-([\w-]+)\b/i,C=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,E,H={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};y.highlight=f;y.highlightAuto=
k;y.fixMarkup=q;y.highlightBlock=m;y.configure=function(a){H=x(H,a)};y.initHighlighting=n;y.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",n,!1);addEventListener("load",n,!1)};y.registerLanguage=function(a,d){d=h[a]=d(y);b(d);d.aliases&&d.aliases.forEach(function(d){r[d]=a})};y.listLanguages=function(){return d(h)};y.getLanguage=e;y.autoDetection=a;y.inherit=x;y.IDENT_RE="[a-zA-Z]\\w*";y.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*";y.NUMBER_RE="\\b\\d+(\\.\\d+)?";y.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";
y.BINARY_NUMBER_RE="\\b(0b[01]+)";y.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";y.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0};y.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[y.BACKSLASH_ESCAPE]};y.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[y.BACKSLASH_ESCAPE]};y.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/};
y.COMMENT=function(a,d,c){a=y.inherit({className:"comment",begin:a,end:d,contains:[]},c||{});a.contains.push(y.PHRASAL_WORDS_MODE);a.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0});return a};y.C_LINE_COMMENT_MODE=y.COMMENT("//","$");y.C_BLOCK_COMMENT_MODE=y.COMMENT("/\\*","\\*/");y.HASH_COMMENT_MODE=y.COMMENT("#","$");y.NUMBER_MODE={className:"number",begin:y.NUMBER_RE,relevance:0};y.C_NUMBER_MODE={className:"number",begin:y.C_NUMBER_RE,relevance:0};y.BINARY_NUMBER_MODE=
{className:"number",begin:y.BINARY_NUMBER_RE,relevance:0};y.CSS_NUMBER_MODE={className:"number",begin:y.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0};y.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[y.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[y.BACKSLASH_ESCAPE]}]};y.TITLE_MODE={className:"title",begin:y.IDENT_RE,relevance:0};y.UNDERSCORE_TITLE_MODE={className:"title",begin:y.UNDERSCORE_IDENT_RE,
relevance:0};y.METHOD_GUARD={begin:"\\.\\s*"+y.UNDERSCORE_IDENT_RE,relevance:0};return y});!function(y,B){function A(a,d,c){this.root=this.currentNode=a;this.nodeType=d;this.filter=c||O}function x(a){return a.nodeType===T&&!!Cb[a.nodeName]}function z(a){switch(a.nodeType){case I:return db;case T:case Wa:if(lb&&mb.has(a))return mb.get(a);break;default:return qc}var d;a:{var c=a.childNodes;for(var e=t,b=c.length;b--;)if(!e(c[b])){c=!1;break a}c=!0}return d=c?sc.test(a.nodeName)?db:Eb:Yb,lb&&mb.set(a,d),d}function t(a){return z(a)===db}function w(a){return z(a)===Eb}function b(a){return z(a)===
Yb}function p(a,d){d=new A(d,la,w);return d.currentNode=a,d}function f(a,d){return a=p(a,d).previousNode(),a!==d?a:null}function k(a,d){return a=p(a,d).nextNode(),a!==d?a:null}function q(a,d){return!x(a)&&a.nodeType===d.nodeType&&a.nodeName===d.nodeName&&"A"!==a.nodeName&&a.className===d.className&&(!a.style&&!d.style||a.style.cssText===d.style.cssText)}function m(a,d,c){if(a.nodeName!==d)return!1;for(var e in c)if(a.getAttribute(e)!==c[e])return!1;return!0}function n(a,d,c,e){for(;a&&a!==d;){if(m(a,
c,e))return a;a=a.parentNode}return null}function e(a,d){for(;d;){if(d===a)return!0;d=d.parentNode}return!1}function a(d,c,e){var b,h,l,f,r,v="";return d&&d!==c&&(v=a(d.parentNode,c,e),d.nodeType===T&&(v+=(v?">":"")+d.nodeName,(b=d.id)&&(v+="#"+b),(h=d.className.trim())&&(l=h.split(/\s\s*/),l.sort(),v+=".",v+=l.join(".")),(f=d.dir)&&(v+="[dir="+f+"]"),l&&(r=e.classNames,-1<Z.call(l,r.highlight)&&(v+="[backgroundColor="+d.style.backgroundColor.replace(/ /g,"")+"]"),-1<Z.call(l,r.colour)&&(v+="[color="+
d.style.color.replace(/ /g,"")+"]"),-1<Z.call(l,r.fontFamily)&&(v+="[fontFamily="+d.style.fontFamily.replace(/ /g,"")+"]"),-1<Z.call(l,r.fontSize)&&(v+="[fontSize="+d.style.fontSize+"]")))),v}function c(a){var d=a.nodeType;return d===T||d===Wa?a.childNodes.length:a.length||0}function d(a){var d=a.parentNode;return d&&d.removeChild(a),a}function h(a,d){var c=a.parentNode;c&&c.replaceChild(d,a)}function r(a){var d=a.ownerDocument.createDocumentFragment(),c=a.childNodes;for(c=c?c.length:0;c--;)d.appendChild(a.firstChild);
return d}function l(a,d,c,e){var b;a=a.createElement(d);if(c instanceof Array&&(e=c,c=null),c)for(b in c)c[b]!==B&&a.setAttribute(b,c[b]);if(e)for(c=0,b=e.length;c<b;c+=1)a.appendChild(e[c]);return a}function v(a,d){var c,e,b=d.__squire__,h=a.ownerDocument,f=a;if(a===d&&((e=a.firstChild)&&"BR"!==e.nodeName||(c=b.createDefaultBlock(),e?a.replaceChild(c,e):a.appendChild(c),a=c,c=null)),a.nodeType===I)return f;if(t(a)){for(e=a.firstChild;tb&&e&&e.nodeType===I&&!e.data;)a.removeChild(e),e=a.firstChild;
e||(tb?(c=h.createTextNode(Xa),b._didAddZWS()):c=h.createTextNode(""))}else if(eb){for(;a.nodeType!==I&&!x(a);){if(!(e=a.firstChild)){c=h.createTextNode("");break}a=e}a.nodeType===I?/^ +$/.test(a.data)&&(a.data=""):x(a)&&a.parentNode.insertBefore(h.createTextNode(""),a)}else if(!a.querySelector("BR"))for(c=l(h,"BR");(e=a.lastElementChild)&&!t(e);)a=e;if(c)try{a.appendChild(c)}catch(rb){b.didError({name:"Squire: fixCursor \u2013\u00a0"+rb,message:"Parent: "+a.nodeName+"/"+a.innerHTML+" appendChild: "+
c.nodeName})}return f}function C(a,d){var c,e=a.childNodes,h=a.ownerDocument,f=null,r=d.__squire__._config;var m=0;for(c=e.length;m<c;m+=1){var n=e[m];var k="BR"===n.nodeName;!k&&t(n)?(f||(f=l(h,r.blockTag,r.blockAttributes)),f.appendChild(n),--m,--c):(k||f)&&(f||(f=l(h,r.blockTag,r.blockAttributes)),v(f,d),k?a.replaceChild(f,n):(a.insertBefore(f,n),m+=1,c+=1),f=null);b(n)&&C(n,d)}return f&&a.appendChild(v(f,d)),a}function E(a,d,c,e){var b;var h=a.nodeType;if(h===I&&a!==c)return E(a.parentNode,a.splitText(d),
c,e);if(h===T){if("number"==typeof d&&(d=d<a.childNodes.length?a.childNodes[d]:null),a===c)return d;h=a.parentNode;for(b=a.cloneNode(!1);d;){var l=d.nextSibling;b.appendChild(d);d=l}return"OL"===a.nodeName&&n(a,e,"BLOCKQUOTE")&&(b.start=(+a.start||1)+a.childNodes.length-1),v(a,e),v(b,e),(l=a.nextSibling)?h.insertBefore(b,l):h.appendChild(b),E(h,b,c,e)}return d}function H(a,e){for(var b,h,l,f=a.childNodes,v=f.length,m=[];v--;)if(b=f[v],h=v&&f[v-1],v&&t(b)&&q(b,h)&&!Cb[b.nodeName])e.startContainer===
b&&(e.startContainer=h,e.startOffset+=c(h)),e.endContainer===b&&(e.endContainer=h,e.endOffset+=c(h)),e.startContainer===a&&(e.startOffset>v?--e.startOffset:e.startOffset===v&&(e.startContainer=h,e.startOffset=c(h))),e.endContainer===a&&(e.endOffset>v?--e.endOffset:e.endOffset===v&&(e.endContainer=h,e.endOffset=c(h))),d(b),b.nodeType===I?h.appendData(b.data):m.push(r(b));else if(b.nodeType===T){for(l=m.length;l--;)b.appendChild(m.pop());H(b,e)}}function K(a,d){if(a.nodeType===I&&(a=a.parentNode),a.nodeType===
T){var c={startContainer:d.startContainer,startOffset:d.startOffset,endContainer:d.endContainer,endOffset:d.endOffset};H(a,c);d.setStart(c.startContainer,c.startOffset);d.setEnd(c.endContainer,c.endOffset)}}function V(a,c,e,b){for(var h,l=c;(h=l.parentNode)&&h!==b&&h.nodeType===T&&1===h.childNodes.length;)l=h;d(l);h=a.childNodes.length;(b=a.lastChild)&&"BR"===b.nodeName&&(a.removeChild(b),--h);a.appendChild(r(c));e.setStart(a,h);e.collapse(!0);K(a,e);Ba&&(b=a.lastChild)&&"BR"===b.nodeName&&a.removeChild(b)}
function R(a,c){var e=a.previousSibling,h=a.firstChild;var f=a.ownerDocument;var m="LI"===a.nodeName;if(!m||h&&/^[OU]L$/.test(h.nodeName))if(e&&q(e,a)){if(!b(e)){if(!m)return;f=l(f,"DIV");f.appendChild(r(e));e.appendChild(f)}d(a);f=!b(a);e.appendChild(r(a));f&&C(e,c);h&&R(h,c)}else m&&(e=l(f,"DIV"),a.insertBefore(e,h),v(e,c))}function Va(a){this.isShiftDown=a.shiftKey}function G(a,d,c){var e,b;if(a||(a={}),d)for(e in d)!c&&e in a||(b=d[e],a[e]=b&&b.constructor===Object?G(a[e],b,c):b);return a}function L(a,
d){a.nodeType===bb&&(a=a.body);var c,e=a.ownerDocument,b=e.defaultView;this._win=b;this._doc=e;this._root=a;this._events={};this._isFocused=!1;this._lastSelection=null;D&&this.addEventListener("beforedeactivate",this.getSelection);this._hasZWS=!1;this._lastFocusNode=this._lastAnchorNode=null;this._path="";this._willUpdatePath=!1;"onselectionchange"in e?this.addEventListener("selectionchange",this._updatePathOnEvent):(this.addEventListener("keyup",this._updatePathOnEvent),this.addEventListener("mouseup",
this._updatePathOnEvent));this._undoIndex=-1;this._undoStack=[];this._undoStackLength=0;this._ignoreAllChanges=this._ignoreChange=this._isInUndoState=!1;M?(c=new MutationObserver(this._docWasChanged.bind(this)),c.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this._mutation=c):this.addEventListener("keyup",this._keyUpDetectChange);this._restoreSelection=!1;this.addEventListener("blur",ia);this.addEventListener("mousedown",Ub);this.addEventListener("touchstart",Ub);this.addEventListener("focus",
ha);this._awaitingPaste=!1;this.addEventListener(J?"beforecut":"cut",ub);this.addEventListener("copy",vc);this.addEventListener("keydown",Va);this.addEventListener("keyup",Va);this.addEventListener(J?"beforepaste":"paste",Fb);this.addEventListener("drop",wc);this.addEventListener(Ba?"keypress":"keydown",Zb);this._keyHandlers=Object.create(X);this.setConfig(d);J&&(b.Text.prototype.splitText=function(a){var d=this.ownerDocument.createTextNode(this.data.slice(a)),c=this.nextSibling,e=this.parentNode,
b=this.length-a;return c?e.insertBefore(d,c):e.appendChild(d),b&&this.deleteData(a,b),d});a.setAttribute("contenteditable","true");try{e.execCommand("enableObjectResizing",!1,"false"),e.execCommand("enableInlineTableEditing",!1,"false")}catch(tc){}a.__squire__=this;this.setHTML("")}function ia(){this._restoreSelection=!0}function Ub(){this._restoreSelection=!1}function ha(){this._restoreSelection&&this.setSelection(this._lastSelection)}function ua(a,d,c){var e;for(d=d.firstChild;d;d=e){if(e=d.nextSibling,
t(d)){if(d.nodeType===I||"BR"===d.nodeName||"IMG"===d.nodeName){c.appendChild(d);continue}}else if(w(d)){c.appendChild(a.createDefaultBlock([ua(a,d,a._doc.createDocumentFragment())]));continue}ua(a,d,c)}return c}var T=1,I=3,bb=9,Wa=11,la=1,Xa="\u200b",va=y.defaultView,wa=navigator.userAgent,Q=/Android/.test(wa),Vb=/iP(?:ad|hone|od)/.test(wa),Pa=/Mac OS X/.test(wa),Wb=/Windows NT/.test(wa),Xb=/Gecko\//.test(wa),J=/Trident\/[456]\./.test(wa),Ba=!!va.opera,Ya=/Edge\//.test(wa),Ia=!Ya&&/WebKit\//.test(wa),
U=/Trident\/[4567]\./.test(wa),ea=Pa?"meta-":"ctrl-",eb=J||Ba,tb=J||Ia,D=J,M="undefined"!=typeof MutationObserver,lb="undefined"!=typeof WeakMap,xa=/[^ \t\r\n]/,Z=Array.prototype.indexOf;Object.create||(Object.create=function(a){var d=function(){};return d.prototype=a,new d});var nb={1:1,2:2,3:4,8:128,9:256,11:1024},O=function(){return!0};A.prototype.nextNode=function(){for(var a,d=this.currentNode,c=this.root,e=this.nodeType,b=this.filter;;){for(a=d.firstChild;!a&&d&&d!==c;)(a=d.nextSibling)||(d=
d.parentNode);if(!a)return null;if(nb[a.nodeType]&e&&b(a))return this.currentNode=a,a;d=a}};A.prototype.previousNode=function(){for(var a,d=this.currentNode,c=this.root,e=this.nodeType,b=this.filter;;){if(d===c)return null;if(a=d.previousSibling)for(;d=a.lastChild;)a=d;else a=d.parentNode;if(!a)return null;if(nb[a.nodeType]&e&&b(a))return this.currentNode=a,a;d=a}};A.prototype.previousPONode=function(){for(var a,d=this.currentNode,c=this.root,e=this.nodeType,b=this.filter;;){for(a=d.lastChild;!a&&
d&&d!==c;)(a=d.previousSibling)||(d=d.parentNode);if(!a)return null;if(nb[a.nodeType]&e&&b(a))return this.currentNode=a,a;d=a}};var sc=/^(?:#text|A(?:BBR|CRONYM)?|B(?:R|D[IO])?|C(?:ITE|ODE)|D(?:ATA|EL|FN)|EM|FONT|HR|I(?:FRAME|MG|NPUT|NS)?|KBD|Q|R(?:P|T|UBY)|S(?:AMP|MALL|PAN|TR(?:IKE|ONG)|U[BP])?|TIME|U|VAR|WBR)$/,Cb={BR:1,HR:1,IFRAME:1,IMG:1,INPUT:1},qc=0,db=1,Eb=2,Yb=3,mb=lb?new WeakMap:null,vb=function(a,d){for(var c=a.childNodes;d&&a.nodeType===T;)a=c[d-1],c=a.childNodes,d=c.length;return a},Gb=
function(a,d){if(a.nodeType===T){var c=a.childNodes;if(d<c.length)a=c[d];else{for(;a&&!a.nextSibling;)a=a.parentNode;a&&(a=a.nextSibling)}}return a},Ca=function(a,d){var c,e,b,h=a.startContainer,l=a.startOffset,f=a.endContainer,r=a.endOffset;h.nodeType===I?(c=h.parentNode,e=c.childNodes,l===h.length?(l=Z.call(e,h)+1,a.collapsed&&(f=c,r=l)):(l&&(b=h.splitText(l),f===h?(r-=l,f=b):f===c&&(r+=1),h=b),l=Z.call(e,h)),h=c):e=h.childNodes;c=e.length;l===c?h.appendChild(d):h.insertBefore(d,e[l]);h===f&&(r+=
e.length-c);a.setStart(h,l);a.setEnd(f,r)},$b=function(a,c,e){var b=a.startContainer,h=a.startOffset,l=a.endContainer,f=a.endOffset;c||(c=a.commonAncestorContainer);c.nodeType===I&&(c=c.parentNode);var r,m,n,k;f=E(l,f,c,e);for(var q=E(b,h,c,e),C=c.ownerDocument.createDocumentFragment();q!==f;)l=q.nextSibling,C.appendChild(q),q=l;return b=c,h=f?Z.call(c.childNodes,f):c.childNodes.length,m=c.childNodes[h],r=m&&m.previousSibling,r&&r.nodeType===I&&m.nodeType===I&&(b=r,h=r.length,n=r.data,k=m.data," "===
n.charAt(n.length-1)&&" "===k.charAt(0)&&(k="\u00a0"+k.slice(1)),r.appendData(k),d(m)),a.setStart(b,h),a.collapse(!0),v(c,e),C},Za=function(a,d){var c,e,b=ra(a,d),h=Ja(a,d),l=b!==h;return ma(a),Ka(a,b,h,d),c=$b(a,null,d),ma(a),l&&(h=Ja(a,d),b&&h&&b!==h&&V(b,h,a,d)),b&&v(b,d),e=d.firstChild,e&&"BR"!==e.nodeName?a.collapse(!0):(v(d,d),a.selectNodeContents(d.firstChild)),c},wb=function(a,e,h){var l,r,m,q,p,H,cb,K,Q,w,I;C(e,h);for(l=e;l=k(l,h);)v(l,h);if(a.collapsed||Za(a,h),ma(a),a.collapse(!1),q=n(a.endContainer,
h,"BLOCKQUOTE")||h,r=ra(a,h),K=k(e,e),cb=!!r&&!r.textContent&&!r.querySelector("IMG"),r&&K&&!cb&&!n(K,e,"PRE")&&!n(K,e,"TABLE")){if(Ka(a,r,r,h),a.collapse(!0),p=a.endContainer,H=a.endOffset,Hb(r,h,!1),t(p)&&(Q=E(p,H,f(p,h),h),p=Q.parentNode,H=Z.call(p.childNodes,Q)),H!==c(p))for(m=h.ownerDocument.createDocumentFragment();l=p.childNodes[H];)m.appendChild(l);V(p,K,a,h);H=Z.call(p.parentNode.childNodes,p)+1;p=p.parentNode;a.setEnd(p,H)}c(e)&&(cb&&(a.setEndBefore(r),a.collapse(!1),d(r)),Ka(a,q,q,h),Q=
E(a.endContainer,a.endOffset,q,h),w=Q?Q.previousSibling:q.lastChild,q.insertBefore(e,Q),Q?a.setEndBefore(Q):a.setEnd(q,c(q)),r=Ja(a,h),ma(a),p=a.endContainer,H=a.endOffset,Q&&b(Q)&&R(Q,h),Q=w&&w.nextSibling,Q&&b(Q)&&R(Q,h),a.setEnd(p,H));m&&(I=a.cloneRange(),V(r,m,I,h),a.setEnd(I.endContainer,I.endOffset));ma(a)},sa=function(a,d,c){var e=d.ownerDocument.createRange();if(e.selectNode(d),c)return d=-1<a.compareBoundaryPoints(3,e),a=1>a.compareBoundaryPoints(1,e),!d&&!a;d=1>a.compareBoundaryPoints(0,
e);a=-1<a.compareBoundaryPoints(2,e);return d&&a},ma=function(a){for(var d,e=a.startContainer,b=a.startOffset,h=a.endContainer,l=a.endOffset,f=!0;e.nodeType!==I&&(d=e.childNodes[b])&&!x(d);)e=d,b=0;if(l)for(;h.nodeType!==I;){if(!(d=h.childNodes[l-1])||x(d)){if(f&&d&&"BR"===d.nodeName){--l;f=!1;continue}break}h=d;l=c(h)}else for(;h.nodeType!==I&&(d=h.firstChild)&&!x(d);)h=d;a.collapsed?(a.setStart(h,l),a.setEnd(e,b)):(a.setStart(e,b),a.setEnd(h,l))},Ka=function(a,d,e,b){var h=a.startContainer,l=a.startOffset,
f=a.endContainer,r=a.endOffset,v=!0;d||(d=a.commonAncestorContainer);for(e||(e=d);!l&&h!==d&&h!==b;){var m=h.parentNode;l=Z.call(m.childNodes,h);h=m}for(;v&&f.nodeType!==I&&f.childNodes[r]&&"BR"===f.childNodes[r].nodeName&&(r+=1,v=!1),f!==e&&f!==b&&r===c(f);)m=f.parentNode,r=Z.call(m.childNodes,f)+1,f=m;a.setStart(h,l);a.setEnd(f,r)},ra=function(a,d){var c,e=a.startContainer;return t(e)?c=f(e,d):e!==d&&w(e)?c=e:(c=vb(e,a.startOffset),c=k(c,d)),c&&sa(a,c,!0)?c:null},Ja=function(a,d){var c=a.endContainer;
if(t(c))var b=f(c,d);else if(c!==d&&w(c))b=c;else{if(!(b=Gb(c,a.endOffset))||!e(d,b))for(b=d;c=b.lastChild;)b=c;b=f(b,d)}return b&&sa(a,b,!0)?b:null},Ea=new A(null,4|la,function(a){return a.nodeType===I?xa.test(a.data):"IMG"===a.nodeName}),fb=function(a,d){var c=a.startContainer,b=a.startOffset;if(Ea.root=null,c.nodeType===I){if(b)return!1;var h=c}else if(h=Gb(c,b),h&&!e(d,h)&&(h=null),!h&&(h=vb(c,b),h.nodeType===I&&h.length))return!1;return Ea.currentNode=h,Ea.root=ra(a,d),!Ea.previousNode()},$a=
function(a,d){var c,e=a.endContainer,b=a.endOffset;if(Ea.root=null,e.nodeType===I){if((c=e.data.length)&&b<c)return!1;Ea.currentNode=e}else Ea.currentNode=vb(e,b);return Ea.root=Ja(a,d),!Ea.nextNode()},Ib=function(a,d){var c,e=ra(a,d);d=Ja(a,d);e&&d&&(c=e.parentNode,a.setStart(c,Z.call(c.childNodes,e)),c=d.parentNode,a.setEnd(c,Z.call(c.childNodes,d)+1))},La={8:"backspace",9:"tab",13:"enter",32:"space",33:"pageup",34:"pagedown",37:"left",39:"right",46:"delete",219:"[",221:"]"},Zb=function(a){var d=
a.keyCode,c=La[d],e="",b=this.getSelection();a.defaultPrevented||(c||(c=String.fromCharCode(d).toLowerCase(),/^[A-Za-z0-9]$/.test(c)||(c="")),Ba&&46===a.which&&(c="."),111<d&&124>d&&(c="f"+(d-111)),"backspace"!==c&&"delete"!==c&&(a.altKey&&(e+="alt-"),a.ctrlKey&&(e+="ctrl-"),a.metaKey&&(e+="meta-")),a.shiftKey&&(e+="shift-"),c=e+c,this._keyHandlers[c]?this._keyHandlers[c](this,a,b):b.collapsed||a.isComposing||a.ctrlKey||a.metaKey||1!==(a.key||c).length||(this.saveUndoState(b),Za(b,this._root),this._ensureBottomLine(),
this.setSelection(b),this._updatePath(b,!0)))},Ra=function(a){return function(d,c){c.preventDefault();d[a]()}},ta=function(a,d){return d=d||null,function(c,e){e.preventDefault();e=c.getSelection();c.hasFormat(a,null,e)?c.changeFormat(null,{tag:a},e):c.changeFormat({tag:a},d,e)}},gb=function(a,c){try{c||(c=a.getSelection());var e,b=c.startContainer;b.nodeType===I&&(b=b.parentNode);for(e=b;t(e)&&(!e.textContent||e.textContent===Xa);)b=e,e=b.parentNode;b!==e&&(c.setStart(e,Z.call(e.childNodes,b)),c.collapse(!0),
e.removeChild(b),w(e)||(e=f(e,a._root)),v(e,a._root),ma(c));b===a._root&&(b=b.firstChild)&&"BR"===b.nodeName&&d(b);a._ensureBottomLine();a.setSelection(c);a._updatePath(c,!0)}catch(Db){a.didError(Db)}},X={enter:function(a,c,e){var b,l,f,r,m,k=a._root;if(c.preventDefault(),a._recordUndoState(e),xb(e.startContainer,k,a),a._removeZWS(),a._getRangeAndRemoveBookmark(e),e.collapsed||Za(e,k),(b=ra(e,k))&&(l=n(b,k,"PRE")))return ma(e),f=e.startContainer,r=e.startOffset,f.nodeType!==I&&(f=a._doc.createTextNode(""),
l.insertBefore(f,l.firstChild)),c.shiftKey||"\n"!==f.data.charAt(r-1)&&!fb(e,k)||"\n"!==f.data.charAt(r)&&!$a(e,k)?(f.insertData(r,"\n"),v(l,k),f.length===r+1?e.setStartAfter(f):e.setStart(f,r+1)):(f.deleteData(r&&r-1,r?2:1),m=E(f,r&&r-1,k,k),f=m.previousSibling,f.textContent||d(f),f=a.createDefaultBlock(),m.parentNode.insertBefore(f,m),m.textContent||d(m),e.setStart(f,0)),e.collapse(!0),a.setSelection(e),a._updatePath(e,!0),void a._docWasChanged();if(!b||c.shiftKey||/^T[HD]$/.test(b.nodeName))return l=
n(e.endContainer,k,"A"),l&&(l=l.parentNode,Ka(e,l,l,k),e.collapse(!1)),Ca(e,a.createElement("BR")),e.collapse(!1),a.setSelection(e),void a._updatePath(e,!0);if((l=n(b,k,"LI"))&&(b=l),!b.textContent&&!b.querySelector("IMG")){if(n(b,k,"UL")||n(b,k,"OL"))return a.decreaseListLevel(e);if(n(b,k,"BLOCKQUOTE"))return a.modifyBlocks(Ma,e)}m=Jb(a,b,e.startContainer,e.startOffset);hb(b);yb(b);for(v(b,k);m.nodeType===T;){var q;c=m.firstChild;if("A"===m.nodeName&&(!m.textContent||m.textContent===Xa)){c=a._doc.createTextNode("");
h(m,c);m=c;break}for(;c&&c.nodeType===I&&!c.data&&(q=c.nextSibling)&&"BR"!==q.nodeName;)d(c),c=q;if(!c||"BR"===c.nodeName||c.nodeType===I&&!Ba)break;m=c}e=a.createRange(m,0);a.setSelection(e);a._updatePath(e,!0)},"shift-enter":function(a,d,c){return a._keyHandlers.enter(a,d,c)},backspace:function(a,c,e){var b=a._root;if(a._removeZWS(),a.saveUndoState(e),e.collapsed)if(fb(e,b)){c.preventDefault();var h=ra(e,b);if(h)if(C(h.parentNode,b),c=f(h,b)){if(!c.isContentEditable)return void d(c);V(c,h,e,b);
for(h=c.parentNode;h!==b&&!h.nextSibling;)h=h.parentNode;h!==b&&(h=h.nextSibling)&&R(h,b);a.setSelection(e)}else if(h){if(n(h,b,"UL")||n(h,b,"OL"))return a.decreaseListLevel(e);if(n(h,b,"BLOCKQUOTE"))return a.modifyBlocks(ac,e);a.setSelection(e);a._updatePath(e,!0)}}else a.setSelection(e),setTimeout(function(){gb(a)},0);else c.preventDefault(),Za(e,b),gb(a,e)},delete:function(a,c,e){var b,h,l,f,r=a._root;if(a._removeZWS(),a.saveUndoState(e),e.collapsed)if($a(e,r)){if(c.preventDefault(),c=ra(e,r))if(C(c.parentNode,
r),b=k(c,r)){if(!b.isContentEditable)return void d(b);V(c,b,e,r);for(b=c.parentNode;b!==r&&!b.nextSibling;)b=b.parentNode;b!==r&&(b=b.nextSibling)&&R(b,r);a.setSelection(e);a._updatePath(e,!0)}}else{if(b=e.cloneRange(),Ka(e,r,r,r),h=e.endContainer,l=e.endOffset,h.nodeType===T&&(f=h.childNodes[l])&&"IMG"===f.nodeName)return c.preventDefault(),d(f),ma(e),void gb(a,e);a.setSelection(b);setTimeout(function(){gb(a)},0)}else c.preventDefault(),Za(e,r),gb(a,e)},tab:function(a,d,c){var e=a._root;if(a._removeZWS(),
c.collapsed&&fb(c,e))for(e=ra(c,e);e=e.parentNode;)if("UL"===e.nodeName||"OL"===e.nodeName){d.preventDefault();a.increaseListLevel(c);break}},"shift-tab":function(a,d,c){var e,b=a._root;a._removeZWS();c.collapsed&&fb(c,b)&&(e=c.startContainer,(n(e,b,"UL")||n(e,b,"OL"))&&(d.preventDefault(),a.decreaseListLevel(c)))},space:function(a,d,e){var b;d=a._root;if(a._recordUndoState(e),xb(e.startContainer,d,a),a._getRangeAndRemoveBookmark(e),b=e.endContainer,e.collapsed&&e.endOffset===c(b)){do if("A"===b.nodeName){e.setStartAfter(b);
break}while(!b.nextSibling&&(b=b.parentNode)&&b!==d)}e.collapsed||(Za(e,d),a._ensureBottomLine(),a.setSelection(e),a._updatePath(e,!0));a.setSelection(e)},left:function(a){a._removeZWS()},right:function(a){a._removeZWS()}};Pa&&Xb&&(X["meta-left"]=function(a,d){d.preventDefault();(a=a._win.getSelection()||null)&&a.modify&&a.modify("move","backward","lineboundary")},X["meta-right"]=function(a,d){d.preventDefault();(a=a._win.getSelection()||null)&&a.modify&&a.modify("move","forward","lineboundary")});
Pa||(X.pageup=function(a){a.moveCursorToStart()},X.pagedown=function(a){a.moveCursorToEnd()});X[ea+"b"]=ta("B");X[ea+"i"]=ta("I");X[ea+"u"]=ta("U");X[ea+"shift-7"]=ta("S");X[ea+"shift-5"]=ta("SUB",{tag:"SUP"});X[ea+"shift-6"]=ta("SUP",{tag:"SUB"});X[ea+"shift-8"]=Ra("makeUnorderedList");X[ea+"shift-9"]=Ra("makeOrderedList");X[ea+"["]=Ra("decreaseQuoteLevel");X[ea+"]"]=Ra("increaseQuoteLevel");X[ea+"d"]=Ra("toggleCode");X[ea+"y"]=Ra("redo");X[ea+"z"]=Ra("undo");X[ea+"shift-z"]=Ra("redo");var Kb={1:10,
2:13,3:16,4:18,5:24,6:32,7:48},Lb={backgroundColor:{regexp:xa,replace:function(a,d,c){return l(a,"SPAN",{class:d.highlight,style:"background-color:"+c})}},color:{regexp:xa,replace:function(a,d,c){return l(a,"SPAN",{class:d.colour,style:"color:"+c})}},fontWeight:{regexp:/^bold|^700/i,replace:function(a){return l(a,"B")}},fontStyle:{regexp:/^italic/i,replace:function(a){return l(a,"I")}},fontFamily:{regexp:xa,replace:function(a,d,c){return l(a,"SPAN",{class:d.fontFamily,style:"font-family:"+c})}},fontSize:{regexp:xa,
replace:function(a,d,c){return l(a,"SPAN",{class:d.fontSize,style:"font-size:"+c})}},textDecoration:{regexp:/^underline/i,replace:function(a){return l(a,"U")}}},zb=function(a){return function(d,c){var e=l(d.ownerDocument,a);return c.replaceChild(e,d),e.appendChild(r(d)),e}},bc=function(a,d,c){var e,b,h,l,f,v=a.style,m=a.ownerDocument;for(e in Lb){var n=Lb[e];(b=v[e])&&n.regexp.test(b)&&(f=n.replace(m,c.classNames,b),l||(l=f),h&&h.appendChild(f),h=f,a.style[e]="")}return l&&(h.appendChild(r(a)),"SPAN"===
a.nodeName?d.replaceChild(l,a):a.appendChild(l)),h||a},Rc={P:bc,SPAN:bc,STRONG:zb("B"),EM:zb("I"),INS:zb("U"),STRIKE:zb("S"),FONT:function(a,d,c){var e,b,h,f,v,m=a.face,n=a.size,k=a.color,q=a.ownerDocument;c=c.classNames;return m&&(e=l(q,"SPAN",{class:c.fontFamily,style:"font-family:"+m}),v=e,f=e),n&&(b=l(q,"SPAN",{class:c.fontSize,style:"font-size:"+Kb[n]+"px"}),v||(v=b),f&&f.appendChild(b),f=b),k&&/^#?([\dA-F]{3}){1,2}$/i.test(k)&&("#"!==k.charAt(0)&&(k="#"+k),h=l(q,"SPAN",{class:c.colour,style:"color:"+
k}),v||(v=h),f&&f.appendChild(h),f=h),v||(v=f=l(q,"SPAN")),d.replaceChild(v,a),f.appendChild(r(a)),f},TT:function(a,d,c){c=l(a.ownerDocument,"SPAN",{class:c.classNames.fontFamily,style:'font-family:menlo,consolas,"courier new",monospace'});return d.replaceChild(c,a),c.appendChild(r(a)),c}},Sc=/^(?:A(?:DDRESS|RTICLE|SIDE|UDIO)|BLOCKQUOTE|CAPTION|D(?:[DLT]|IV)|F(?:IGURE|IGCAPTION|OOTER)|H[1-6]|HEADER|L(?:ABEL|EGEND|I)|O(?:L|UTPUT)|P(?:RE)?|SECTION|T(?:ABLE|BODY|D|FOOT|H|HEAD|R)|COL(?:GROUP)?|UL)$/,
Tc=/^(?:HEAD|META|STYLE)/,ob=new A(null,4|la),cc=function Db(a,d,c){var e,b,h,l,f,v,m,n,k,q,C,E=a.childNodes;for(e=a;t(e);)e=e.parentNode;ob.root=e;e=0;for(b=E.length;e<b;e+=1)if(h=E[e],l=h.nodeName,f=h.nodeType,v=Rc[l],f===T){if(m=h.childNodes.length,v)h=v(h,a,d);else{if(Tc.test(l)){a.removeChild(h);--e;--b;continue}if(!Sc.test(l)&&!t(h)){--e;b+=m-1;a.replaceChild(r(h),h);continue}}m&&Db(h,d,c||"PRE"===l)}else{if(f===I){if(q=h.data,n=!xa.test(q.charAt(0)),k=!xa.test(q.charAt(q.length-1)),c||!n&&
!k)continue;if(n){for(ob.currentNode=h;(C=ob.previousPONode())&&!("IMG"===(l=C.nodeName)||"#text"===l&&xa.test(C.data));)if(!t(C)){C=null;break}q=q.replace(/^[ \t\r\n]+/g,C?" ":"")}if(k){for(ob.currentNode=h;(C=ob.nextNode())&&!("IMG"===l||"#text"===l&&xa.test(C.data));)if(!t(C)){C=null;break}q=q.replace(/[ \t\r\n]+$/g,C?" ":"")}if(q){h.data=q;continue}}a.removeChild(h);--e;--b}return a},yb=function rc(a){for(var d,c=a.childNodes,e=c.length;e--;)d=c[e],d.nodeType!==T||x(d)?d.nodeType!==I||d.data||
a.removeChild(d):(rc(d),t(d)&&!d.firstChild&&a.removeChild(d))},Vc=function(a){return a.nodeType===T?"BR"===a.nodeName:xa.test(a.data)},fa=function(a,d){for(var c,e=a.parentNode;t(e);)e=e.parentNode;return c=new A(e,4|la,Vc),c.currentNode=a,!!c.nextNode()||d&&!c.previousNode()},Hb=function(a,c,e){var b,h;a=a.querySelectorAll("BR");var l=[],f=a.length;for(b=0;b<f;b+=1)l[b]=fa(a[b],e);for(;f--;)e=a[f],(h=e.parentNode)&&(l[f]?t(h)||C(h,c):d(e))},dc=function(a,d,c,e){var b=d.ownerDocument.body;e=e.willCutCopy;
Hb(d,c,!0);d.setAttribute("style","position:fixed;overflow:hidden;bottom:100%;right:100%;");b.appendChild(d);c=d.innerHTML;var h=d.innerText||d.textContent;e&&(c=e(c));Wb&&(h=h.replace(/\r?\n/g,"\r\n"));a.setData("text/html",c);a.setData("text/plain",h);b.removeChild(d)},ub=function(a){var d=a.clipboardData,c=this.getSelection(),e=this._root,b=this;if(c.collapsed)return void a.preventDefault();if(this.saveUndoState(c),Ya||Vb||!d)setTimeout(function(){try{b._ensureBottomLine()}catch(Qc){b.didError(Qc)}},
0);else{var h=ra(c,e);var l=Ja(c,e);l=h===l&&h||e;h=Za(c,e);var f=c.commonAncestorContainer;for(f.nodeType===I&&(f=f.parentNode);f&&f!==l;){var r=f.cloneNode(!1);r.appendChild(h);h=r;f=f.parentNode}l=this.createElement("div");l.appendChild(h);dc(d,l,e,this._config);a.preventDefault()}this.setSelection(c)},vc=function(a){var d=a.clipboardData;var c=this.getSelection();var e=this._root;if(!Ya&&!Vb&&d){var b=ra(c,e);var h=Ja(c,e);h=b===h&&b||e;c=c.cloneRange();ma(c);Ka(c,h,h,e);b=c.cloneContents();c=
c.commonAncestorContainer;for(c.nodeType===I&&(c=c.parentNode);c&&c!==h;){var l=c.cloneNode(!1);l.appendChild(b);b=l;c=c.parentNode}h=this.createElement("div");h.appendChild(b);dc(d,h,e,this._config);a.preventDefault()}},Fb=function(a){var c,e,b,h,l,f=a.clipboardData,r=f&&f.items,v=this.isShiftDown,m=!1,n=!1,k=null,q=this;if(Ya&&r){for(c=r.length;c--;)!v&&/^image\/.*/.test(r[c].type)&&(n=!0);n||(r=null)}if(r){a.preventDefault();for(c=r.length;c--;){if(e=r[c],b=e.type,!v&&"text/html"===b)return void e.getAsString(function(a){q.insertHTML(a,
!0)});"text/plain"===b&&(k=e);!v&&/^image\/.*/.test(b)&&(n=!0)}return void(n?(this.fireEvent("dragover",{dataTransfer:f,preventDefault:function(){m=!0}}),m&&this.fireEvent("drop",{dataTransfer:f})):k&&k.getAsString(function(a){q.insertPlainText(a,!0)}))}if(h=f&&f.types,!Ya&&h&&(-1<Z.call(h,"text/html")||!Xb&&-1<Z.call(h,"text/plain")&&0>Z.call(h,"text/rtf")))return a.preventDefault(),void(!v&&(l=f.getData("text/html"))?this.insertHTML(l,!0):((l=f.getData("text/plain"))||(l=f.getData("text/uri-list")))&&
this.insertPlainText(l,!0));this._awaitingPaste=!0;a=this._doc.body;c=this.getSelection();var C=c.startContainer,E=c.startOffset,p=c.endContainer,H=c.endOffset,V=this.createElement("DIV",{contenteditable:"true",style:"position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;"});a.appendChild(V);c.selectNodeContents(V);this.setSelection(c);setTimeout(function(){try{q._awaitingPaste=!1;for(var a,c,e="",b=V;V=b;)b=V.nextSibling,d(V),(a=V.firstChild)&&a===V.lastChild&&"DIV"===a.nodeName&&
(V=a),e+=V.innerHTML;c=q.createRange(C,E,p,H);q.setSelection(c);e&&q.insertHTML(e,!0)}catch(Wc){q.didError(Wc)}},0)},wc=function(a){a=a.dataTransfer.types;for(var d=a.length,c=!1,e=!1;d--;)switch(a[d]){case "text/plain":c=!0;break;case "text/html":e=!0;break;default:return}(e||c)&&this.saveUndoState()},F=L.prototype,zc=function(a,d,c){d=c._doc;return(a=a?DOMPurify.sanitize(a,{ALLOW_UNKNOWN_PROTOCOLS:!0,WHOLE_DOCUMENT:!1,RETURN_DOM:!0,RETURN_DOM_FRAGMENT:!0}):null)?d.importNode(a,!0):d.createDocumentFragment()};
F.setConfig=function(a){return a=G({blockTag:"DIV",blockAttributes:null,tagAttributes:{blockquote:null,ul:null,ol:null,li:null,a:null},classNames:{colour:"colour",fontFamily:"font",fontSize:"size",highlight:"highlight"},leafNodeNames:Cb,undo:{documentSizeThreshold:-1,undoLimit:-1},isInsertedHTMLSanitized:!0,isSetHTMLSanitized:!0,sanitizeToDOMFragment:"undefined"!=typeof DOMPurify&&DOMPurify.isSupported?zc:null,willCutCopy:null},a,!0),a.blockTag=a.blockTag.toUpperCase(),this._config=a,this};F.createElement=
function(a,d,c){return l(this._doc,a,d,c)};F.createDefaultBlock=function(a){var d=this._config;return v(this.createElement(d.blockTag,d.blockAttributes,a),this._root)};F.didError=function(a){console.log(a)};F.getDocument=function(){return this._doc};F.getRoot=function(){return this._root};F.modifyDocument=function(a){var d=this._mutation;d&&(d.takeRecords().length&&this._docWasChanged(),d.disconnect());this._ignoreAllChanges=!0;a();this._ignoreAllChanges=!1;d&&(d.observe(this._root,{childList:!0,
attributes:!0,characterData:!0,subtree:!0}),this._ignoreChange=!1)};var ec={pathChange:1,select:1,input:1,undoStateChange:1};F.fireEvent=function(a,d){var c,e=this._events[a];if(/^(?:focus|blur)/.test(a))if(c=this._root===this._doc.activeElement,"focus"===a){if(!c||this._isFocused)return this;this._isFocused=!0}else{if(c||!this._isFocused)return this;this._isFocused=!1}if(e)for(d||(d={}),d.type!==a&&(d.type=a),e=e.slice(),c=e.length;c--;){var b=e[c];try{b.handleEvent?b.handleEvent(d):b.call(this,
d)}catch(rb){rb.details="Squire: fireEvent error. Event type: "+a,this.didError(rb)}}return this};F.destroy=function(){var a,d=this._events;for(a in d)this.removeEventListener(a);this._mutation&&this._mutation.disconnect();delete this._root.__squire__;this._undoIndex=-1;this._undoStack=[];this._undoStackLength=0};F.handleEvent=function(a){this.fireEvent(a.type,a)};F.addEventListener=function(a,d){var c=this._events[a],e=this._root;return d?(c||(c=this._events[a]=[],ec[a]||("selectionchange"===a&&
(e=this._doc),e.addEventListener(a,this,!0))),c.push(d),this):(this.didError({name:"Squire: addEventListener with null or undefined fn",message:"Event type: "+a}),this)};F.removeEventListener=function(a,d){var c,e=this._events[a],b=this._root;if(e){if(d)for(c=e.length;c--;)e[c]===d&&e.splice(c,1);else e.length=0;e.length||(delete this._events[a],ec[a]||("selectionchange"===a&&(b=this._doc),b.removeEventListener(a,this,!0)))}return this};F.createRange=function(a,d,c,e){if(a instanceof this._win.Range)return a.cloneRange();
var b=this._doc.createRange();return b.setStart(a,d),c?b.setEnd(c,e):b.setEnd(a,d),b};F.getCursorPosition=function(a){if(!a&&!(a=this.getSelection())||!a.getBoundingClientRect)return null;var d,c,e=a.getBoundingClientRect();return e&&!e.top&&(this._ignoreChange=!0,d=this._doc.createElement("SPAN"),d.textContent=Xa,Ca(a,d),e=d.getBoundingClientRect(),c=d.parentNode,c.removeChild(d),K(c,a)),e};F._moveCursorTo=function(a){var d=this._root;a=this.createRange(d,a?0:d.childNodes.length);return ma(a),this.setSelection(a),
this};F.moveCursorToStart=function(){return this._moveCursorTo(!0)};F.moveCursorToEnd=function(){return this._moveCursorTo(!1)};F.setSelection=function(a){if(a)if(this._lastSelection=a,this._isFocused)if(Q&&!this._restoreSelection)this._restoreSelection=!0,this.blur(),this.focus();else{Vb&&this._win.focus();var d=this._win.getSelection()||null;d&&(d.removeAllRanges(),d.addRange(a))}else this._restoreSelection=!0;return this};F.getSelection=function(){var a,d,c,b,h=this._win.getSelection()||null,l=
this._root;return this._isFocused&&h&&h.rangeCount&&(a=h.getRangeAt(0).cloneRange(),d=a.startContainer,c=a.endContainer,d&&x(d)&&a.setStartBefore(d),c&&x(c)&&a.setEndBefore(c)),a&&e(l,a.commonAncestorContainer)?this._lastSelection=a:(a=this._lastSelection,b=a.commonAncestorContainer,e(b.ownerDocument,b)||(a=null)),a||(a=this.createRange(l.firstChild,0)),a};F.getSelectedText=function(){var a=this.getSelection();if(!a||a.collapsed)return"";var d,c=new A(a.commonAncestorContainer,4|la,function(d){return sa(a,
d,!0)}),e=a.startContainer,b=a.endContainer,h=c.currentNode=e,l="",f=!1;for(c.filter(h)||(h=c.nextNode());h;)h.nodeType===I?(d=h.data)&&/\S/.test(d)&&(h===b&&(d=d.slice(0,a.endOffset)),h===e&&(d=d.slice(a.startOffset)),l+=d,f=!0):("BR"===h.nodeName||f&&!t(h))&&(l+="\n",f=!1),h=c.nextNode();return l};F.getPath=function(){return this._path};var hb=function(a,d){for(var e,b=new A(a,4);a=b.nextNode();)for(;-1<(e=a.data.indexOf(Xa))&&(!d||a.parentNode!==d);){if(1===a.length){do e=a.parentNode,e.removeChild(a),
a=e,b.currentNode=e;while(t(a)&&!c(a));break}a.deleteData(e,1)}};F._didAddZWS=function(){this._hasZWS=!0};F._removeZWS=function(){this._hasZWS&&(hb(this._root),this._hasZWS=!1)};F._updatePath=function(d,c){if(d){var e,b=d.startContainer,h=d.endContainer;(c||b!==this._lastAnchorNode||h!==this._lastFocusNode)&&(this._lastAnchorNode=b,this._lastFocusNode=h,e=b&&h?b===h?a(h,this._root,this._config):"(selection)":"",this._path!==e&&(this._path=e,this.fireEvent("pathChange",{path:e})));this.fireEvent(d.collapsed?
"cursor":"select",{range:d})}};F._updatePathOnEvent=function(a){var d=this;d._isFocused&&!d._willUpdatePath&&(d._willUpdatePath=!0,setTimeout(function(){d._willUpdatePath=!1;d._updatePath(d.getSelection())},0))};F.focus=function(){return this._root.focus(),U&&this.fireEvent("focus"),this};F.blur=function(){return this._root.blur(),U&&this.fireEvent("blur"),this};F._saveRangeToBookmark=function(a){var d,c=this.createElement("INPUT",{id:"squire-selection-start",type:"hidden"}),e=this.createElement("INPUT",
{id:"squire-selection-end",type:"hidden"});Ca(a,c);a.collapse(!1);Ca(a,e);2&c.compareDocumentPosition(e)&&(c.id="squire-selection-end",e.id="squire-selection-start",d=c,c=e,e=d);a.setStartAfter(c);a.setEndBefore(e)};F._getRangeAndRemoveBookmark=function(a){var c=this._root,e=c.querySelector("#squire-selection-start");c=c.querySelector("#squire-selection-end");if(e&&c){var b=e.parentNode,h=c.parentNode,l=Z.call(b.childNodes,e),f=Z.call(h.childNodes,c);b===h&&--f;d(e);d(c);a||(a=this._doc.createRange());
a.setStart(b,l);a.setEnd(h,f);K(b,a);b!==h&&K(h,a);a.collapsed&&(b=a.startContainer,b.nodeType===I&&(h=b.childNodes[a.startOffset],h&&h.nodeType===I||(h=b.childNodes[a.startOffset-1]),h&&h.nodeType===I&&(a.setStart(h,0),a.collapse(!0))))}return a||null};F._keyUpDetectChange=function(a){var d=a.keyCode;a.ctrlKey||a.metaKey||a.altKey||!(16>d||20<d)||!(33>d||45<d)||this._docWasChanged()};F._docWasChanged=function(){if(lb&&(mb=new WeakMap),!this._ignoreAllChanges){if(M&&this._ignoreChange)return void(this._ignoreChange=
!1);this._isInUndoState&&(this._isInUndoState=!1,this.fireEvent("undoStateChange",{canUndo:!0,canRedo:!1}));this.fireEvent("input")}};F._recordUndoState=function(a,d){if(!this._isInUndoState||d){var c=this._undoIndex,e=this._undoStack,b=this._config.undo,h=b.documentSizeThreshold;b=b.undoLimit;d||(c+=1);c<this._undoStackLength&&(e.length=this._undoStackLength=c);a&&this._saveRangeToBookmark(a);a=this._getHTML();-1<h&&2*a.length>h&&-1<b&&c>b&&(e.splice(0,c-b),c=b,this._undoStackLength=b);e[c]=a;this._undoIndex=
c;this._undoStackLength+=1;this._isInUndoState=!0}};F.saveUndoState=function(a){return a===B&&(a=this.getSelection()),this._recordUndoState(a,this._isInUndoState),this._getRangeAndRemoveBookmark(a),this};F.undo=function(){if(0!==this._undoIndex||!this._isInUndoState){this._recordUndoState(this.getSelection(),!1);--this._undoIndex;this._setHTML(this._undoStack[this._undoIndex]);var a=this._getRangeAndRemoveBookmark();a&&this.setSelection(a);this._isInUndoState=!0;this.fireEvent("undoStateChange",{canUndo:0!==
this._undoIndex,canRedo:!0});this.fireEvent("input")}return this};F.redo=function(){var a=this._undoIndex,d=this._undoStackLength;if(a+1<d&&this._isInUndoState){this._undoIndex+=1;this._setHTML(this._undoStack[this._undoIndex]);var c=this._getRangeAndRemoveBookmark();c&&this.setSelection(c);this.fireEvent("undoStateChange",{canUndo:!0,canRedo:a+2<d});this.fireEvent("input")}return this};F.hasFormat=function(a,d,c){if(a=a.toUpperCase(),d||(d={}),!c&&!(c=this.getSelection()))return!1;!c.collapsed&&
c.startContainer.nodeType===I&&c.startOffset===c.startContainer.length&&c.startContainer.nextSibling&&c.setStartBefore(c.startContainer.nextSibling);!c.collapsed&&c.endContainer.nodeType===I&&0===c.endOffset&&c.endContainer.previousSibling&&c.setEndAfter(c.endContainer.previousSibling);var e,b=this._root;var h=c.commonAncestorContainer;if(n(h,b,a,d))return!0;if(h.nodeType===I)return!1;h=new A(h,4,function(a){return sa(c,a,!0)});for(var l=!1;e=h.nextNode();){if(!n(e,b,a,d))return!1;l=!0}return l};
F.getFontInfo=function(a){var d,c,e,b={color:B,backgroundColor:B,family:B,size:B},h=0;if(!a&&!(a=this.getSelection()))return b;if(d=a.commonAncestorContainer,a.collapsed||d.nodeType===I)for(d.nodeType===I&&(d=d.parentNode);4>h&&d;)(c=d.style)&&(!b.color&&(e=c.color)&&(b.color=e,h+=1),!b.backgroundColor&&(e=c.backgroundColor)&&(b.backgroundColor=e,h+=1),!b.family&&(e=c.fontFamily)&&(b.family=e,h+=1),!b.size&&(e=c.fontSize)&&(b.size=e,h+=1)),d=d.parentNode;return b};F._addFormat=function(a,d,c){var e,
b,l,f,r,m=this._root;if(c.collapsed){var k=v(this.createElement(a,d),m);Ca(c,k);c.setStart(k.firstChild,k.firstChild.length);c.collapse(!0);for(a=k;t(a);)a=a.parentNode;hb(a,k)}else{if(e=new A(c.commonAncestorContainer,4|la,function(a){return(a.nodeType===I||"BR"===a.nodeName||"IMG"===a.nodeName)&&sa(c,a,!0)}),b=c.startContainer,f=c.startOffset,l=c.endContainer,r=c.endOffset,e.currentNode=b,e.filter(b)||(b=e.nextNode(),f=0),!b)return c;do{var q=e.currentNode;!n(q,m,a,d)&&(q===l&&q.length>r&&q.splitText(r),
q===b&&f&&(q=q.splitText(f),l===b&&(l=q,r-=f),b=q,f=0),k=this.createElement(a,d),h(q,k),k.appendChild(q))}while(e.nextNode());l.nodeType!==I&&(q.nodeType===I?(l=q,r=q.length):(l=q.parentNode,r=1));c=this.createRange(b,f,l,r)}return c};F._removeFormat=function(a,d,c,e){this._saveRangeToBookmark(c);var b,l=this._doc;c.collapsed&&(tb?(b=l.createTextNode(Xa),this._didAddZWS()):b=l.createTextNode(""),Ca(c,b));for(l=c.commonAncestorContainer;t(l);)l=l.parentNode;var f=c.startContainer,v=c.startOffset,n=
c.endContainer,k=c.endOffset,q=[],C=function(a,d){if(!sa(c,a,!1)){var e=a.nodeType===I;if(!sa(c,a,!0))return void("INPUT"===a.nodeName||e&&!a.data||q.push([d,a]));if(e)a===n&&k!==a.length&&q.push([d,a.splitText(k)]),a===f&&v&&(a.splitText(v),q.push([d,a]));else for(a=a.firstChild;a;a=e)e=a.nextSibling,C(a,d)}},E=Array.prototype.filter.call(l.getElementsByTagName(a),function(e){return sa(c,e,!0)&&m(e,a,d)});return e||E.forEach(function(a){C(a,a)}),q.forEach(function(a){var d=a[0].cloneNode(!1);a=a[1];
h(a,d);d.appendChild(a)}),E.forEach(function(a){h(a,r(a))}),this._getRangeAndRemoveBookmark(c),b&&c.collapse(!1),K(l,c),c};F.changeFormat=function(a,d,c,e){return c||(c=this.getSelection())?(this.saveUndoState(c),d&&(c=this._removeFormat(d.tag.toUpperCase(),d.attributes||{},c,e)),a&&(c=this._addFormat(a.tag.toUpperCase(),a.attributes||{},c)),this.setSelection(c),this._updatePath(c,!0),M||this._docWasChanged(),this):this};var Sa={DT:"DD",DD:"DT",LI:"LI",PRE:"PRE"},Jb=function(a,c,d,e){var b=Sa[c.nodeName],
f=null;d=E(d,e,c.parentNode,a._root);a=a._config;return b||(b=a.blockTag,f=a.blockAttributes),m(d,b,f)||(c=l(d.ownerDocument,b,f),d.dir&&(c.dir=d.dir),h(d,c),c.appendChild(r(d)),d=c),d};F.forEachBlock=function(a,d,c){if(!c&&!(c=this.getSelection()))return this;d&&this.saveUndoState(c);var e=this._root,b=ra(c,e),h=Ja(c,e);if(b&&h){do if(a(b)||b===h)break;while(b=k(b,e))}return d&&(this.setSelection(c),this._updatePath(c,!0),M||this._docWasChanged()),this};F.modifyBlocks=function(a,c){if(!c&&!(c=this.getSelection()))return this;
this._recordUndoState(c,this._isInUndoState);var d,e=this._root;return Ib(c,e),Ka(c,e,e,e),d=$b(c,e,e),Ca(c,a.call(this,d)),c.endOffset<c.endContainer.childNodes.length&&R(c.endContainer.childNodes[c.endOffset],e),R(c.startContainer.childNodes[c.startOffset],e),this._getRangeAndRemoveBookmark(c),this.setSelection(c),this._updatePath(c,!0),M||this._docWasChanged(),this};var ac=function(a){var c=this._root,d=a.querySelectorAll("blockquote");return Array.prototype.filter.call(d,function(a){return!n(a.parentNode,
c,"BLOCKQUOTE")}).forEach(function(a){h(a,r(a))}),a},Ma=function(){return this.createDefaultBlock([this.createElement("INPUT",{id:"squire-selection-start",type:"hidden"}),this.createElement("INPUT",{id:"squire-selection-end",type:"hidden"})])},ab=function(a,c,e){var b,l,f;c=p(c,a._root);var v=a._config.tagAttributes;for(var m=v[e.toLowerCase()],n=v.li;v=c.nextNode();)"LI"===v.parentNode.nodeName&&(v=v.parentNode,c.currentNode=v.lastChild),"LI"!==v.nodeName?(f=a.createElement("LI",n),v.dir&&(f.dir=
v.dir),(l=v.previousSibling)&&l.nodeName===e?(l.appendChild(f),d(v)):h(v,a.createElement(e,m,[f])),f.appendChild(r(v)),c.currentNode=f):(v=v.parentNode,(b=v.nodeName)!==e&&/^[OU]L$/.test(b)&&h(v,a.createElement(e,m,[r(v)])))},Mb=function(a,c){for(var d=a.commonAncestorContainer,e=a.startContainer,b=a.endContainer;d&&d!==c&&!/^[OU]L$/.test(d.nodeName);)d=d.parentNode;if(!d||d===c)return null;e===d&&(e=e.childNodes[a.startOffset]);for(b===d&&(b=b.childNodes[a.endOffset]);e&&e.parentNode!==d;)e=e.parentNode;
for(;b&&b.parentNode!==d;)b=b.parentNode;return[d,e,b]};F.increaseListLevel=function(a){if(!a&&!(a=this.getSelection()))return this.focus();var c=this._root,d=Mb(a,c);if(!d)return this.focus();var e=d[0],b=d[1];d=d[2];if(!b||b===e.firstChild)return this.focus();this._recordUndoState(a,this._isInUndoState);var h,l=e.nodeName,f=b.previousSibling;f.nodeName!==l&&(h=this._config.tagAttributes[l.toLowerCase()],f=this.createElement(l,h),e.insertBefore(f,b));do e=b===d?null:b.nextSibling,f.appendChild(b);
while(b=e);return e=f.nextSibling,e&&R(e,c),this._getRangeAndRemoveBookmark(a),this.setSelection(a),this._updatePath(a,!0),M||this._docWasChanged(),this.focus()};F.decreaseListLevel=function(a){if(!a&&!(a=this.getSelection()))return this.focus();var c=this._root,e=Mb(a,c);if(!e)return this.focus();var b=e[0],h=e[1];e=e[2];h||(h=b.firstChild);e||(e=b.lastChild);this._recordUndoState(a,this._isInUndoState);var l=b.parentNode,f=e.nextSibling?E(b,e.nextSibling,l,c):b.nextSibling;if(l!==c&&"LI"===l.nodeName){for(l=
l.parentNode;f;){var v=f.nextSibling;e.appendChild(f);f=v}f=b.parentNode.nextSibling}var m=!/^[OU]L$/.test(l.nodeName);do v=h===e?null:h.nextSibling,b.removeChild(h),m&&"LI"===h.nodeName&&(h=this.createDefaultBlock([r(h)])),l.insertBefore(h,f);while(h=v);return b.firstChild||d(b),f&&R(f,c),this._getRangeAndRemoveBookmark(a),this.setSelection(a),this._updatePath(a,!0),M||this._docWasChanged(),this.focus()};F._ensureBottomLine=function(){var a=this._root,c=a.lastElementChild;c&&c.nodeName===this._config.blockTag&&
w(c)||a.appendChild(this.createDefaultBlock())};F.setKeyHandler=function(a,c){return this._keyHandlers[a]=c,this};F._getHTML=function(){return this._root.innerHTML};F._setHTML=function(a){var c=this._root,d=c;d.innerHTML=a;do v(d,c);while(d=k(d,c));this._ignoreChange=!0};F.getHTML=function(a){var c,e,b,h=[];if(a&&(b=this.getSelection())&&this._saveRangeToBookmark(b),eb)for(c=a=this._root;c=k(c,a);)c.textContent||c.querySelector("BR")||(e=this.createElement("BR"),c.appendChild(e),h.push(e));if(e=this._getHTML().replace(/\u200B/g,
""),eb)for(a=h.length;a--;)d(h[a]);return b&&this._getRangeAndRemoveBookmark(b),e};F.setHTML=function(a){var c,d,e=this._config,b=e.isSetHTMLSanitized?e.sanitizeToDOMFragment:null,h=this._root;"function"==typeof b?d=b(a,!1,this):(c=this.createElement("DIV"),c.innerHTML=a,d=this._doc.createDocumentFragment(),d.appendChild(r(c)));cc(d,e);Hb(d,h,!1);C(d,h);for(a=d;a=k(a,h);)v(a,h);for(this._ignoreChange=!0;a=h.lastChild;)h.removeChild(a);h.appendChild(d);v(h,h);this._undoIndex=-1;this._undoStackLength=
this._undoStack.length=0;this._isInUndoState=!1;d=this._getRangeAndRemoveBookmark()||this.createRange(h.firstChild,0);this.saveUndoState(d);this._lastSelection=d;this._restoreSelection=!0;return this._updatePath(d,!0),this};F.insertElement=function(a,c){if(c||(c=this.getSelection()),c.collapse(!0),t(a))Ca(c,a),c.setStartAfter(a);else{for(var d,e,b=this._root,h=ra(c,b)||b;h!==b&&!h.nextSibling;)h=h.parentNode;h!==b&&(d=h.parentNode,e=E(d,h.nextSibling,b,b));e?b.insertBefore(a,e):(b.appendChild(a),
e=this.createDefaultBlock(),b.appendChild(e));c.setStart(e,0);c.setEnd(e,0);ma(c)}return this.focus(),this.setSelection(c),this._updatePath(c),M||this._docWasChanged(),this};F.insertImage=function(a,c){a=this.createElement("IMG",G({src:a},c,!0));return this.insertElement(a),a};F.linkRegExp=/\b((?:(?:ht|f)tps?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,}\/)(?:[^\s()<>]+|\([^\s()<>]+\))+(?:\((?:[^\s()<>]+|(?:\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))|([\w\-.%+]+@(?:[\w\-]+\.)+[A-Z]{2,}\b)(?:\?[^&?\s]+=[^&?\s]+(?:&[^&?\s]+=[^&?\s]+)*)?/i;
var xb=function(a,c,d){var e,b,h,l=a.ownerDocument,f=new A(a,4,function(a){return!n(a,c,"A")}),r=d.linkRegExp,v=d._config.tagAttributes.a;if(r)for(;a=f.nextNode();){var m=a.data;for(e=a.parentNode;b=r.exec(m);){var k=b.index;var q=k+b[0].length;k&&(h=l.createTextNode(m.slice(0,k)),e.insertBefore(h,a));h=d.createElement("A",G({href:b[1]?/^(?:ht|f)tps?:/i.test(b[1])?b[1]:"http://"+b[1]:"mailto:"+b[0]},v,!1));h.textContent=m.slice(k,q);e.insertBefore(h,a);a.data=m=m.slice(q)}}};F.insertHTML=function(a,
c){var d,e,b,h,l=this._config,f=l.isInsertedHTMLSanitized?l.sanitizeToDOMFragment:null,m=this.getSelection(),n=this._doc;"function"==typeof f?h=f(a,c,this):(c&&(d=a.indexOf("\x3c!--StartFragment--\x3e"),e=a.lastIndexOf("\x3c!--EndFragment--\x3e"),-1<d&&-1<e&&(a=a.slice(d+20,e))),/<\/td>((?!<\/tr>)[\s\S])*$/i.test(a)&&(a="<TR>"+a+"</TR>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(a)&&(a="<TABLE>"+a+"</TABLE>"),b=this.createElement("DIV"),b.innerHTML=a,h=n.createDocumentFragment(),h.appendChild(r(b)));
this.saveUndoState(m);try{var q=this._root;var C=h;var E={fragment:h,preventDefault:function(){this.defaultPrevented=!0},defaultPrevented:!1};xb(h,h,this);cc(h,l);Hb(h,q,!1);yb(h);for(h.normalize();C=k(C,h);)v(C,q);c&&this.fireEvent("willPaste",E);E.defaultPrevented||(wb(m,E.fragment,q),M||this._docWasChanged(),m.collapse(!1),this._ensureBottomLine());this.setSelection(m);this._updatePath(m,!0);c&&this.focus()}catch(Uc){this.didError(Uc)}return this};var Nb=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")};
F.insertPlainText=function(a,c){var d=this.getSelection();if(d.collapsed&&n(d.startContainer,this._root,"PRE")){var e,b,h=d.startContainer,l=d.startOffset;return h&&h.nodeType===I||(e=this._doc.createTextNode(""),h.insertBefore(e,h.childNodes[l]),h=e,l=0),b={text:a,preventDefault:function(){this.defaultPrevented=!0},defaultPrevented:!1},c&&this.fireEvent("willPaste",b),b.defaultPrevented||(a=b.text,h.insertData(l,a),d.setStart(h,l+a.length),d.collapse(!0)),this.setSelection(d),this}a=a.split("\n");
d=this._config;e=d.blockTag;b=d.blockAttributes;d="</"+e+">";e="<"+e;for(h in b)e+=" "+h+'="'+Nb(b[h])+'"';e+=">";h=0;for(b=a.length;h<b;h+=1)l=a[h],l=Nb(l).replace(/ (?= )/g,"&nbsp;"),a[h]=e+(l||"<BR>")+d;return this.insertHTML(a.join(""),c)};var ba=function(a,c,d){return function(){return this[a](c,d),this.focus()}};F.addStyles=function(a){if(a){var c=this._doc.documentElement.firstChild,d=this.createElement("STYLE",{type:"text/css"});d.appendChild(this._doc.createTextNode(a));c.appendChild(d)}return this};
F.bold=ba("changeFormat",{tag:"B"});F.italic=ba("changeFormat",{tag:"I"});F.underline=ba("changeFormat",{tag:"U"});F.strikethrough=ba("changeFormat",{tag:"S"});F.subscript=ba("changeFormat",{tag:"SUB"},{tag:"SUP"});F.superscript=ba("changeFormat",{tag:"SUP"},{tag:"SUB"});F.removeBold=ba("changeFormat",null,{tag:"B"});F.removeItalic=ba("changeFormat",null,{tag:"I"});F.removeUnderline=ba("changeFormat",null,{tag:"U"});F.removeStrikethrough=ba("changeFormat",null,{tag:"S"});F.removeSubscript=ba("changeFormat",
null,{tag:"SUB"});F.removeSuperscript=ba("changeFormat",null,{tag:"SUP"});F.makeLink=function(a,c){var d=this.getSelection();if(d.collapsed){var e=a.indexOf(":")+1;if(e)for(;"/"===a[e];)e+=1;Ca(d,this._doc.createTextNode(a.slice(e)))}return c=G(G({href:a},c,!0),this._config.tagAttributes.a,!1),this.changeFormat({tag:"A",attributes:c},{tag:"A"},d),this.focus()};F.removeLink=function(){return this.changeFormat(null,{tag:"A"},this.getSelection(),!0),this.focus()};F.setFontFace=function(a){var c=this._config.classNames.fontFamily;
return this.changeFormat(a?{tag:"SPAN",attributes:{class:c,style:"font-family: "+a+", sans-serif;"}}:null,{tag:"SPAN",attributes:{class:c}}),this.focus()};F.setFontSize=function(a){var c=this._config.classNames.fontSize;return this.changeFormat(a?{tag:"SPAN",attributes:{class:c,style:"font-size: "+("number"==typeof a?a+"px":a)}}:null,{tag:"SPAN",attributes:{class:c}}),this.focus()};F.setTextColour=function(a){var c=this._config.classNames.colour;return this.changeFormat(a?{tag:"SPAN",attributes:{class:c,
style:"color:"+a}}:null,{tag:"SPAN",attributes:{class:c}}),this.focus()};F.setHighlightColour=function(a){var c=this._config.classNames.highlight;return this.changeFormat(a?{tag:"SPAN",attributes:{class:c,style:"background-color:"+a}}:a,{tag:"SPAN",attributes:{class:c}}),this.focus()};F.setTextAlignment=function(a){return this.forEachBlock(function(c){var d=c.className.split(/\s+/).filter(function(a){return!!a&&!/^align/.test(a)}).join(" ");a?(c.className=d+" align-"+a,c.style.textAlign=a):(c.className=
d,c.style.textAlign="")},!0),this.focus()};F.setTextDirection=function(a){return this.forEachBlock(function(c){a?c.dir=a:c.removeAttribute("dir")},!0),this.focus()};var Fa=function(a){for(var c=this._root,e=this._doc,b=e.createDocumentFragment(),l=p(a,c);a=l.nextNode();){var f,m=a.querySelectorAll("BR"),n=[],k=m.length;for(f=0;f<k;f+=1)n[f]=fa(m[f],!1);for(;k--;)f=m[k],n[k]?h(f,e.createTextNode("\n")):d(f);m=a.querySelectorAll("CODE");for(k=m.length;k--;)d(m[k]);b.childNodes.length&&b.appendChild(e.createTextNode("\n"));
b.appendChild(r(a))}for(l=new A(b,4);a=l.nextNode();)a.data=a.data.replace(/\u00a0/g," ");return b.normalize(),v(this.createElement("PRE",this._config.tagAttributes.pre,[b]),c)},Ac=function(a){for(var c,d,e,b,l,f,v=this._doc,m=this._root,n=a.querySelectorAll("PRE"),k=n.length;k--;){c=n[k];for(d=new A(c,4);e=d.nextNode();){b=e.data;b=b.replace(/ (?= )/g,"\u00a0");for(l=v.createDocumentFragment();-1<(f=b.indexOf("\n"));)l.appendChild(v.createTextNode(b.slice(0,f))),l.appendChild(v.createElement("BR")),
b=b.slice(f+1);e.parentNode.insertBefore(l,e);e.data=b}C(c,m);h(c,r(c))}return a};F.code=function(){var a=this.getSelection();return a.collapsed||b(a.commonAncestorContainer)?this.modifyBlocks(Fa,a):this.changeFormat({tag:"CODE",attributes:this._config.tagAttributes.code},null,a),this.focus()};F.removeCode=function(){var a=this.getSelection();return n(a.commonAncestorContainer,this._root,"PRE")?this.modifyBlocks(Ac,a):this.changeFormat(null,{tag:"CODE"},a),this.focus()};F.toggleCode=function(){return this.hasFormat("PRE")||
this.hasFormat("CODE")?this.removeCode():this.code(),this};F.removeAllFormatting=function(a){if(!a&&!(a=this.getSelection())||a.collapsed)return this;for(var c=this._root,d=a.commonAncestorContainer;d&&!w(d);)d=d.parentNode;if(d||(Ib(a,c),d=c),d.nodeType===I)return this;this.saveUndoState(a);Ka(a,d,d,c);var e,b=d.ownerDocument,h=a.startContainer,l=a.startOffset,f=a.endContainer,r=a.endOffset,v=b.createDocumentFragment();b=b.createDocumentFragment();f=E(f,r,d,c);for(c=E(h,l,d,c);c!==f;){var m=c.nextSibling;
v.appendChild(c);c=m}return ua(this,v,b),b.normalize(),c=b.firstChild,m=b.lastChild,e=d.childNodes,c?(d.insertBefore(b,f),l=Z.call(e,c),r=Z.call(e,m)+1):(l=Z.call(e,f),r=l),a.setStart(d,l),a.setEnd(d,r),K(d,a),ma(a),this.setSelection(a),this._updatePath(a,!0),this.focus()};F.increaseQuoteLevel=ba("modifyBlocks",function(a){return this.createElement("BLOCKQUOTE",this._config.tagAttributes.blockquote,[a])});F.decreaseQuoteLevel=ba("modifyBlocks",ac);F.makeUnorderedList=ba("modifyBlocks",function(a){return ab(this,
a,"UL"),a});F.makeOrderedList=ba("modifyBlocks",function(a){return ab(this,a,"OL"),a});F.removeList=ba("modifyBlocks",function(a){var c,d=a.querySelectorAll("UL, OL"),e=a.querySelectorAll("LI"),b=this._root;var l=0;for(c=d.length;l<c;l+=1){var f=d[l];var v=r(f);C(v,b);h(f,v)}l=0;for(c=e.length;l<c;l+=1)f=e[l],w(f)?h(f,this.createDefaultBlock([r(f)])):(C(f,b),h(f,r(f)));return a});L.isInline=t;L.isBlock=w;L.isContainer=b;L.getBlockWalker=p;L.getPreviousBlock=f;L.getNextBlock=k;L.areAlike=q;L.hasTagAttributes=
m;L.getNearest=n;L.isOrContains=e;L.detach=d;L.replaceWith=h;L.empty=r;L.getNodeBefore=vb;L.getNodeAfter=Gb;L.insertNodeInRange=Ca;L.extractContentsOfRange=$b;L.deleteContentsOfRange=Za;L.insertTreeFragmentIntoRange=wb;L.isNodeContainedInRange=sa;L.moveRangeBoundariesDownTree=ma;L.moveRangeBoundariesUpTree=Ka;L.getStartBlockOfRange=ra;L.getEndBlockOfRange=Ja;L.contentWalker=Ea;L.rangeDoesStartAtBlockBoundary=fb;L.rangeDoesEndAtBlockBoundary=$a;L.expandRangeToBlockBoundaries=Ib;L.onPaste=Fb;L.addLinks=
xb;L.splitBlock=Jb;L.startSelectionId="squire-selection-start";L.endSelectionId="squire-selection-end";"object"==typeof exports?module.exports=L:"function"==typeof define&&define.amd?define(function(){return L}):(va.Squire=L,top!==va&&"true"===y.documentElement.getAttribute("data-squireinit")&&(va.editor=new L(y),va.onEditorLoad&&(va.onEditorLoad(va.editor),va.onEditorLoad=null)))}(document);(function(y,B){"object"===typeof exports&&"undefined"!==typeof module?module.exports=B():"function"===typeof define&&define.amd?define(B):y.CodeMirror=B()})(this,function(){function y(g){return new RegExp("(^|\\s)"+g+"(?:$|\\s)\\s*")}function B(g){for(var a=g.childNodes.length;0<a;--a)g.removeChild(g.firstChild);return g}function A(g,a){return B(g).appendChild(a)}function x(g,a,c,d){g=document.createElement(g);c&&(g.className=c);d&&(g.style.cssText=d);if("string"==typeof a)g.appendChild(document.createTextNode(a));
else if(a)for(c=0;c<a.length;++c)g.appendChild(a[c]);return g}function z(g,a,c,d){g=x(g,a,c,d);g.setAttribute("role","presentation");return g}function t(g,a){3==a.nodeType&&(a=a.parentNode);if(g.contains)return g.contains(a);do if(11==a.nodeType&&(a=a.host),a==g)return!0;while(a=a.parentNode)}function w(){try{var g=document.activeElement}catch(u){g=document.body||null}for(;g&&g.shadowRoot&&g.shadowRoot.activeElement;)g=g.shadowRoot.activeElement;return g}function b(g,a){var u=g.className;y(a).test(u)||
(g.className+=(u?" ":"")+a)}function p(g,a){g=g.split(" ");for(var u=0;u<g.length;u++)g[u]&&!y(g[u]).test(a)&&(a+=" "+g[u]);return a}function f(g){var a=Array.prototype.slice.call(arguments,1);return function(){return g.apply(null,a)}}function k(g,a,c){a||(a={});for(var u in g)!g.hasOwnProperty(u)||!1===c&&a.hasOwnProperty(u)||(a[u]=g[u]);return a}function q(g,a,c,d,e){null==a&&(a=g.search(/[^\s\u00a0]/),-1==a&&(a=g.length));d=d||0;for(e=e||0;;){var u=g.indexOf("\t",d);if(0>u||u>=a)return e+(a-d);
e+=u-d;e+=c-e%c;d=u+1}}function m(g,a){for(var u=0;u<g.length;++u)if(g[u]==a)return u;return-1}function n(g,a,c){for(var u=0,d=0;;){var e=g.indexOf("\t",u);-1==e&&(e=g.length);var b=e-u;if(e==g.length||d+b>=a)return u+Math.min(b,a-d);d+=e-u;d+=c-d%c;u=e+1;if(d>=a)return u}}function e(g){for(;Ed.length<=g;)Ed.push(a(Ed)+" ");return Ed[g]}function a(g){return g[g.length-1]}function c(g,a){for(var u=[],c=0;c<g.length;c++)u[c]=a(g[c],c);return u}function d(g,a,c){for(var u=0,d=c(a);u<g.length&&c(g[u])<=
d;)u++;g.splice(u,0,a)}function h(){}function r(g,a){Object.create?g=Object.create(g):(h.prototype=g,g=new h);a&&k(a,g);return g}function l(g){return/\w/.test(g)||"\u0080"<g&&(g.toUpperCase()!=g.toLowerCase()||lg.test(g))}function v(g,a){return a?-1<a.source.indexOf("\\w")&&l(g)?!0:a.test(g):l(g)}function C(g){for(var a in g)if(g.hasOwnProperty(a)&&g[a])return!1;return!0}function E(g){return 768<=g.charCodeAt(0)&&mg.test(g)}function H(g,a,c){for(;(0>c?0<a:a<g.length)&&E(g.charAt(a));)a+=c;return a}
function K(g,a,c){for(var u=a>c?-1:1;;){if(a==c)return a;var d=(a+c)/2;d=0>u?Math.ceil(d):Math.floor(d);if(d==a)return g(d)?a:c;g(d)?c=d:a=d+u}}function V(g,a,c,d){if(!g)return d(a,c,"ltr",0);for(var u=!1,e=0;e<g.length;++e){var b=g[e];if(b.from<c&&b.to>a||a==c&&b.to==a)d(Math.max(b.from,a),Math.min(b.to,c),1==b.level?"rtl":"ltr",e),u=!0}u||d(a,c,"ltr")}function R(g,a,c){var u;Xc=null;for(var d=0;d<g.length;++d){var e=g[d];if(e.from<a&&e.to>a)return d;e.to==a&&(e.from!=e.to&&"before"==c?u=d:Xc=d);
e.from==a&&(e.from!=e.to&&"before"!=c?u=d:Xc=d)}return null!=u?u:Xc}function Va(g,a){var u=g.order;null==u&&(u=g.order=ng(g.text,a));return u}function G(g,a,c){if(g.removeEventListener)g.removeEventListener(a,c,!1);else if(g.detachEvent)g.detachEvent("on"+a,c);else{var u=(g=g._handlers)&&g[a];u&&(c=m(u,c),-1<c&&(g[a]=u.slice(0,c).concat(u.slice(c+1))))}}function L(g,a){var u=g._handlers&&g._handlers[a]||Fd;if(u.length)for(var c=Array.prototype.slice.call(arguments,2),d=0;d<u.length;++d)u[d].apply(null,
c)}function ia(g,a,c){"string"==typeof a&&(a={type:a,preventDefault:function(){this.defaultPrevented=!0}});L(g,c||a.type,g,a);return bb(a)||a.codemirrorIgnore}function Ub(g){var a=g._handlers&&g._handlers.cursorActivity;if(a){g=g.curOp.cursorActivityHandlers||(g.curOp.cursorActivityHandlers=[]);for(var c=0;c<a.length;++c)-1==m(g,a[c])&&g.push(a[c])}}function ha(g,a){return 0<(g._handlers&&g._handlers[a]||Fd).length}function ua(g){g.prototype.on=function(g,a){N(this,g,a)};g.prototype.off=function(g,
a){G(this,g,a)}}function T(g){g.preventDefault?g.preventDefault():g.returnValue=!1}function I(g){g.stopPropagation?g.stopPropagation():g.cancelBubble=!0}function bb(g){return null!=g.defaultPrevented?g.defaultPrevented:0==g.returnValue}function Wa(g){T(g);I(g)}function la(g){var a=g.which;null==a&&(g.button&1?a=1:g.button&2?a=3:g.button&4&&(a=2));ib&&g.ctrlKey&&1==a&&(a=3);return a}function Xa(g){if(null==ee){var a=x("span","\u200b");A(g,x("span",[a,document.createTextNode("x")]));0!=g.firstChild.offsetHeight&&
(ee=1>=a.offsetWidth&&2<a.offsetHeight&&!(W&&8>ca))}g=ee?x("span","\u200b"):x("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");g.setAttribute("cm-text","");return g}function va(g,a){2<arguments.length&&(a.dependencies=Array.prototype.slice.call(arguments,2));fe[g]=a}function wa(g){if("string"==typeof g&&Bc.hasOwnProperty(g))g=Bc[g];else if(g&&"string"==typeof g.name&&Bc.hasOwnProperty(g.name)){var a=Bc[g.name];"string"==typeof a&&(a={name:a});g=r(a,g);g.name=a.name}else{if("string"==
typeof g&&/^[\w\-]+\/[\w\-]+\+xml$/.test(g))return wa("application/xml");if("string"==typeof g&&/^[\w\-]+\/[\w\-]+\+json$/.test(g))return wa("application/json")}return"string"==typeof g?{name:g}:g||{name:"null"}}function Q(g,a){a=wa(a);var u=fe[a.name];if(!u)return Q(g,"text/plain");g=u(g,a);if(Cc.hasOwnProperty(a.name)){u=Cc[a.name];for(var c in u)u.hasOwnProperty(c)&&(g.hasOwnProperty(c)&&(g["_"+c]=g[c]),g[c]=u[c])}g.name=a.name;a.helperType&&(g.helperType=a.helperType);if(a.modeProps)for(var d in a.modeProps)g[d]=
a.modeProps[d];return g}function Vb(g,a){g=Cc.hasOwnProperty(g)?Cc[g]:Cc[g]={};k(a,g)}function Pa(g,a){if(!0===a)return a;if(g.copyState)return g.copyState(a);g={};for(var u in a){var c=a[u];c instanceof Array&&(c=c.concat([]));g[u]=c}return g}function Wb(g,a){for(var u;g.innerMode;){u=g.innerMode(a);if(!u||u.mode==g)break;a=u.state;g=u.mode}return u||{mode:g,state:a}}function Xb(g,a,c){return g.startState?g.startState(a,c):!0}function J(g,a){a-=g.first;if(0>a||a>=g.size)throw Error("There is no line "+
(a+g.first)+" in the document.");for(;!g.lines;)for(var u=0;;++u){var c=g.children[u],d=c.chunkSize();if(a<d){g=c;break}a-=d}return g.lines[a]}function Ba(g,a,c){var u=[],d=a.line;g.iter(a.line,c.line+1,function(g){g=g.text;d==c.line&&(g=g.slice(0,c.ch));d==a.line&&(g=g.slice(a.ch));u.push(g);++d});return u}function Ya(g,a,c){var u=[];g.iter(a,c,function(g){u.push(g.text)});return u}function Ia(g,a){if(a-=g.height)for(;g;g=g.parent)g.height+=a}function U(g){if(null==g.parent)return null;var a=g.parent;
g=m(a.lines,g);for(var c=a.parent;c;a=c,c=c.parent)for(var d=0;c.children[d]!=a;++d)g+=c.children[d].chunkSize();return g+a.first}function ea(g,a){var c=g.first;a:do{for(var u=0;u<g.children.length;++u){var d=g.children[u],e=d.height;if(a<e){g=d;continue a}a-=e;c+=d.chunkSize()}return c}while(!g.lines);for(u=0;u<g.lines.length;++u){d=g.lines[u].height;if(a<d)break;a-=d}return c+u}function eb(g,a){return a>=g.first&&a<g.first+g.size}function tb(g,a){return String(g.lineNumberFormatter(a+g.firstLineNumber))}
function D(g,a,c){void 0===c&&(c=null);if(!(this instanceof D))return new D(g,a,c);this.line=g;this.ch=a;this.sticky=c}function M(g,a){return g.line-a.line||g.ch-a.ch}function lb(g,a){return g.sticky==a.sticky&&0==M(g,a)}function xa(g){return D(g.line,g.ch)}function Z(g,a){return 0>M(g,a)?a:g}function nb(g,a){return 0>M(g,a)?g:a}function O(g,a){if(a.line<g.first)return D(g.first,0);var c=g.first+g.size-1;if(a.line>c)return D(c,J(g,c).text.length);g=J(g,a.line).text.length;c=a.ch;a=null==c||c>g?D(a.line,
g):0>c?D(a.line,0):a;return a}function sc(g,a){for(var c=[],u=0;u<a.length;u++)c[u]=O(g,a[u]);return c}function Cb(g,a,c,d){var u=[g.state.modeGen],e={};Ca(g,a.text,g.doc.mode,c,function(g,a){return u.push(g,a)},e,d);var b=c.state;d=function(d){c.baseTokens=u;var h=g.state.overlays[d],l=1,P=0;c.state=!0;Ca(g,a.text,h.mode,c,function(g,a){for(var c=l;P<g;){var d=u[l];d>g&&u.splice(l,1,g,u[l+1],d);l+=2;P=Math.min(g,d)}if(a)if(h.opaque)u.splice(c,l-c,g,"overlay "+a),l=c+2;else for(;c<l;c+=2)g=u[c+1],
u[c+1]=(g?g+" ":"")+"overlay "+a},e);c.state=b;c.baseTokens=null;c.baseTokenPos=1};for(var h=0;h<g.state.overlays.length;++h)d(h);return{styles:u,classes:e.bgClass||e.textClass?e:null}}function qc(g,a,c){if(!a.styles||a.styles[0]!=g.state.modeGen){var d=db(g,U(a)),u=a.text.length>g.options.maxHighlightLength&&Pa(g.doc.mode,d.state),e=Cb(g,a,d);u&&(d.state=u);a.stateAfter=d.save(!u);a.styles=e.styles;e.classes?a.styleClasses=e.classes:a.styleClasses&&(a.styleClasses=null);c===g.doc.highlightFrontier&&
(g.doc.modeFrontier=Math.max(g.doc.modeFrontier,++g.doc.highlightFrontier))}return a.styles}function db(g,a,c){var d=g.doc,u=g.display;if(!d.mode.startState)return new pb(d,!0,a);var e=$b(g,a,c),b=e>d.first&&J(d,e-1).stateAfter,h=b?pb.fromSaved(d,b,e):new pb(d,Xb(d.mode),e);d.iter(e,a,function(c){Eb(g,c.text,h);var d=h.line;c.stateAfter=d==a-1||0==d%5||d>=u.viewFrom&&d<u.viewTo?h.save():null;h.nextLine()});c&&(d.modeFrontier=h.line);return h}function Eb(g,a,c,d){var u=g.doc.mode;g=new ja(a,g.options.tabSize,
c);g.start=g.pos=d||0;for(""==a&&Yb(u,c.state);!g.eol();)mb(u,g,c.state),g.start=g.pos}function Yb(g,a){if(g.blankLine)return g.blankLine(a);if(g.innerMode&&(g=Wb(g,a),g.mode.blankLine))return g.mode.blankLine(g.state)}function mb(g,a,c,d){for(var u=0;10>u;u++){d&&(d[0]=Wb(g,c).mode);var e=g.token(a,c);if(a.pos>a.start)return e}throw Error("Mode "+g.name+" failed to advance stream.");}function vb(g,a,c,d){var u=g.doc,e=u.mode;a=O(u,a);var b=J(u,a.line);c=db(g,a.line,c);g=new ja(b.text,g.options.tabSize,
c);var h;for(d&&(h=[]);(d||g.pos<a.ch)&&!g.eol();){g.start=g.pos;var l=mb(e,g,c.state);d&&h.push(new Ne(g,l,Pa(u.mode,c.state)))}return d?h:new Ne(g,l,c.state)}function Gb(g,a){if(g)for(;;){var c=g.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;g=g.slice(0,c.index)+g.slice(c.index+c[0].length);var d=c[1]?"bgClass":"textClass";null==a[d]?a[d]=c[2]:(new RegExp("(?:^|s)"+c[2]+"(?:$|s)")).test(a[d])||(a[d]+=" "+c[2])}return g}function Ca(g,a,c,d,e,b,h){var u=c.flattenSpans;null==u&&(u=g.options.flattenSpans);
var l=0,P=null,f=new ja(a,g.options.tabSize,d),S=g.options.addModeClass&&[null];for(""==a&&Gb(Yb(c,d.state),b);!f.eol();){if(f.pos>g.options.maxHighlightLength){u=!1;h&&Eb(g,a,d,f.pos);f.pos=a.length;var r=null}else r=Gb(mb(c,f,d.state,S),b);if(S){var v=S[0].name;v&&(r="m-"+(r?v+" "+r:v))}if(!u||P!=r){for(;l<f.start;)l=Math.min(f.start,l+5E3),e(l,P);P=r}f.start=f.pos}for(;l<f.pos;)g=Math.min(f.pos,l+5E3),e(g,P),l=g}function $b(g,a,c){for(var d,u,e=g.doc,b=c?-1:a-(g.doc.mode.innerMode?1E3:100);a>b;--a){if(a<=
e.first)return e.first;var h=J(e,a-1),l=h.stateAfter;if(l&&(!c||a+(l instanceof Gd?l.lookAhead:0)<=e.modeFrontier))return a;h=q(h.text,null,g.options.tabSize);if(null==u||d>h)u=a-1,d=h}return u}function Za(g,a){g.modeFrontier=Math.min(g.modeFrontier,a);if(!(g.highlightFrontier<a-10)){for(var c=g.first,d=a-1;d>c;d--){var u=J(g,d).stateAfter;if(u&&(!(u instanceof Gd)||d+u.lookAhead<a)){c=d+1;break}}g.highlightFrontier=Math.min(g.highlightFrontier,c)}}function wb(g,a,c){this.marker=g;this.from=a;this.to=
c}function sa(g,a){if(g)for(var c=0;c<g.length;++c){var d=g[c];if(d.marker==a)return d}}function ma(g,c){if(c.full)return null;var d=eb(g,c.from.line)&&J(g,c.from.line).markedSpans,u=eb(g,c.to.line)&&J(g,c.to.line).markedSpans;if(!d&&!u)return null;g=c.from.ch;var e=c.to.ch,b=0==M(c.from,c.to),h;if(d)for(var l=0;l<d.length;++l){var f=d[l],r=f.marker;if(null==f.from||(r.inclusiveLeft?f.from<=g:f.from<g)||!(f.from!=g||"bookmark"!=r.type||b&&f.marker.insertLeft)){var v=null==f.to||(r.inclusiveRight?
f.to>=g:f.to>g);(h||(h=[])).push(new wb(r,f.from,v?null:f.to))}}d=h;var m;if(u)for(h=0;h<u.length;++h)if(l=u[h],f=l.marker,null==l.to||(f.inclusiveRight?l.to>=e:l.to>e)||l.from==e&&"bookmark"==f.type&&(!b||l.marker.insertLeft))r=null==l.from||(f.inclusiveLeft?l.from<=e:l.from<e),(m||(m=[])).push(new wb(f,r?null:l.from-e,null==l.to?null:l.to-e));u=1==c.text.length;e=a(c.text).length+(u?g:0);if(d)for(b=0;b<d.length;++b)if(h=d[b],null==h.to)(l=sa(m,h.marker),l)?u&&(h.to=null==l.to?null:l.to+e):h.to=
g;if(m)for(g=0;g<m.length;++g)b=m[g],null!=b.to&&(b.to+=e),null==b.from?sa(d,b.marker)||(b.from=e,u&&(d||(d=[])).push(b)):(b.from+=e,u&&(d||(d=[])).push(b));d&&(d=Ka(d));m&&m!=d&&(m=Ka(m));g=[d];if(!u){c=c.text.length-2;var n;if(0<c&&d)for(u=0;u<d.length;++u)null==d[u].to&&(n||(n=[])).push(new wb(d[u].marker,null,null));for(d=0;d<c;++d)g.push(n);g.push(m)}return g}function Ka(g){for(var a=0;a<g.length;++a){var c=g[a];null!=c.from&&c.from==c.to&&!1!==c.marker.clearWhenEmpty&&g.splice(a--,1)}return g.length?
g:null}function ra(g,a,c){var d=null;g.iter(a.line,c.line+1,function(g){if(g.markedSpans)for(var a=0;a<g.markedSpans.length;++a){var c=g.markedSpans[a].marker;!c.readOnly||d&&-1!=m(d,c)||(d||(d=[])).push(c)}});if(!d)return null;g=[{from:a,to:c}];for(a=0;a<d.length;++a){c=d[a];for(var u=c.find(0),e=0;e<g.length;++e){var b=g[e];if(!(0>M(b.to,u.from)||0<M(b.from,u.to))){var h=[e,1],l=M(b.from,u.from),f=M(b.to,u.to);(0>l||!c.inclusiveLeft&&!l)&&h.push({from:b.from,to:u.from});(0<f||!c.inclusiveRight&&
!f)&&h.push({from:u.to,to:b.to});g.splice.apply(g,h);e+=h.length-3}}}return g}function Ja(g){var a=g.markedSpans;if(a){for(var c=0;c<a.length;++c)a[c].marker.detachLine(g);g.markedSpans=null}}function Ea(g,a){if(a){for(var c=0;c<a.length;++c)a[c].marker.attachLine(g);g.markedSpans=a}}function fb(g,a){var c=g.lines.length-a.lines.length;if(0!=c)return c;c=g.find();var d=a.find(),u=M(c.from,d.from)||(g.inclusiveLeft?-1:0)-(a.inclusiveLeft?-1:0);return u?-u:(c=M(c.to,d.to)||(g.inclusiveRight?1:0)-(a.inclusiveRight?
1:0))?c:a.id-g.id}function $a(g,a){g=Ab&&g.markedSpans;if(g)for(var c,d=0;d<g.length;++d)if(c=g[d],c.marker.collapsed&&null==(a?c.from:c.to)&&(!u||0>fb(u,c.marker)))var u=c.marker;return u}function Ib(g,a,c,d,e){g=J(g,a);if(g=Ab&&g.markedSpans)for(a=0;a<g.length;++a){var u=g[a];if(u.marker.collapsed){var b=u.marker.find(0),h=M(b.from,c)||(u.marker.inclusiveLeft?-1:0)-(e.inclusiveLeft?-1:0),l=M(b.to,d)||(u.marker.inclusiveRight?1:0)-(e.inclusiveRight?1:0);if(!(0<=h&&0>=l||0>=h&&0<=l)&&(0>=h&&(u.marker.inclusiveRight&&
e.inclusiveLeft?0<=M(b.to,c):0<M(b.to,c))||0<=h&&(u.marker.inclusiveRight&&e.inclusiveLeft?0>=M(b.from,d):0>M(b.from,d))))return!0}}}function La(g){for(var a;a=$a(g,!0);)g=a.find(-1,!0).line;return g}function Zb(g,a){g=J(g,a);var c=La(g);return g==c?a:U(c)}function Ra(g,a){if(a>g.lastLine())return a;var c=J(g,a);if(!ta(g,c))return a;for(;g=$a(c,!1);)c=g.find(1,!0).line;return U(c)+1}function ta(g,a){var c=Ab&&a.markedSpans;if(c)for(var d,u=0;u<c.length;++u)if(d=c[u],d.marker.collapsed&&(null==d.from||
!d.marker.widgetNode&&0==d.from&&d.marker.inclusiveLeft&&gb(g,a,d)))return!0}function gb(g,a,c){if(null==c.to)return a=c.marker.find(1,!0),gb(g,a.line,sa(a.line.markedSpans,c.marker));if(c.marker.inclusiveRight&&c.to==a.text.length)return!0;for(var d,u=0;u<a.markedSpans.length;++u)if(d=a.markedSpans[u],d.marker.collapsed&&!d.marker.widgetNode&&d.from==c.to&&(null==d.to||d.to!=c.from)&&(d.marker.inclusiveLeft||c.marker.inclusiveRight)&&gb(g,a,d))return!0}function X(g){g=La(g);for(var a=0,c=g.parent,
d=0;d<c.lines.length;++d){var e=c.lines[d];if(e==g)break;else a+=e.height}for(g=c.parent;g;c=g,g=c.parent)for(d=0;d<g.children.length&&(e=g.children[d],e!=c);++d)a+=e.height;return a}function Kb(g){if(0==g.height)return 0;for(var a=g.text.length,c,d=g;c=$a(d,!0);)c=c.find(0,!0),d=c.from.line,a+=c.from.ch-c.to.ch;for(d=g;c=$a(d,!1);)g=c.find(0,!0),a-=d.text.length-g.from.ch,d=g.to.line,a+=d.text.length-g.to.ch;return a}function Lb(g){var a=g.display;g=g.doc;a.maxLine=J(g,g.first);a.maxLineLength=Kb(a.maxLine);
a.maxLineChanged=!0;g.iter(function(g){var c=Kb(g);c>a.maxLineLength&&(a.maxLineLength=c,a.maxLine=g)})}function zb(g,a){if(!g||/^\s*$/.test(g))return null;a=a.addModeClass?og:pg;return a[g]||(a[g]=g.replace(/\S+/g,"cm-$&"))}function bc(g,a){var c=z("span",null,null,ya?"padding-right: .1px":null);c={pre:z("pre",[c],"CodeMirror-line"),content:c,col:0,pos:0,cm:g,trailingSpace:!1,splitSpaces:g.getOption("lineWrapping")};a.measure={};for(var d=0;d<=(a.rest?a.rest.length:0);d++){var e=d?a.rest[d-1]:a.line,
u=void 0;c.pos=0;c.addToken=Sc;var b=g.display.measure;if(null!=ge)b=ge;else{var h=A(b,document.createTextNode("A\u062eA")),l=Yc(h,0,1).getBoundingClientRect();h=Yc(h,1,2).getBoundingClientRect();B(b);b=l&&l.left!=l.right?ge=3>h.right-l.right:!1}b&&(u=Va(e,g.doc.direction))&&(c.addToken=Tc(c.addToken,u));c.map=[];var f=a!=g.display.externalMeasured&&U(e);a:{var r=h=l=b=void 0,v=void 0,m=void 0,n=void 0;u=c;f=qc(g,e,f);var k=e.markedSpans,q=e.text,C=0;if(k)for(var E=q.length,H=0,V=1,K="",t=0;;){if(t==
H){v=r=h=m="";l=b=null;t=Infinity;for(var R=[],Q=void 0,w=0;w<k.length;++w){var I=k[w],G=I.marker;if("bookmark"==G.type&&I.from==H&&G.widgetNode)R.push(G);else if(I.from<=H&&(null==I.to||I.to>H||G.collapsed&&I.to==H&&I.from==H)){null!=I.to&&I.to!=H&&t>I.to&&(t=I.to,r="");G.className&&(v+=" "+G.className);G.css&&(m=(m?m+";":"")+G.css);G.startStyle&&I.from==H&&(h+=" "+G.startStyle);G.endStyle&&I.to==t&&(Q||(Q=[])).push(G.endStyle,I.to);G.title&&((b||(b={})).title=G.title);if(G.attributes)for(var x in G.attributes)(b||
(b={}))[x]=G.attributes[x];G.collapsed&&(!l||0>fb(l.marker,G))&&(l=I)}else I.from>H&&t>I.from&&(t=I.from)}if(Q)for(w=0;w<Q.length;w+=2)Q[w+1]==t&&(r+=" "+Q[w]);if(!l||l.from==H)for(Q=0;Q<R.length;++Q)ob(u,0,R[Q]);if(l&&(l.from||0)==H){ob(u,(null==l.to?E+1:l.to)-H,l.marker,null==l.from);if(null==l.to)break a;l.to==H&&(l=!1)}}if(H>=E)break;for(R=Math.min(E,t);;){if(K){Q=H+K.length;l||(w=Q>R?K.slice(0,R-H):K,u.addToken(u,w,n?n+v:v,h,H+w.length==t?r:"",m,b));if(Q>=R){K=K.slice(R-H);H=R;break}H=Q;h=""}K=
q.slice(C,C=f[V++]);n=zb(f[V++],u.cm.options)}}else for(b=1;b<f.length;b+=2)u.addToken(u,q.slice(C,C=f[b]),zb(f[b+1],u.cm.options))}e.styleClasses&&(e.styleClasses.bgClass&&(c.bgClass=p(e.styleClasses.bgClass,c.bgClass||"")),e.styleClasses.textClass&&(c.textClass=p(e.styleClasses.textClass,c.textClass||"")));0==c.map.length&&c.map.push(0,0,c.content.appendChild(Xa(g.display.measure)));0==d?(a.measure.map=c.map,a.measure.cache={}):((a.measure.maps||(a.measure.maps=[])).push(c.map),(a.measure.caches||
(a.measure.caches=[])).push({}))}ya&&(x=c.content.lastChild,/\bcm-tab\b/.test(x.className)||x.querySelector&&x.querySelector(".cm-tab"))&&(c.content.className="cm-tab-wrap-hack");L(g,"renderLine",g,a.line,c.pre);c.pre.className&&(c.textClass=p(c.pre.className,c.textClass||""));return c}function Rc(g){var a=x("span","\u2022","cm-invalidchar");a.title="\\u"+g.charCodeAt(0).toString(16);a.setAttribute("aria-label",a.title);return a}function Sc(g,a,c,d,b,h,l){if(a){if(g.splitSpaces){var u=g.trailingSpace;
if(1<a.length&&!/  /.test(a))u=a;else{for(var f="",P=0;P<a.length;P++){var r=a.charAt(P);" "!=r||!u||P!=a.length-1&&32!=a.charCodeAt(P+1)||(r="\u00a0");f+=r;u=" "==r}u=f}}else u=a;f=u;P=g.cm.state.specialChars;r=!1;if(P.test(a)){u=document.createDocumentFragment();for(var v=0;;){P.lastIndex=v;var S=P.exec(a),m=S?S.index-v:a.length-v;if(m){var pa=document.createTextNode(f.slice(v,v+m));W&&9>ca?u.appendChild(x("span",[pa])):u.appendChild(pa);g.map.push(g.pos,g.pos+m,pa);g.col+=m;g.pos+=m}if(!S)break;
v+=m+1;"\t"==S[0]?(S=g.cm.options.tabSize,S-=g.col%S,m=u.appendChild(x("span",e(S),"cm-tab")),m.setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),g.col+=S):("\r"==S[0]||"\n"==S[0]?(m=u.appendChild(x("span","\r"==S[0]?"\u240d":"\u2424","cm-invalidchar")),m.setAttribute("cm-text",S[0])):(m=g.cm.options.specialCharPlaceholder(S[0]),m.setAttribute("cm-text",S[0]),W&&9>ca?u.appendChild(x("span",[m])):u.appendChild(m)),g.col+=1);g.map.push(g.pos,g.pos+1,m);g.pos++}}else g.col+=a.length,
u=document.createTextNode(f),g.map.push(g.pos,g.pos+a.length,u),W&&9>ca&&(r=!0),g.pos+=a.length;g.trailingSpace=32==f.charCodeAt(a.length-1);if(c||d||b||r||h){a=c||"";d&&(a+=d);b&&(a+=b);d=x("span",[u],a,h);if(l)for(var n in l)l.hasOwnProperty(n)&&"style"!=n&&"class"!=n&&d.setAttribute(n,l[n]);return g.content.appendChild(d)}g.content.appendChild(u)}}function Tc(g,a){return function(c,d,e,u,b,h,l){e=e?e+" cm-force-border":"cm-force-border";for(var f=c.pos,r=f+d.length;;){for(var P=void 0,v=0;v<a.length&&
!(P=a[v],P.to>f&&P.from<=f);v++);if(P.to>=r)return g(c,d,e,u,b,h,l);g(c,d.slice(0,P.to-f),e,u,null,h,l);u=null;d=d.slice(P.to-f);f=P.to}}}function ob(g,a,c,d){var e=!d&&c.widgetNode;e&&g.map.push(g.pos,g.pos+a,e);!d&&g.cm.display.input.needsContentAttribute&&(e||(e=g.content.appendChild(document.createElement("span"))),e.setAttribute("cm-marker",c.id));e&&(g.cm.display.input.setUneditable(e),g.content.appendChild(e));g.pos+=a;g.trailingSpace=!1}function cc(g,c,d){for(var e=this.line=c,u;e=$a(e,!1);)e=
e.find(1,!0).line,(u||(u=[])).push(e);this.size=(this.rest=u)?U(a(this.rest))-d+1:1;this.node=this.text=null;this.hidden=ta(g,c)}function yb(g,a,c){var d=[],e;for(e=a;e<c;)a=new cc(g.doc,J(g.doc,e),e),e+=a.size,d.push(a);return d}function Vc(g,a){if(g=g.ownsGroup)try{var c=g.delayedCallbacks,d=0;do{for(;d<c.length;d++)c[d].call(null);for(var e=0;e<g.ops.length;e++){var u=g.ops[e];if(u.cursorActivityHandlers)for(;u.cursorActivityCalled<u.cursorActivityHandlers.length;)u.cursorActivityHandlers[u.cursorActivityCalled++].call(null,
u.cm)}}while(d<c.length)}finally{Dc=null,a(g)}}function fa(g,a){var c=g._handlers&&g._handlers[a]||Fd;if(c.length){var d=Array.prototype.slice.call(arguments,2);if(Dc)var e=Dc.delayedCallbacks;else Zc?e=Zc:(e=Zc=[],setTimeout(Hb,0));for(var u=function(g){e.push(function(){return c[g].apply(null,d)})},b=0;b<c.length;++b)u(b)}}function Hb(){var g=Zc;Zc=null;for(var a=0;a<g.length;++a)g[a]()}function dc(g,a,c,d){for(var e=0;e<a.changes.length;e++){var u=a.changes[e];if("text"==u){u=g;var b=a,h=b.text.className,
l=vc(u,b);b.text==b.node&&(b.node=l.pre);b.text.parentNode.replaceChild(l.pre,b.text);b.text=l.pre;l.bgClass!=b.bgClass||l.textClass!=b.textClass?(b.bgClass=l.bgClass,b.textClass=l.textClass,Fb(u,b)):h&&(b.text.className=h)}else if("gutter"==u)wc(g,a,c,d);else if("class"==u)Fb(g,a);else if("widget"==u){u=g;b=a;h=d;b.alignable&&(b.alignable=null);l=b.node.firstChild;for(var f;l;l=f)f=l.nextSibling,"CodeMirror-linewidget"==l.className&&b.node.removeChild(l);zc(u,b,h)}}a.changes=null}function ub(g){g.node==
g.text&&(g.node=x("div",null,null,"position: relative"),g.text.parentNode&&g.text.parentNode.replaceChild(g.node,g.text),g.node.appendChild(g.text),W&&8>ca&&(g.node.style.zIndex=2));return g.node}function vc(g,a){var c=g.display.externalMeasured;return c&&c.line==a.line?(g.display.externalMeasured=null,a.measure=c.measure,c.built):bc(g,a)}function Fb(g,a){var c=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;c&&(c+=" CodeMirror-linebackground");if(a.background)c?a.background.className=
c:(a.background.parentNode.removeChild(a.background),a.background=null);else if(c){var d=ub(a);a.background=d.insertBefore(x("div",null,c),d.firstChild);g.display.input.setUneditable(a.background)}a.line.wrapClass?ub(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");a.text.className=(a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass)||""}function wc(a,c,d,e){c.gutter&&(c.node.removeChild(c.gutter),c.gutter=null);c.gutterBackground&&(c.node.removeChild(c.gutterBackground),
c.gutterBackground=null);if(c.line.gutterClass){var g=ub(c);c.gutterBackground=x("div",null,"CodeMirror-gutter-background "+c.line.gutterClass,"left: "+(a.options.fixedGutter?e.fixedPos:-e.gutterTotalWidth)+"px; width: "+e.gutterTotalWidth+"px");a.display.input.setUneditable(c.gutterBackground);g.insertBefore(c.gutterBackground,c.text)}g=c.line.gutterMarkers;if(a.options.lineNumbers||g){var u=ub(c),b=c.gutter=x("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?e.fixedPos:-e.gutterTotalWidth)+
"px");a.display.input.setUneditable(b);u.insertBefore(b,c.text);c.line.gutterClass&&(b.className+=" "+c.line.gutterClass);!a.options.lineNumbers||g&&g["CodeMirror-linenumbers"]||(c.lineNumber=b.appendChild(x("div",tb(a.options,d),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+e.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px")));if(g)for(c=0;c<a.display.gutterSpecs.length;++c)d=a.display.gutterSpecs[c].className,(u=g.hasOwnProperty(d)&&g[d])&&b.appendChild(x("div",
[u],"CodeMirror-gutter-elt","left: "+e.gutterLeft[d]+"px; width: "+e.gutterWidth[d]+"px"))}}function F(a,c,d,e){var g=vc(a,c);c.text=c.node=g.pre;g.bgClass&&(c.bgClass=g.bgClass);g.textClass&&(c.textClass=g.textClass);Fb(a,c);wc(a,c,d,e);zc(a,c,e);return c.node}function zc(a,c,d){ec(a,c.line,c,d,!0);if(c.rest)for(var g=0;g<c.rest.length;g++)ec(a,c.rest[g],c,d,!1)}function ec(a,c,d,e,b){if(c.widgets){var g=ub(d),u=0;for(c=c.widgets;u<c.length;++u){var h=c[u],l=x("div",[h.node],"CodeMirror-linewidget");
h.handleMouseEvents||l.setAttribute("cm-ignore-events","true");var f=h,r=l,P=e;if(f.noHScroll){(d.alignable||(d.alignable=[])).push(r);var v=P.wrapperWidth;r.style.left=P.fixedPos+"px";f.coverGutter||(v-=P.gutterTotalWidth,r.style.paddingLeft=P.gutterTotalWidth+"px");r.style.width=v+"px"}f.coverGutter&&(r.style.zIndex=5,r.style.position="relative",f.noHScroll||(r.style.marginLeft=-P.gutterTotalWidth+"px"));a.display.input.setUneditable(l);b&&h.above?g.insertBefore(l,d.gutter||d.text):g.appendChild(l);
fa(h,"redraw")}}}function hb(a){if(null!=a.height)return a.height;var g=a.doc.cm;if(!g)return 0;if(!t(document.body,a.node)){var c="position: relative;";a.coverGutter&&(c+="margin-left: -"+g.display.gutters.offsetWidth+"px;");a.noHScroll&&(c+="width: "+g.display.wrapper.clientWidth+"px;");A(g.display.measure,x("div",[a.node],null,c))}return a.height=a.node.parentNode.offsetHeight}function Sa(a,c){for(c=c.target||c.srcElement;c!=a.wrapper;c=c.parentNode)if(!c||1==c.nodeType&&"true"==c.getAttribute("cm-ignore-events")||
c.parentNode==a.sizer&&c!=a.mover)return!0}function Jb(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function ac(a){if(a.cachedPaddingH)return a.cachedPaddingH;var g=A(a.measure,x("pre","x"));g=window.getComputedStyle?window.getComputedStyle(g):g.currentStyle;g={left:parseInt(g.paddingLeft),right:parseInt(g.paddingRight)};isNaN(g.left)||isNaN(g.right)||(a.cachedPaddingH=g);return g}function Ma(a){return 30-a.display.nativeBarWidth}function ab(a){return a.display.scroller.clientWidth-Ma(a)-
a.display.barWidth}function Mb(a){return a.display.scroller.clientHeight-Ma(a)-a.display.barHeight}function xb(a,c,d){if(a.line==c)return{map:a.measure.map,cache:a.measure.cache};for(var g=0;g<a.rest.length;g++)if(a.rest[g]==c)return{map:a.measure.maps[g],cache:a.measure.caches[g]};for(c=0;c<a.rest.length;c++)if(U(a.rest[c])>d)return{map:a.measure.maps[c],cache:a.measure.caches[c],before:!0}}function Nb(a,c){if(c>=a.display.viewFrom&&c<a.display.viewTo)return a.display.view[fc(a,c)];if((a=a.display.externalMeasured)&&
c>=a.lineN&&c<a.lineN+a.size)return a}function ba(a,c){var g=U(c),d=Nb(a,g);d&&!d.text?d=null:d&&d.changes&&(dc(a,d,g,ce(a)),a.curOp.forceUpdate=!0);if(!d){var e=La(c);d=U(e);e=a.display.externalMeasured=new cc(a.doc,e,d);e.lineN=d;d=e.built=bc(a,e);e.text=d.pre;A(a.display.lineMeasure,d.pre);d=e}a=xb(d,c,g);return{line:c,view:d,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function Fa(a,c,d,e,b){c.before&&(d=-1);var g=d+(e||"");if(c.cache.hasOwnProperty(g))a=c.cache[g];else{c.rect||
(c.rect=c.view.text.getBoundingClientRect());if(!c.hasHeights){var u=c.view,h=c.rect,l=a.options.lineWrapping,f=l&&ab(a);if(!u.measure.heights||l&&u.measure.width!=f){var r=u.measure.heights=[];if(l)for(u.measure.width=f,u=u.text.firstChild.getClientRects(),l=0;l<u.length-1;l++){f=u[l];var P=u[l+1];2<Math.abs(f.bottom-P.bottom)&&r.push((f.bottom+P.top)/2-h.top)}r.push(h.bottom-h.top)}c.hasHeights=!0}r=e;u=Ac(c.map,d,r);e=u.node;h=u.start;l=u.end;d=u.collapse;if(3==e.nodeType){for(var v=0;4>v;v++){for(;h&&
E(c.line.text.charAt(u.coverStart+h));)--h;for(;u.coverStart+l<u.coverEnd&&E(c.line.text.charAt(u.coverStart+l));)++l;if(W&&9>ca&&0==h&&l==u.coverEnd-u.coverStart)var m=e.parentNode.getBoundingClientRect();else{m=Yc(e,h,l).getClientRects();l=Oe;if("left"==r)for(f=0;f<m.length&&(l=m[f]).left==l.right;f++);else for(f=m.length-1;0<=f&&(l=m[f]).left==l.right;f--);m=l}if(m.left||m.right||0==h)break;l=h;--h;d="right"}W&&11>ca&&((v=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||
(null!=he?v=he:(r=A(a.display.measure,x("span","x")),v=r.getBoundingClientRect(),r=Yc(r,0,1).getBoundingClientRect(),v=he=1<Math.abs(v.left-r.left)),v=!v),v||(v=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI,m={left:m.left*v,right:m.right*v,top:m.top*r,bottom:m.bottom*r}))}else 0<h&&(d=r="right"),m=a.options.lineWrapping&&1<(v=e.getClientRects()).length?v["right"==r?v.length-1:0]:e.getBoundingClientRect();!(W&&9>ca)||h||m&&(m.left||m.right)||(m=(m=e.parentNode.getClientRects()[0])?
{left:m.left,right:m.left+xc(a.display),top:m.top,bottom:m.bottom}:Oe);e=m.top-c.rect.top;h=m.bottom-c.rect.top;v=(e+h)/2;r=c.view.measure.heights;for(u=0;u<r.length-1&&!(v<r[u]);u++);d={left:("right"==d?m.right:m.left)-c.rect.left,right:("left"==d?m.left:m.right)-c.rect.left,top:u?r[u-1]:0,bottom:r[u]};m.left||m.right||(d.bogus=!0);a.options.singleCursorHeightPerLine||(d.rtop=e,d.rbottom=h);a=d;a.bogus||(c.cache[g]=a)}return{left:a.left,right:a.right,top:b?a.rtop:a.top,bottom:b?a.rbottom:a.bottom}}
function Ac(a,c,d){for(var g,e,b,u,h,l,f=0;f<a.length;f+=3){h=a[f];l=a[f+1];if(c<h)e=0,b=1,u="left";else if(c<l)e=c-h,b=e+1;else if(f==a.length-3||c==l&&a[f+3]>c)b=l-h,e=b-1,c>=l&&(u="right");if(null!=e){g=a[f+2];h==l&&d==(g.insertLeft?"left":"right")&&(u=d);if("left"==d&&0==e)for(;f&&a[f-2]==a[f-3]&&a[f-1].insertLeft;)g=a[(f-=3)+2],u="left";if("right"==d&&e==l-h)for(;f<a.length-3&&a[f+3]==a[f+4]&&!a[f+5].insertLeft;)g=a[(f+=3)+2],u="right";break}}return{node:g,start:e,end:b,collapse:u,coverStart:h,
coverEnd:l}}function Cd(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var g=0;g<a.rest.length;g++)a.measure.caches[g]={}}function Dd(a){a.display.externalMeasure=null;B(a.display.lineMeasure);for(var g=0;g<a.display.view.length;g++)Cd(a.display.view[g])}function cb(a){Dd(a);a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null;a.options.lineWrapping||(a.display.maxLineChanged=!0);a.display.lineNumChars=null}function rc(){return Hd&&Id?-(document.body.getBoundingClientRect().left-
parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Db(){return Hd&&Id?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function tc(a){var g=0;if(a.widgets)for(var c=0;c<a.widgets.length;++c)a.widgets[c].above&&(g+=hb(a.widgets[c]));return g}function uc(a,c,d,e,b){b||(b=tc(c),d.top+=b,d.bottom+=b);
if("line"==e)return d;e||(e="local");c=X(c);c="local"==e?c+a.display.lineSpace.offsetTop:c-a.display.viewOffset;if("page"==e||"window"==e)a=a.display.lineSpace.getBoundingClientRect(),c+=a.top+("window"==e?0:Db()),e=a.left+("window"==e?0:rc()),d.left+=e,d.right+=e;d.top+=c;d.bottom+=c;return d}function rb(a,c,d){if("div"==d)return c;var g=c.left;c=c.top;"page"==d?(g-=rc(),c-=Db()):"local"!=d&&d||(d=a.display.sizer.getBoundingClientRect(),g+=d.left,c+=d.top);a=a.display.lineSpace.getBoundingClientRect();
return{left:g-a.left,top:c-a.top}}function sb(a,c,d,e,b){e||(e=J(a.doc,c.line));var g=e;c=c.ch;e=Fa(a,ba(a,e),c,b);return uc(a,g,e,d)}function Qa(a,c,d,e,b,h){function g(g,c){g=Fa(a,b,g,c?"right":"left",h);c?g.left=g.right:g.right=g.left;return uc(a,e,g,d)}function u(a,c,d){return g(d?a-1:a,1==l[c].level!=d)}e=e||J(a.doc,c.line);b||(b=ba(a,e));var l=Va(e,a.doc.direction),f=c.ch;c=c.sticky;f>=e.text.length?(f=e.text.length,c="before"):0>=f&&(f=0,c="after");if(!l)return g("before"==c?f-1:f,"before"==
c);var r=R(l,f,c),v=Xc;r=u(f,r,"before"==c);null!=v&&(r.other=u(f,v,"before"!=c));return r}function Da(a,c){var g=0;c=O(a.doc,c);a.options.lineWrapping||(g=xc(a.display)*c.ch);c=J(a.doc,c.line);a=X(c)+a.display.lineSpace.offsetTop;return{left:g,right:g,top:a,bottom:a+c.height}}function Qc(a,c,d,e,b){a=D(a,c,d);a.xRel=b;e&&(a.outside=!0);return a}function be(a,c,d){var g=a.doc;d+=a.display.viewOffset;if(0>d)return Qc(g.first,0,null,!0,-1);var e=ea(g,d),b=g.first+g.size-1;if(e>b)return Qc(g.first+g.size-
1,J(g,b).text.length,null,!0,1);0>c&&(c=0);for(var u=J(g,e);;){b=ig(a,u,e,c,d);var h=void 0;var l=b.ch+(0<b.xRel?1:0);if(u=Ab&&u.markedSpans)for(var f=0;f<u.length;++f){var r=u[f];r.marker.collapsed&&(null==r.from||r.from<l)&&(null==r.to||r.to>l)&&(!h||0>fb(h,r.marker))&&(h=r.marker)}if(!h)return b;b=h.find(1);if(b.line==e)return b;u=J(g,e=b.line)}}function Je(a,c,d,e){e-=tc(c);c=c.text.length;var g=K(function(g){return Fa(a,d,g-1).bottom<=e},c,0);c=K(function(g){return Fa(a,d,g).top>e},g,c);return{begin:g,
end:c}}function Ke(a,c,d,e){d||(d=ba(a,c));e=uc(a,c,Fa(a,d,e),"line").top;return Je(a,c,d,e)}function Uc(a,c,d,e){return a.bottom<=d?!1:a.top>d?!0:(e?a.left:a.right)>c}function ig(a,c,d,e,b){b-=X(c);var g=ba(a,c),u=tc(c),h=0,l=c.text.length,f=!0,r=Va(c,a.doc.direction);r&&(r=(a.options.lineWrapping?kg:jg)(a,c,d,g,r,e,b),h=(f=1!=r.level)?r.from:r.to-1,l=f?r.to:r.from-1);var v=null,m=null;r=K(function(c){var d=Fa(a,g,c);d.top+=u;d.bottom+=u;if(!Uc(d,e,b,!1))return!1;d.top<=b&&d.left<=e&&(v=c,m=d);return!0},
h,l);var P=!1;m?(h=e-m.left<m.right-e,f=h==f,r=v+(f?0:1),f=f?"after":"before",h=h?m.left:m.right):(f||r!=l&&r!=h||r++,f=0==r?"after":r==c.text.length?"before":Fa(a,g,r-(f?1:0)).bottom+u<=b==f?"after":"before",P=Qa(a,D(d,r,f),"line",c,g),h=P.left,P=b<P.top||b>=P.bottom);r=H(c.text,r,1);return Qc(d,r,f,P,e-h)}function jg(a,c,d,e,b,h,l){var g=K(function(g){g=b[g];var u=1!=g.level;return Uc(Qa(a,D(d,u?g.to:g.from,u?"before":"after"),"line",c,e),h,l,!0)},0,b.length-1),u=b[g];if(0<g){var f=1!=u.level;f=
Qa(a,D(d,f?u.from:u.to,f?"after":"before"),"line",c,e);Uc(f,h,l,!0)&&f.top>l&&(u=b[g-1])}return u}function kg(a,c,d,e,b,h,l){l=Je(a,c,e,l);d=l.begin;l=l.end;/\s/.test(c.text.charAt(l-1))&&l--;for(var g=c=null,u=0;u<b.length;u++){var f=b[u];if(!(f.from>=l||f.to<=d)){var r=Fa(a,e,1!=f.level?Math.min(l,f.to)-1:Math.max(d,f.from)).right;r=r<h?h-r+1E9:r-h;if(!c||g>r)c=f,g=r}}c||(c=b[b.length-1]);c.from<d&&(c={from:d,to:c.to,level:c.level});c.to>l&&(c={from:c.from,to:l,level:c.level});return c}function yc(a){if(null!=
a.cachedTextHeight)return a.cachedTextHeight;if(null==gc){gc=x("pre");for(var g=0;49>g;++g)gc.appendChild(document.createTextNode("x")),gc.appendChild(x("br"));gc.appendChild(document.createTextNode("x"))}A(a.measure,gc);g=gc.offsetHeight/50;3<g&&(a.cachedTextHeight=g);B(a.measure);return g||1}function xc(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var g=x("span","xxxxxxxxxx"),c=x("pre",[g]);A(a.measure,c);g=g.getBoundingClientRect();g=(g.right-g.left)/10;2<g&&(a.cachedCharWidth=g);return g||
10}function ce(a){for(var g=a.display,c={},d={},e=g.gutters.clientLeft,b=g.gutters.firstChild,h=0;b;b=b.nextSibling,++h){var l=a.display.gutterSpecs[h].className;c[l]=b.offsetLeft+b.clientLeft+e;d[l]=b.clientWidth}return{fixedPos:de(g),gutterTotalWidth:g.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:g.wrapper.clientWidth}}function de(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function Le(a){var g=yc(a.display),c=a.options.lineWrapping,d=c&&
Math.max(5,a.display.scroller.clientWidth/xc(a.display)-3);return function(e){if(ta(a.doc,e))return 0;var b=0;if(e.widgets)for(var u=0;u<e.widgets.length;u++)e.widgets[u].height&&(b+=e.widgets[u].height);return c?b+(Math.ceil(e.text.length/d)||1)*g:b+g}}function Wc(a){var g=a.doc,c=Le(a);g.iter(function(a){var g=c(a);g!=a.height&&Ia(a,g)})}function hc(a,c,d,e){var g=a.display;if(!d&&"true"==(c.target||c.srcElement).getAttribute("cm-not-content"))return null;d=g.lineSpace.getBoundingClientRect();try{var b=
c.clientX-d.left;var u=c.clientY-d.top}catch(Me){return null}c=be(a,b,u);var h;e&&1==c.xRel&&(h=J(a.doc,c.line).text).length==c.ch&&(e=q(h,h.length,a.options.tabSize)-h.length,c=D(c.line,Math.max(0,Math.round((b-ac(a.display).left)/xc(a.display))-e)));return c}function fc(a,c){if(c>=a.display.viewTo)return null;c-=a.display.viewFrom;if(0>c)return null;a=a.display.view;for(var g=0;g<a.length;g++)if(c-=a[g].size,0>c)return g}function Ga(a,c,d,e){null==c&&(c=a.doc.first);null==d&&(d=a.doc.first+a.doc.size);
e||(e=0);var g=a.display;e&&d<g.viewTo&&(null==g.updateLineNumbers||g.updateLineNumbers>c)&&(g.updateLineNumbers=c);a.curOp.viewChanged=!0;if(c>=g.viewTo)Ab&&Zb(a.doc,c)<g.viewTo&&Ob(a);else if(d<=g.viewFrom)Ab&&Ra(a.doc,d+e)>g.viewFrom?Ob(a):(g.viewFrom+=e,g.viewTo+=e);else if(c<=g.viewFrom&&d>=g.viewTo)Ob(a);else if(c<=g.viewFrom){var b=Jd(a,d,d+e,1);b?(g.view=g.view.slice(b.index),g.viewFrom=b.lineN,g.viewTo+=e):Ob(a)}else if(d>=g.viewTo)(b=Jd(a,c,c,-1))?(g.view=g.view.slice(0,b.index),g.viewTo=
b.lineN):Ob(a);else{b=Jd(a,c,c,-1);var h=Jd(a,d,d+e,1);b&&h?(g.view=g.view.slice(0,b.index).concat(yb(a,b.lineN,h.lineN)).concat(g.view.slice(h.index)),g.viewTo+=e):Ob(a)}if(a=g.externalMeasured)d<a.lineN?a.lineN+=e:c<a.lineN+a.size&&(g.externalMeasured=null)}function Pb(a,c,d){a.curOp.viewChanged=!0;var g=a.display,e=a.display.externalMeasured;e&&c>=e.lineN&&c<e.lineN+e.size&&(g.externalMeasured=null);c<g.viewFrom||c>=g.viewTo||(a=g.view[fc(a,c)],null!=a.node&&(a=a.changes||(a.changes=[]),-1==m(a,
d)&&a.push(d)))}function Ob(a){a.display.viewFrom=a.display.viewTo=a.doc.first;a.display.view=[];a.display.viewOffset=0}function Jd(a,c,d,e){var g=fc(a,c),b=a.display.view;if(!Ab||d==a.doc.first+a.doc.size)return{index:g,lineN:d};for(var h=a.display.viewFrom,u=0;u<g;u++)h+=b[u].size;if(h!=c){if(0<e){if(g==b.length-1)return null;c=h+b[g].size-c;g++}else c=h-c;d+=c}for(;Zb(a.doc,d)!=d;){if(g==(0>e?0:b.length-1))return null;d+=e*b[g-(0>e?1:0)].size;g+=e}return{index:g,lineN:d}}function Pe(a){a=a.display.view;
for(var g=0,c=0;c<a.length;c++){var d=a[c];d.hidden||d.node&&!d.changes||++g}return g}function $c(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Qe(a,c){void 0===c&&(c=!0);for(var g=a.doc,d={},e=d.cursors=document.createDocumentFragment(),b=d.selection=document.createDocumentFragment(),h=0;h<g.sel.ranges.length;h++)if(c||h!=g.sel.primIndex){var u=g.sel.ranges[h];if(!(u.from().line>=a.display.viewTo||u.to().line<a.display.viewFrom)){var l=u.empty();(l||a.options.showCursorWhenSelecting)&&
Re(a,u.head,e);l||qg(a,u,b)}}return d}function Re(a,c,d){c=Qa(a,c,"div",null,null,!a.options.singleCursorHeightPerLine);var g=d.appendChild(x("div","\u00a0","CodeMirror-cursor"));g.style.left=c.left+"px";g.style.top=c.top+"px";g.style.height=Math.max(0,c.bottom-c.top)*a.options.cursorHeight+"px";c.other&&(a=d.appendChild(x("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor")),a.style.display="",a.style.left=c.other.left+"px",a.style.top=c.other.top+"px",a.style.height=.85*(c.other.bottom-
c.other.top)+"px")}function Kd(a,c){return a.top-c.top||a.left-c.left}function qg(a,c,d){function g(a,g,c,d){0>g&&(g=0);g=Math.round(g);d=Math.round(d);u.appendChild(x("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px;\n                             top: "+g+"px; width: "+(null==c?r-a:c)+"px;\n                             height: "+(d-g)+"px"))}function e(c,d,e){function b(g,d){return sb(a,D(c,g),"div",l,d)}function u(g,c,d){g=Ke(a,l,null,g);c="ltr"==c==("after"==d)?"left":"right";
d="after"==d?g.begin:g.end-(/\s/.test(l.text.charAt(g.end-1))?2:1);return b(d,c)[c]}var l=J(h,c),m=l.text.length,P,n,k=Va(l,h.direction);V(k,d||0,null==e?m:e,function(a,c,h,l){var q="ltr"==h,S=b(a,q?"left":"right"),pa=b(c-1,q?"right":"left"),C=null==d&&0==a,E=null==e&&c==m,p=0==l;l=!k||l==k.length-1;3>=pa.top-S.top?(c=(v?C:E)&&p?f:(q?S:pa).left,g(c,S.top,((v?E:C)&&l?r:(q?pa:S).right)-c,S.bottom)):(q?(q=v&&C&&p?f:S.left,C=v?r:u(a,h,"before"),a=v?f:u(c,h,"after"),E=v&&E&&l?r:pa.right):(q=v?u(a,h,"before"):
f,C=!v&&C&&p?r:S.right,a=!v&&E&&l?f:pa.left,E=v?u(c,h,"after"):r),g(q,S.top,C-q,S.bottom),S.bottom<pa.top&&g(f,S.bottom,null,pa.top),g(a,pa.top,E-a,pa.bottom));if(!P||0>Kd(S,P))P=S;0>Kd(pa,P)&&(P=pa);if(!n||0>Kd(S,n))n=S;0>Kd(pa,n)&&(n=pa)});return{start:P,end:n}}var b=a.display,h=a.doc,u=document.createDocumentFragment(),l=ac(a.display),f=l.left,r=Math.max(b.sizerWidth,ab(a)-b.sizer.offsetLeft)-l.right,v="ltr"==h.direction;b=c.from();c=c.to();if(b.line==c.line)e(b.line,b.ch,c.ch);else{var m=J(h,
b.line);l=J(h,c.line);l=La(m)==La(l);b=e(b.line,b.ch,l?m.text.length+1:null).end;c=e(c.line,l?0:null,c.ch).start;l&&(b.top<c.top-2?(g(b.right,b.top,null,b.bottom),g(f,c.top,c.left,c.bottom)):g(b.right,b.top,c.left-b.right,b.bottom));b.bottom<c.top&&g(f,b.bottom,null,c.top)}d.appendChild(u)}function ie(a){if(a.state.focused){var g=a.display;clearInterval(g.blinker);var c=!0;g.cursorDiv.style.visibility="";0<a.options.cursorBlinkRate?g.blinker=setInterval(function(){return g.cursorDiv.style.visibility=
(c=!c)?"":"hidden"},a.options.cursorBlinkRate):0>a.options.cursorBlinkRate&&(g.cursorDiv.style.visibility="hidden")}}function Se(a){a.state.focused||(a.display.input.focus(),je(a))}function Te(a){a.state.delayingBlurEvent=!0;setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,ad(a))},100)}function je(a,c){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1);"nocursor"!=a.options.readOnly&&(a.state.focused||(L(a,"focus",a,c),a.state.focused=!0,b(a.display.wrapper,"CodeMirror-focused"),
a.curOp||a.display.selForContextMenu==a.doc.sel||(a.display.input.reset(),ya&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),ie(a))}function ad(a,c){a.state.delayingBlurEvent||(a.state.focused&&(L(a,"blur",a,c),a.state.focused=!1,ic(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Ld(a){for(var g=a.display,c=g.lineDiv.offsetTop,d=0;d<g.view.length;d++){var e=
g.view[d],b=a.options.lineWrapping,h=0;if(!e.hidden){if(W&&8>ca){b=e.node.offsetTop+e.node.offsetHeight;var l=b-c;c=b}else{var f=e.node.getBoundingClientRect();l=f.bottom-f.top;!b&&e.text.firstChild&&(h=e.text.firstChild.getBoundingClientRect().right-f.left-1)}b=e.line.height-l;if(.005<b||-.005>b)if(Ia(e.line,l),Ue(e.line),e.rest)for(l=0;l<e.rest.length;l++)Ue(e.rest[l]);h>a.display.sizerWidth&&(h=Math.ceil(h/xc(a.display)),h>a.display.maxLineLength&&(a.display.maxLineLength=h,a.display.maxLine=e.line,
a.display.maxLineChanged=!0))}}}function Ue(a){if(a.widgets)for(var g=0;g<a.widgets.length;++g){var c=a.widgets[g],d=c.node.parentNode;d&&(c.height=d.offsetHeight)}}function ke(a,c,d){var g=d&&null!=d.top?Math.max(0,d.top):a.scroller.scrollTop;g=Math.floor(g-a.lineSpace.offsetTop);var e=d&&null!=d.bottom?d.bottom:g+a.wrapper.clientHeight;g=ea(c,g);e=ea(c,e);if(d&&d.ensure){var b=d.ensure.from.line;d=d.ensure.to.line;b<g?(g=b,e=ea(c,X(J(c,b))+a.wrapper.clientHeight)):Math.min(d,c.lastLine())>=e&&(g=
ea(c,X(J(c,d))-a.wrapper.clientHeight),e=d)}return{from:g,to:Math.max(e,g+1)}}function le(a,c){var g=a.display,d=yc(a.display);0>c.top&&(c.top=0);var e=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:g.scroller.scrollTop,b=Mb(a),h={};c.bottom-c.top>b&&(c.bottom=c.top+b);var l=a.doc.height+Jb(g),u=c.top<d;d=c.bottom>l-d;c.top<e?h.scrollTop=u?0:c.top:c.bottom>e+b&&(b=Math.min(c.top,(d?l:c.bottom)-b),b!=e&&(h.scrollTop=b));e=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:g.scroller.scrollLeft;
a=ab(a)-(a.options.fixedGutter?g.gutters.offsetWidth:0);if(g=c.right-c.left>a)c.right=c.left+a;10>c.left?h.scrollLeft=0:c.left<e?h.scrollLeft=Math.max(0,c.left-(g?0:10)):c.right>a+e-3&&(h.scrollLeft=c.right+(g?0:10)-a);return h}function Md(a,c){null!=c&&(Nd(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+c)}function Ec(a){Nd(a);var g=a.getCursor();a.curOp.scrollToPos={from:g,to:g,margin:a.options.cursorScrollMargin}}function bd(a,c,d){null==c&&null==d||Nd(a);null!=
c&&(a.curOp.scrollLeft=c);null!=d&&(a.curOp.scrollTop=d)}function Nd(a){var g=a.curOp.scrollToPos;if(g){a.curOp.scrollToPos=null;var c=Da(a,g.from),d=Da(a,g.to);Ve(a,c,d,g.margin)}}function Ve(a,c,d,e){c=le(a,{left:Math.min(c.left,d.left),top:Math.min(c.top,d.top)-e,right:Math.max(c.right,d.right),bottom:Math.max(c.bottom,d.bottom)+e});bd(a,c.scrollLeft,c.scrollTop)}function cd(a,c){2>Math.abs(a.doc.scrollTop-c)||(Qb||me(a,{top:c}),We(a,c,!0),Qb&&me(a),dd(a,100))}function We(a,c,d){c=Math.min(a.display.scroller.scrollHeight-
a.display.scroller.clientHeight,c);if(a.display.scroller.scrollTop!=c||d)a.doc.scrollTop=c,a.display.scrollbars.setScrollTop(c),a.display.scroller.scrollTop!=c&&(a.display.scroller.scrollTop=c)}function jc(a,c,d,e){c=Math.min(c,a.display.scroller.scrollWidth-a.display.scroller.clientWidth);(d?c==a.doc.scrollLeft:2>Math.abs(a.doc.scrollLeft-c))&&!e||(a.doc.scrollLeft=c,Xe(a),a.display.scroller.scrollLeft!=c&&(a.display.scroller.scrollLeft=c),a.display.scrollbars.setScrollLeft(c))}function ed(a){var g=
a.display,c=g.gutters.offsetWidth,d=Math.round(a.doc.height+Jb(a.display));return{clientHeight:g.scroller.clientHeight,viewHeight:g.wrapper.clientHeight,scrollWidth:g.scroller.scrollWidth,clientWidth:g.scroller.clientWidth,viewWidth:g.wrapper.clientWidth,barLeft:a.options.fixedGutter?c:0,docHeight:d,scrollHeight:d+Ma(a)+g.barHeight,nativeBarWidth:g.nativeBarWidth,gutterWidth:c}}function Fc(a,c){c||(c=ed(a));var g=a.display.barWidth,d=a.display.barHeight;Ye(a,c);for(c=0;4>c&&g!=a.display.barWidth||
d!=a.display.barHeight;c++)g!=a.display.barWidth&&a.options.lineWrapping&&Ld(a),Ye(a,ed(a)),g=a.display.barWidth,d=a.display.barHeight}function Ye(a,c){var g=a.display,d=g.scrollbars.update(c);g.sizer.style.paddingRight=(g.barWidth=d.right)+"px";g.sizer.style.paddingBottom=(g.barHeight=d.bottom)+"px";g.heightForcer.style.borderBottom=d.bottom+"px solid transparent";d.right&&d.bottom?(g.scrollbarFiller.style.display="block",g.scrollbarFiller.style.height=d.bottom+"px",g.scrollbarFiller.style.width=
d.right+"px"):g.scrollbarFiller.style.display="";d.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(g.gutterFiller.style.display="block",g.gutterFiller.style.height=d.bottom+"px",g.gutterFiller.style.width=c.gutterWidth+"px"):g.gutterFiller.style.display=""}function Ze(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&ic(a.display.wrapper,a.display.scrollbars.addClass));a.display.scrollbars=new $e[a.options.scrollbarStyle](function(g){a.display.wrapper.insertBefore(g,
a.display.scrollbarFiller);N(g,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)});g.setAttribute("cm-not-content","true")},function(g,c){"horizontal"==c?jc(a,g):cd(a,g)},a);a.display.scrollbars.addClass&&b(a.display.wrapper,a.display.scrollbars.addClass)}function kc(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,
scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++rg};a=a.curOp;Dc?Dc.ops.push(a):a.ownsGroup=Dc={ops:[a],delayedCallbacks:[]}}function lc(a){(a=a.curOp)&&Vc(a,function(a){for(var g=0;g<a.ops.length;g++)a.ops[g].cm.curOp=null;a=a.ops;for(g=0;g<a.length;g++){var c=a[g],d=c.cm,e=d.display,b=d.display;!b.scrollbarsClipped&&b.scroller.offsetWidth&&(b.nativeBarWidth=b.scroller.offsetWidth-b.scroller.clientWidth,b.heightForcer.style.height=Ma(d)+"px",b.sizer.style.marginBottom=-b.nativeBarWidth+
"px",b.sizer.style.borderRightWidth=Ma(d)+"px",b.scrollbarsClipped=!0);c.updateMaxLine&&Lb(d);c.mustUpdate=c.viewChanged||c.forceUpdate||null!=c.scrollTop||c.scrollToPos&&(c.scrollToPos.from.line<e.viewFrom||c.scrollToPos.to.line>=e.viewTo)||e.maxLineChanged&&d.options.lineWrapping;c.update=c.mustUpdate&&new Od(d,c.mustUpdate&&{top:c.scrollTop,ensure:c.scrollToPos},c.forceUpdate)}for(g=0;g<a.length;g++)c=a[g],c.updatedDisplay=c.mustUpdate&&ne(c.cm,c.update);for(g=0;g<a.length;g++)if(c=a[g],d=c.cm,
e=d.display,c.updatedDisplay&&Ld(d),c.barMeasure=ed(d),e.maxLineChanged&&!d.options.lineWrapping&&(b=e.maxLine.text.length,b=Fa(d,ba(d,e.maxLine),b,void 0),c.adjustWidthTo=b.left+3,d.display.sizerWidth=c.adjustWidthTo,c.barMeasure.scrollWidth=Math.max(e.scroller.clientWidth,e.sizer.offsetLeft+c.adjustWidthTo+Ma(d)+d.display.barWidth),c.maxScrollLeft=Math.max(0,e.sizer.offsetLeft+c.adjustWidthTo-ab(d))),c.updatedDisplay||c.selectionChanged)c.preparedSelection=e.input.prepareSelection();for(g=0;g<a.length;g++)c=
a[g],d=c.cm,null!=c.adjustWidthTo&&(d.display.sizer.style.minWidth=c.adjustWidthTo+"px",c.maxScrollLeft<d.doc.scrollLeft&&jc(d,Math.min(d.display.scroller.scrollLeft,c.maxScrollLeft),!0),d.display.maxLineChanged=!1),e=c.focus&&c.focus==w(),c.preparedSelection&&d.display.input.showSelection(c.preparedSelection,e),(c.updatedDisplay||c.startHeight!=d.doc.height)&&Fc(d,c.barMeasure),c.updatedDisplay&&oe(d,c.barMeasure),c.selectionChanged&&ie(d),d.state.focused&&c.updateInput&&d.display.input.reset(c.typing),
e&&Se(c.cm);for(g=0;g<a.length;g++){var h=void 0;c=a[g];d=c.cm;e=d.display;b=d.doc;c.updatedDisplay&&af(d,c.update);null==e.wheelStartX||null==c.scrollTop&&null==c.scrollLeft&&!c.scrollToPos||(e.wheelStartX=e.wheelStartY=null);null!=c.scrollTop&&We(d,c.scrollTop,c.forceScroll);null!=c.scrollLeft&&jc(d,c.scrollLeft,!0,!0);if(c.scrollToPos){var l=O(b,c.scrollToPos.from);var u=O(b,c.scrollToPos.to);var f=c.scrollToPos.margin;null==f&&(f=0);d.options.lineWrapping||l!=u||(l=l.ch?D(l.line,"before"==l.sticky?
l.ch-1:l.ch,"after"):l,u="before"==l.sticky?D(l.line,l.ch+1,"before"):l);for(var r=0;5>r;r++){var v=!1;h=Qa(d,l);var m=u&&u!=l?Qa(d,u):h;h={left:Math.min(h.left,m.left),top:Math.min(h.top,m.top)-f,right:Math.max(h.left,m.left),bottom:Math.max(h.bottom,m.bottom)+f};m=le(d,h);var n=d.doc.scrollTop,k=d.doc.scrollLeft;null!=m.scrollTop&&(cd(d,m.scrollTop),1<Math.abs(d.doc.scrollTop-n)&&(v=!0));null!=m.scrollLeft&&(jc(d,m.scrollLeft),1<Math.abs(d.doc.scrollLeft-k)&&(v=!0));if(!v)break}u=h;ia(d,"scrollCursorIntoView")||
(f=d.display,r=f.sizer.getBoundingClientRect(),l=null,0>u.top+r.top?l=!0:u.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(l=!1),null==l||sg||(u=x("div","\u200b",null,"position: absolute;\n                         top: "+(u.top-f.viewOffset-d.display.lineSpace.offsetTop)+"px;\n                         height: "+(u.bottom-u.top+Ma(d)+f.barHeight)+"px;\n                         left: "+u.left+"px; width: "+Math.max(2,u.right-u.left)+"px;"),d.display.lineSpace.appendChild(u),
u.scrollIntoView(l),d.display.lineSpace.removeChild(u)))}u=c.maybeHiddenMarkers;l=c.maybeUnhiddenMarkers;if(u)for(f=0;f<u.length;++f)u[f].lines.length||L(u[f],"hide");if(l)for(u=0;u<l.length;++u)l[u].lines.length&&L(l[u],"unhide");e.wrapper.offsetHeight&&(b.scrollTop=d.display.scroller.scrollTop);c.changeObjs&&L(d,"changes",d,c.changeObjs);c.update&&c.update.finish()}})}function Na(a,c){if(a.curOp)return c();kc(a);try{return c()}finally{lc(a)}}function na(a,c){return function(){if(a.curOp)return c.apply(a,
arguments);kc(a);try{return c.apply(a,arguments)}finally{lc(a)}}}function za(a){return function(){if(this.curOp)return a.apply(this,arguments);kc(this);try{return a.apply(this,arguments)}finally{lc(this)}}}function oa(a){return function(){var c=this.cm;if(!c||c.curOp)return a.apply(this,arguments);kc(c);try{return a.apply(this,arguments)}finally{lc(c)}}}function dd(a,c){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(c,f(tg,a))}function tg(a){var c=a.doc;if(!(c.highlightFrontier>=
a.display.viewTo)){var g=+new Date+a.options.workTime,d=db(a,c.highlightFrontier),e=[];c.iter(d.line,Math.min(c.first+c.size,a.display.viewTo+500),function(b){if(d.line>=a.display.viewFrom){var h=b.styles,l=b.text.length>a.options.maxHighlightLength?Pa(c.mode,d.state):null,u=Cb(a,b,d,!0);l&&(d.state=l);b.styles=u.styles;l=b.styleClasses;(u=u.classes)?b.styleClasses=u:l&&(b.styleClasses=null);u=!h||h.length!=b.styles.length||l!=u&&(!l||!u||l.bgClass!=u.bgClass||l.textClass!=u.textClass);for(l=0;!u&&
l<h.length;++l)u=h[l]!=b.styles[l];u&&e.push(d.line);b.stateAfter=d.save()}else b.text.length<=a.options.maxHighlightLength&&Eb(a,b.text,d),b.stateAfter=0==d.line%5?d.save():null;d.nextLine();if(+new Date>g)return dd(a,a.options.workDelay),!0});c.highlightFrontier=d.line;c.modeFrontier=Math.max(c.modeFrontier,d.line);e.length&&Na(a,function(){for(var c=0;c<e.length;c++)Pb(a,e[c],"text")})}}function ne(a,c){var g=a.display,d=a.doc;if(c.editorIsHidden)return Ob(a),!1;if(!c.force&&c.visible.from>=g.viewFrom&&
c.visible.to<=g.viewTo&&(null==g.updateLineNumbers||g.updateLineNumbers>=g.viewTo)&&g.renderedView==g.view&&0==Pe(a))return!1;bf(a)&&(Ob(a),c.dims=ce(a));var e=d.first+d.size,b=Math.max(c.visible.from-a.options.viewportMargin,d.first),h=Math.min(e,c.visible.to+a.options.viewportMargin);g.viewFrom<b&&20>b-g.viewFrom&&(b=Math.max(d.first,g.viewFrom));g.viewTo>h&&20>g.viewTo-h&&(h=Math.min(e,g.viewTo));Ab&&(b=Zb(a.doc,b),h=Ra(a.doc,h));d=b!=g.viewFrom||h!=g.viewTo||g.lastWrapHeight!=c.wrapperHeight||
g.lastWrapWidth!=c.wrapperWidth;e=a.display;0==e.view.length||b>=e.viewTo||h<=e.viewFrom?(e.view=yb(a,b,h),e.viewFrom=b):(e.viewFrom>b?e.view=yb(a,b,e.viewFrom).concat(e.view):e.viewFrom<b&&(e.view=e.view.slice(fc(a,b))),e.viewFrom=b,e.viewTo<h?e.view=e.view.concat(yb(a,e.viewTo,h)):e.viewTo>h&&(e.view=e.view.slice(0,fc(a,h))));e.viewTo=h;g.viewOffset=X(J(a.doc,g.viewFrom));a.display.mover.style.top=g.viewOffset+"px";h=Pe(a);if(!d&&0==h&&!c.force&&g.renderedView==g.view&&(null==g.updateLineNumbers||
g.updateLineNumbers>=g.viewTo))return!1;a.hasFocus()?b=null:(b=w())&&t(a.display.lineDiv,b)?(b={activeElt:b},window.getSelection&&(e=window.getSelection(),e.anchorNode&&e.extend&&t(a.display.lineDiv,e.anchorNode)&&(b.anchorNode=e.anchorNode,b.anchorOffset=e.anchorOffset,b.focusNode=e.focusNode,b.focusOffset=e.focusOffset))):b=null;4<h&&(g.lineDiv.style.display="none");ug(a,g.updateLineNumbers,c.dims);4<h&&(g.lineDiv.style.display="");g.renderedView=g.view;(h=b)&&h.activeElt&&h.activeElt!=w()&&(h.activeElt.focus(),
h.anchorNode&&t(document.body,h.anchorNode)&&t(document.body,h.focusNode)&&(b=window.getSelection(),e=document.createRange(),e.setEnd(h.anchorNode,h.anchorOffset),e.collapse(!1),b.removeAllRanges(),b.addRange(e),b.extend(h.focusNode,h.focusOffset)));B(g.cursorDiv);B(g.selectionDiv);g.gutters.style.height=g.sizer.style.minHeight=0;d&&(g.lastWrapHeight=c.wrapperHeight,g.lastWrapWidth=c.wrapperWidth,dd(a,400));g.updateLineNumbers=null;return!0}function af(a,c){for(var g=c.viewport,d=!0;;d=!1){if(!d||
!a.options.lineWrapping||c.oldDisplayWidth==ab(a))if(g&&null!=g.top&&(g={top:Math.min(a.doc.height+Jb(a.display)-Mb(a),g.top)}),c.visible=ke(a.display,a.doc,g),c.visible.from>=a.display.viewFrom&&c.visible.to<=a.display.viewTo)break;if(!ne(a,c))break;Ld(a);d=ed(a);$c(a);Fc(a,d);oe(a,d);c.force=!1}c.signal(a,"update",a);if(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)c.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=
a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo}function me(a,c){c=new Od(a,c);if(ne(a,c)){Ld(a);af(a,c);var g=ed(a);$c(a);Fc(a,g);oe(a,g);c.finish()}}function ug(a,c,d){function g(c){var g=c.nextSibling;ya&&ib&&a.display.currentWheelTarget==c?c.style.display="none":c.parentNode.removeChild(c);return g}var e=a.display,b=a.options.lineNumbers,h=e.lineDiv,l=h.firstChild,u=e.view;e=e.viewFrom;for(var f=0;f<u.length;f++){var r=u[f];if(!r.hidden)if(r.node&&r.node.parentNode==h){for(;l!=r.node;)l=
g(l);l=b&&null!=c&&c<=e&&r.lineNumber;r.changes&&(-1<m(r.changes,"gutter")&&(l=!1),dc(a,r,e,d));l&&(B(r.lineNumber),r.lineNumber.appendChild(document.createTextNode(tb(a.options,e))));l=r.node.nextSibling}else{var v=F(a,r,e,d);h.insertBefore(v,l)}e+=r.size}for(;l;)l=g(l)}function pe(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+"px"}function oe(a,c){a.display.sizer.style.minHeight=c.docHeight+"px";a.display.heightForcer.style.top=c.docHeight+"px";a.display.gutters.style.height=c.docHeight+a.display.barHeight+
Ma(a)+"px"}function Xe(a){var c=a.display,g=c.view;if(c.alignWidgets||c.gutters.firstChild&&a.options.fixedGutter){for(var d=de(c)-c.scroller.scrollLeft+a.doc.scrollLeft,e=c.gutters.offsetWidth,b=d+"px",h=0;h<g.length;h++)if(!g[h].hidden){a.options.fixedGutter&&(g[h].gutter&&(g[h].gutter.style.left=b),g[h].gutterBackground&&(g[h].gutterBackground.style.left=b));var l=g[h].alignable;if(l)for(var f=0;f<l.length;f++)l[f].style.left=b}a.options.fixedGutter&&(c.gutters.style.left=d+e+"px")}}function bf(a){if(!a.options.lineNumbers)return!1;
var c=a.doc;c=tb(a.options,c.first+c.size-1);var g=a.display;if(c.length!=g.lineNumChars){var d=g.measure.appendChild(x("div",[x("div",c)],"CodeMirror-linenumber CodeMirror-gutter-elt")),e=d.firstChild.offsetWidth;d=d.offsetWidth-e;g.lineGutter.style.width="";g.lineNumInnerWidth=Math.max(e,g.lineGutter.offsetWidth-d)+1;g.lineNumWidth=g.lineNumInnerWidth+d;g.lineNumChars=g.lineNumInnerWidth?c.length:-1;g.lineGutter.style.width=g.lineNumWidth+"px";pe(a.display);return!0}return!1}function qe(a,c){for(var g=
[],d=!1,e=0;e<a.length;e++){var b=a[e],h=null;"string"!=typeof b&&(h=b.style,b=b.className);if("CodeMirror-linenumbers"==b)if(c)d=!0;else continue;g.push({className:b,style:h})}c&&!d&&g.push({className:"CodeMirror-linenumbers",style:null});return g}function cf(a){var c=a.gutters,g=a.gutterSpecs;B(c);a.lineGutter=null;for(var d=0;d<g.length;++d){var e=g[d],b=e.className;e=e.style;var h=c.appendChild(x("div",null,"CodeMirror-gutter "+b));e&&(h.style.cssText=e);"CodeMirror-linenumbers"==b&&(a.lineGutter=
h,h.style.width=(a.lineNumWidth||1)+"px")}c.style.display=g.length?"":"none";pe(a)}function fd(a){cf(a.display);Ga(a);Xe(a)}function vg(a,c,d,e){this.input=d;this.scrollbarFiller=x("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=x("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=z("div",null,"CodeMirror-code");this.selectionDiv=x("div",null,null,"position: relative; z-index: 1");
this.cursorDiv=x("div",null,"CodeMirror-cursors");this.measure=x("div",null,"CodeMirror-measure");this.lineMeasure=x("div",null,"CodeMirror-measure");this.lineSpace=z("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var g=z("div",[this.lineSpace],"CodeMirror-lines");this.mover=x("div",[g],null,"position: relative");this.sizer=x("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=x("div",null,null,
"position: absolute; height: 30px; width: 1px;");this.gutters=x("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=x("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=x("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");W&&8>ca&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);ya||Qb&&gd||(this.scroller.draggable=!0);a&&(a.appendChild?a.appendChild(this.wrapper):
a(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=c.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=
!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=qe(e.gutters,e.lineNumbers);cf(this);d.init(this)}function df(a){var c=a.wheelDeltaX,g=a.wheelDeltaY;null==c&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(c=a.detail);null==g&&a.detail&&a.axis==a.VERTICAL_AXIS?g=a.detail:null==g&&(g=a.wheelDelta);return{x:c,y:g}}function wg(a){a=df(a);a.x*=Ta;a.y*=Ta;return a}function ef(a,c){var g=df(c),d=g.x;g=g.y;var e=a.display,
b=e.scroller,h=b.scrollWidth>b.clientWidth,l=b.scrollHeight>b.clientHeight;if(d&&h||g&&l){if(g&&ib&&ya){h=c.target;var f=e.view;a:for(;h!=b;h=h.parentNode)for(var u=0;u<f.length;u++)if(f[u].node==h){a.display.currentWheelTarget=h;break a}}!d||Qb||jb||null==Ta?(g&&null!=Ta&&(c=g*Ta,l=a.doc.scrollTop,h=l+e.wrapper.clientHeight,0>c?l=Math.max(0,l+c-50):h=Math.min(a.doc.height,h+c+50),me(a,{top:l,bottom:h})),20>Pd&&(null==e.wheelStartX?(e.wheelStartX=b.scrollLeft,e.wheelStartY=b.scrollTop,e.wheelDX=d,
e.wheelDY=g,setTimeout(function(){if(null!=e.wheelStartX){var a=b.scrollLeft-e.wheelStartX,c=b.scrollTop-e.wheelStartY;a=c&&e.wheelDY&&c/e.wheelDY||a&&e.wheelDX&&a/e.wheelDX;e.wheelStartX=e.wheelStartY=null;a&&(Ta=(Ta*Pd+a)/(Pd+1),++Pd)}},200)):(e.wheelDX+=d,e.wheelDY+=g))):(g&&l&&cd(a,Math.max(0,b.scrollTop+g*Ta)),jc(a,Math.max(0,b.scrollLeft+d*Ta)),(!g||g&&l)&&T(c),e.wheelStartX=null)}}function kb(a,c,d){a=a&&a.options.selectionsMayTouch;d=c[d];c.sort(function(a,c){return M(a.from(),c.from())});
d=m(c,d);for(var g=1;g<c.length;g++){var e=c[g],b=c[g-1],h=M(b.to(),e.from());if(a&&!e.empty()?0<h:0<=h){h=nb(b.from(),e.from());var l=Z(b.to(),e.to());e=b.empty()?e.from()==e.head:b.from()==b.head;g<=d&&--d;c.splice(--g,2,new Y(e?l:h,e?h:l))}}return new Ua(c,d)}function Bb(a,c){return new Ua([new Y(a,c||a)],0)}function Rb(c){return c.text?D(c.from.line+c.text.length-1,a(c.text).length+(1==c.text.length?c.from.ch:0)):c.to}function ff(a,c){if(0>M(a,c.from))return a;if(0>=M(a,c.to))return Rb(c);var g=
a.line+c.text.length-(c.to.line-c.from.line)-1,d=a.ch;a.line==c.to.line&&(d+=Rb(c).ch-c.to.ch);return D(g,d)}function re(a,c){for(var g=[],d=0;d<a.sel.ranges.length;d++){var e=a.sel.ranges[d];g.push(new Y(ff(e.anchor,c),ff(e.head,c)))}return kb(a.cm,g,a.sel.primIndex)}function gf(a,c,d){return a.line==c.line?D(d.line,a.ch-c.ch+d.ch):D(d.line+(a.line-c.line),a.ch)}function se(a){a.doc.mode=Q(a.options,a.doc.modeOption);hd(a)}function hd(a){a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null);a.styles&&
(a.styles=null)});a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first;dd(a,100);a.state.modeGen++;a.curOp&&Ga(a)}function hf(c,d){return 0==d.from.ch&&0==d.to.ch&&""==a(d.text)&&(!c.cm||c.cm.options.wholeLineUpdateBefore)}function te(c,d,e,b){function g(a,c,g){a.text=c;a.stateAfter&&(a.stateAfter=null);a.styles&&(a.styles=null);null!=a.order&&(a.order=null);Ja(a);Ea(a,g);c=b?b(a):1;c!=a.height&&Ia(a,c);fa(a,"change",a,d)}function h(a,c){for(var g=[];a<c;++a)g.push(new Gc(u[a],e?e[a]:null,b));return g}
var l=d.from,f=d.to,u=d.text,r=J(c,l.line),v=J(c,f.line),m=a(u),n=e?e[u.length-1]:null,k=f.line-l.line;d.full?(c.insert(0,h(0,u.length)),c.remove(u.length,c.size-u.length)):hf(c,d)?(f=h(0,u.length-1),g(v,v.text,n),k&&c.remove(l.line,k),f.length&&c.insert(l.line,f)):r==v?1==u.length?g(r,r.text.slice(0,l.ch)+m+r.text.slice(f.ch),n):(k=h(1,u.length-1),k.push(new Gc(m+r.text.slice(f.ch),n,b)),g(r,r.text.slice(0,l.ch)+u[0],e?e[0]:null),c.insert(l.line+1,k)):1==u.length?(g(r,r.text.slice(0,l.ch)+u[0]+v.text.slice(f.ch),
e?e[0]:null),c.remove(l.line+1,k)):(g(r,r.text.slice(0,l.ch)+u[0],e?e[0]:null),g(v,m+v.text.slice(f.ch),n),n=h(1,u.length-1),1<k&&c.remove(l.line+1,k-1),c.insert(l.line+1,n));fa(c,"change",c,d)}function mc(a,c,d){function g(a,e,b){if(a.linked)for(var h=0;h<a.linked.length;++h){var l=a.linked[h];if(l.doc!=e){var f=b&&l.sharedHist;if(!d||f)c(l.doc,f),g(l.doc,a,f)}}}g(a,null,!0)}function jf(a,c){if(c.cm)throw Error("This document is already in use.");a.doc=c;c.cm=a;Wc(a);se(a);kf(a);a.options.lineWrapping||
Lb(a);a.options.mode=c.modeOption;Ga(a)}function kf(a){("rtl"==a.doc.direction?b:ic)(a.display.lineDiv,"CodeMirror-rtl")}function xg(a){Na(a,function(){kf(a);Ga(a)})}function Qd(a){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=a||1}function ue(a,c){var g={from:xa(c.from),to:Rb(c),text:Ba(a,c.from,c.to)};lf(a,g,c.from.line,c.to.line+1);mc(a,function(a){return lf(a,
g,c.from.line,c.to.line+1)},!0);return g}function mf(c){for(;c.length;)if(a(c).ranges)c.pop();else break}function nf(c,d,e,b){var g=c.history;g.undone.length=0;var h=+new Date,l;if(l=g.lastOp==b||g.lastOrigin==d.origin&&d.origin&&("+"==d.origin.charAt(0)&&g.lastModTime>h-(c.cm?c.cm.options.historyEventDelay:500)||"*"==d.origin.charAt(0))){if(g.lastOp==b){mf(g.done);var f=a(g.done)}else g.done.length&&!a(g.done).ranges?f=a(g.done):1<g.done.length&&!g.done[g.done.length-2].ranges?(g.done.pop(),f=a(g.done)):
f=void 0;l=f}if(l){var u=a(f.changes);0==M(d.from,d.to)&&0==M(d.from,u.to)?u.to=Rb(d):f.changes.push(ue(c,d))}else for((f=a(g.done))&&f.ranges||Rd(c.sel,g.done),f={changes:[ue(c,d)],generation:g.generation},g.done.push(f);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift();g.done.push(e);g.generation=++g.maxGeneration;g.lastModTime=g.lastSelTime=h;g.lastOp=g.lastSelOp=b;g.lastOrigin=g.lastSelOrigin=d.origin;u||L(c,"historyAdded")}function Rd(c,d){var g=a(d);g&&g.ranges&&g.equals(c)||
d.push(c)}function lf(a,c,d,e){var g=c["spans_"+a.id],b=0;a.iter(Math.max(a.first,d),Math.min(a.first+a.size,e),function(d){d.markedSpans&&((g||(g=c["spans_"+a.id]={}))[b]=d.markedSpans);++b})}function yg(a){if(!a)return null;for(var c,g=0;g<a.length;++g)a[g].marker.explicitlyCleared?c||(c=a.slice(0,g)):c&&c.push(a[g]);return c?c.length?c:null:a}function of(a,c){var g;if(g=c["spans_"+a.id]){for(var d=[],e=0;e<c.text.length;++e)d.push(yg(g[e]));g=d}else g=null;a=ma(a,c);if(!g)return a;if(!a)return g;
for(c=0;c<g.length;++c)if(d=g[c],e=a[c],d&&e){var b=0;a:for(;b<e.length;++b){for(var h=e[b],l=0;l<d.length;++l)if(d[l].marker==h.marker)continue a;d.push(h)}}else e&&(g[c]=e);return g}function Hc(c,d,e){for(var g=[],b=0;b<c.length;++b){var h=c[b];if(h.ranges)g.push(e?Ua.prototype.deepCopy.call(h):h);else{h=h.changes;var l=[];g.push({changes:l});for(var f=0;f<h.length;++f){var u=h[f],r;l.push({from:u.from,to:u.to,text:u.text});if(d)for(var v in u)(r=v.match(/^spans_(\d+)$/))&&-1<m(d,Number(r[1]))&&
(a(l)[v]=u[v],delete u[v])}}}return g}function ve(a,c,d,e){return e?(a=a.anchor,d&&(e=0>M(c,a),e!=0>M(d,a)?(a=c,c=d):e!=0>M(c,d)&&(c=d)),new Y(a,c)):new Y(d||c,c)}function Sd(a,c,d,e,b){null==b&&(b=a.cm&&(a.cm.display.shift||a.extend));qa(a,new Ua([ve(a.sel.primary(),c,d,b)],0),e)}function pf(a,c,d){for(var g=[],e=a.cm&&(a.cm.display.shift||a.extend),b=0;b<a.sel.ranges.length;b++)g[b]=ve(a.sel.ranges[b],c[b],null,e);c=kb(a.cm,g,a.sel.primIndex);qa(a,c,d)}function we(a,c,d,e){var g=a.sel.ranges.slice(0);
g[c]=d;qa(a,kb(a.cm,g,a.sel.primIndex),e)}function zg(a,c,d){d={ranges:c.ranges,update:function(c){this.ranges=[];for(var g=0;g<c.length;g++)this.ranges[g]=new Y(O(a,c[g].anchor),O(a,c[g].head))},origin:d&&d.origin};L(a,"beforeSelectionChange",a,d);a.cm&&L(a.cm,"beforeSelectionChange",a.cm,d);return d.ranges!=c.ranges?kb(a.cm,d.ranges,d.ranges.length-1):c}function qf(c,d,e){var g=c.history.done,b=a(g);b&&b.ranges?(g[g.length-1]=d,Td(c,d,e)):qa(c,d,e)}function qa(c,d,e){Td(c,d,e);d=c.sel;var g=c.cm?
c.cm.curOp.id:NaN,b=c.history,h=e&&e.origin,l;if(!(l=g==b.lastSelOp)&&(l=h&&b.lastSelOrigin==h)&&!(l=b.lastModTime==b.lastSelTime&&b.lastOrigin==h)){l=a(b.done);var f=h.charAt(0);l="*"==f||"+"==f&&l.ranges.length==d.ranges.length&&l.somethingSelected()==d.somethingSelected()&&new Date-c.history.lastSelTime<=(c.cm?c.cm.options.historyEventDelay:500)}l?b.done[b.done.length-1]=d:Rd(d,b.done);b.lastSelTime=+new Date;b.lastSelOrigin=h;b.lastSelOp=g;e&&!1!==e.clearRedo&&mf(b.undone)}function Td(a,c,d){if(ha(a,
"beforeSelectionChange")||a.cm&&ha(a.cm,"beforeSelectionChange"))c=zg(a,c,d);var g=d&&d.bias||(0>M(c.primary().head,a.sel.primary().head)?-1:1);rf(a,sf(a,c,g,!0));d&&!1===d.scroll||!a.cm||Ec(a.cm)}function rf(a,c){c.equals(a.sel)||(a.sel=c,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,Ub(a.cm)),fa(a,"cursorActivity",a))}function tf(a){rf(a,sf(a,a.sel,null,!1))}function sf(a,c,d,e){for(var g,b=0;b<c.ranges.length;b++){var h=c.ranges[b],l=c.ranges.length==a.sel.ranges.length&&a.sel.ranges[b],
f=xe(a,h.anchor,l&&l.anchor,d,e);l=xe(a,h.head,l&&l.head,d,e);if(g||f!=h.anchor||l!=h.head)g||(g=c.ranges.slice(0,b)),g[b]=new Y(f,l)}return g?kb(a.cm,g,c.primIndex):c}function Ic(a,c,d,e,b){var g=J(a,c.line);if(g.markedSpans)for(var h=0;h<g.markedSpans.length;++h){var l=g.markedSpans[h],f=l.marker;if((null==l.from||(f.inclusiveLeft?l.from<=c.ch:l.from<c.ch))&&(null==l.to||(f.inclusiveRight?l.to>=c.ch:l.to>c.ch))){if(b&&(L(f,"beforeCursorEnter"),f.explicitlyCleared))if(g.markedSpans){--h;continue}else break;
if(f.atomic){if(d){h=f.find(0>e?1:-1);l=void 0;if(0>e?f.inclusiveRight:f.inclusiveLeft)h=uf(a,h,-e,h&&h.line==c.line?g:null);if(h&&h.line==c.line&&(l=M(h,d))&&(0>e?0>l:0<l))return Ic(a,h,c,e,b)}d=f.find(0>e?-1:1);if(0>e?f.inclusiveLeft:f.inclusiveRight)d=uf(a,d,e,d.line==c.line?g:null);return d?Ic(a,d,c,e,b):null}}}return c}function xe(a,c,d,e,b){e=e||1;c=Ic(a,c,d,e,b)||!b&&Ic(a,c,d,e,!0)||Ic(a,c,d,-e,b)||!b&&Ic(a,c,d,-e,!0);return c?c:(a.cantEdit=!0,D(a.first,0))}function uf(a,c,d,e){return 0>d&&
0==c.ch?c.line>a.first?O(a,D(c.line-1)):null:0<d&&c.ch==(e||J(a,c.line)).text.length?c.line<a.first+a.size-1?D(c.line+1,0):null:new D(c.line,c.ch+d)}function vf(a){a.setSelection(D(a.firstLine(),0),D(a.lastLine()),qb)}function wf(a,c,d){var g={canceled:!1,from:c.from,to:c.to,text:c.text,origin:c.origin,cancel:function(){return g.canceled=!0}};d&&(g.update=function(c,d,e,b){c&&(g.from=O(a,c));d&&(g.to=O(a,d));e&&(g.text=e);void 0!==b&&(g.origin=b)});L(a,"beforeChange",a,g);a.cm&&L(a.cm,"beforeChange",
a.cm,g);return g.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:g.from,to:g.to,text:g.text,origin:g.origin}}function Jc(a,c,d){if(a.cm){if(!a.cm.curOp)return na(a.cm,Jc)(a,c,d);if(a.cm.state.suppressEdits)return}if(ha(a,"beforeChange")||a.cm&&ha(a.cm,"beforeChange"))if(c=wf(a,c,!0),!c)return;if(d=xf&&!d&&ra(a,c.from,c.to))for(var g=d.length-1;0<=g;--g)yf(a,{from:d[g].from,to:d[g].to,text:g?[""]:c.text,origin:c.origin});else yf(a,c)}function yf(a,c){if(1!=c.text.length||""!=c.text[0]||0!=M(c.from,
c.to)){var d=re(a,c);nf(a,c,d,a.cm?a.cm.curOp.id:NaN);id(a,c,d,ma(a,c));var g=[];mc(a,function(a,d){d||-1!=m(g,a.history)||(zf(a.history,c),g.push(a.history));id(a,c,null,ma(a,c))})}}function Ud(c,d,e){var g=c.cm&&c.cm.state.suppressEdits;if(!g||e){for(var b=c.history,h,l=c.sel,f="undo"==d?b.done:b.undone,r="undo"==d?b.undone:b.done,u=0;u<f.length&&(h=f[u],e?!h.ranges||h.equals(c.sel):h.ranges);u++);if(u!=f.length){for(b.lastOrigin=b.lastSelOrigin=null;;)if(h=f.pop(),h.ranges){Rd(h,r);if(e&&!h.equals(c.sel)){qa(c,
h,{clearRedo:!1});return}l=h}else{if(g){f.push(h);return}break}var v=[];Rd(l,r);r.push({changes:v,generation:b.generation});b.generation=h.generation||++b.maxGeneration;var n=ha(c,"beforeChange")||c.cm&&ha(c.cm,"beforeChange");e=function(g){var e=h.changes[g];e.origin=d;if(n&&!wf(c,e,!1))return f.length=0,{};v.push(ue(c,e));var b=g?re(c,e):a(f);id(c,e,b,of(c,e));!g&&c.cm&&c.cm.scrollIntoView({from:e.from,to:Rb(e)});var l=[];mc(c,function(a,c){c||-1!=m(l,a.history)||(zf(a.history,e),l.push(a.history));
id(a,e,null,of(a,e))})};for(g=h.changes.length-1;0<=g;--g)if(b=e(g))return b.v}}}function Af(a,d){if(0!=d&&(a.first+=d,a.sel=new Ua(c(a.sel.ranges,function(a){return new Y(D(a.anchor.line+d,a.anchor.ch),D(a.head.line+d,a.head.ch))}),a.sel.primIndex),a.cm)){Ga(a.cm,a.first,a.first-d,d);for(var g=a.cm.display,e=g.viewFrom;e<g.viewTo;e++)Pb(a.cm,e,"gutter")}}function id(c,d,e,b){if(c.cm&&!c.cm.curOp)return na(c.cm,id)(c,d,e,b);if(d.to.line<c.first)Af(c,d.text.length-1-(d.to.line-d.from.line));else if(!(d.from.line>
c.lastLine())){if(d.from.line<c.first){var g=d.text.length-1-(c.first-d.from.line);Af(c,g);d={from:D(c.first,0),to:D(d.to.line+g,d.to.ch),text:[a(d.text)],origin:d.origin}}g=c.lastLine();d.to.line>g&&(d={from:d.from,to:D(g,J(c,g).text.length),text:[d.text[0]],origin:d.origin});d.removed=Ba(c,d.from,d.to);e||(e=re(c,d));c.cm?Ag(c.cm,d,b):te(c,d,b);Td(c,e,qb)}}function Ag(a,c,d){var g=a.doc,e=a.display,b=c.from,h=c.to,l=!1,f=b.line;a.options.lineWrapping||(f=U(La(J(g,b.line))),g.iter(f,h.line+1,function(a){if(a==
e.maxLine)return l=!0}));-1<g.sel.contains(c.from,c.to)&&Ub(a);te(g,c,d,Le(a));a.options.lineWrapping||(g.iter(f,b.line+c.text.length,function(a){var c=Kb(a);c>e.maxLineLength&&(e.maxLine=a,e.maxLineLength=c,e.maxLineChanged=!0,l=!1)}),l&&(a.curOp.updateMaxLine=!0));Za(g,b.line);dd(a,400);d=c.text.length-(h.line-b.line)-1;c.full?Ga(a):b.line!=h.line||1!=c.text.length||hf(a.doc,c)?Ga(a,b.line,h.line+1,d):Pb(a,b.line,"text");d=ha(a,"changes");if((g=ha(a,"change"))||d)c={from:b,to:h,text:c.text,removed:c.removed,
origin:c.origin},g&&fa(a,"change",a,c),d&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(c);a.display.selForContextMenu=null}function Kc(a,c,d,e,b){e||(e=d);0>M(e,d)&&(e=[e,d],d=e[0],e=e[1]);"string"==typeof c&&(c=a.splitLines(c));Jc(a,{from:d,to:e,text:c,origin:b})}function Bf(a,c,d,e){d<a.line?a.line+=e:c<a.line&&(a.line=c,a.ch=0)}function Cf(a,c,d,e){for(var g=0;g<a.length;++g){var b=a[g],h=!0;if(b.ranges)for(b.copied||(b=a[g]=b.deepCopy(),b.copied=!0),h=0;h<b.ranges.length;h++)Bf(b.ranges[h].anchor,
c,d,e),Bf(b.ranges[h].head,c,d,e);else{for(var l=0;l<b.changes.length;++l){var f=b.changes[l];if(d<f.from.line)f.from=D(f.from.line+e,f.from.ch),f.to=D(f.to.line+e,f.to.ch);else if(c<=f.to.line){h=!1;break}}h||(a.splice(0,g+1),g=0)}}}function zf(a,c){var d=c.from.line,g=c.to.line;c=c.text.length-(g-d)-1;Cf(a.done,d,g,c);Cf(a.undone,d,g,c)}function jd(a,c,d,e){var g=c,b=c;"number"==typeof c?b=J(a,Math.max(a.first,Math.min(c,a.first+a.size-1))):g=U(c);if(null==g)return null;e(b,g)&&a.cm&&Pb(a.cm,g,
d);return b}function kd(a){this.lines=a;this.parent=null;for(var c=0,d=0;d<a.length;++d)a[d].parent=this,c+=a[d].height;this.height=c}function ld(a){this.children=a;for(var c=0,d=0,g=0;g<a.length;++g){var e=a[g];c+=e.chunkSize();d+=e.height;e.parent=this}this.size=c;this.height=d;this.parent=null}function Bg(a,c,d,e){var g=new md(a,d,e),b=a.cm;b&&g.noHScroll&&(b.display.alignWidgets=!0);jd(a,c,"widget",function(c){var d=c.widgets||(c.widgets=[]);null==g.insertAt?d.push(g):d.splice(Math.min(d.length-
1,Math.max(0,g.insertAt)),0,g);g.line=c;b&&!ta(a,c)&&(d=X(c)<a.scrollTop,Ia(c,c.height+hb(g)),d&&Md(b,g.height),b.curOp.forceUpdate=!0);return!0});b&&fa(b,"lineWidgetAdded",b,g,"number"==typeof c?c:U(c));return g}function Lc(a,c,d,e,b){if(e&&e.shared)return Cg(a,c,d,e,b);if(a.cm&&!a.cm.curOp)return na(a.cm,Lc)(a,c,d,e,b);var g=new Sb(a,b);b=M(c,d);e&&k(e,g,!1);if(0<b||0==b&&!1!==g.clearWhenEmpty)return g;g.replacedWith&&(g.collapsed=!0,g.widgetNode=z("span",[g.replacedWith],"CodeMirror-widget"),e.handleMouseEvents||
g.widgetNode.setAttribute("cm-ignore-events","true"),e.insertLeft&&(g.widgetNode.insertLeft=!0));if(g.collapsed){if(Ib(a,c.line,c,d,g)||c.line!=d.line&&Ib(a,d.line,c,d,g))throw Error("Inserting collapsed marker partially overlapping an existing one");Ab=!0}g.addToHistory&&nf(a,{from:c,to:d,origin:"markText"},a.sel,NaN);var h=c.line,l=a.cm,f;a.iter(h,d.line+1,function(a){l&&g.collapsed&&!l.options.lineWrapping&&La(a)==l.display.maxLine&&(f=!0);g.collapsed&&h!=c.line&&Ia(a,0);var e=new wb(g,h==c.line?
c.ch:null,h==d.line?d.ch:null);a.markedSpans=a.markedSpans?a.markedSpans.concat([e]):[e];e.marker.attachLine(a);++h});g.collapsed&&a.iter(c.line,d.line+1,function(c){ta(a,c)&&Ia(c,0)});g.clearOnEnter&&N(g,"beforeCursorEnter",function(){return g.clear()});g.readOnly&&(xf=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory());g.collapsed&&(g.id=++Df,g.atomic=!0);if(l){f&&(l.curOp.updateMaxLine=!0);if(g.collapsed)Ga(l,c.line,d.line+1);else if(g.className||g.startStyle||g.endStyle||g.css||
g.attributes||g.title)for(e=c.line;e<=d.line;e++)Pb(l,e,"text");g.atomic&&tf(l.doc);fa(l,"markerAdded",l,g)}return g}function Cg(c,d,e,b,h){b=k(b);b.shared=!1;var g=[Lc(c,d,e,b,h)],l=g[0],f=b.widgetNode;mc(c,function(c){f&&(b.widgetNode=f.cloneNode(!0));g.push(Lc(c,O(c,d),O(c,e),b,h));for(var r=0;r<c.linked.length;++r)if(c.linked[r].isParent)return;l=a(g)});return new nd(g,l)}function Ef(a){return a.findMarks(D(a.first,0),a.clipPos(D(a.lastLine())),function(a){return a.parent})}function Dg(a){for(var c=
function(c){c=a[c];var d=[c.primary.doc];mc(c.primary.doc,function(a){return d.push(a)});for(var g=0;g<c.markers.length;g++){var e=c.markers[g];-1==m(d,e.doc)&&(e.parent=null,c.markers.splice(g--,1))}},d=0;d<a.length;d++)c(d)}function Eg(a){var c=this;Ff(c);if(!ia(c,a)&&!Sa(c.display,a)){T(a);W&&(Gf=+new Date);var d=hc(c,a,!0),g=a.dataTransfer.files;if(d&&!c.isReadOnly())if(g&&g.length&&window.FileReader&&window.File)for(var e=g.length,b=Array(e),h=0,l=function(a,g){if(!c.options.allowDropFileTypes||
-1!=m(c.options.allowDropFileTypes,a.type)){var l=new FileReader;l.onload=na(c,function(){var a=l.result;/[\x00-\x08\x0e-\x1f]{2}/.test(a)&&(a="");b[g]=a;++h==e&&(d=O(c.doc,d),a={from:d,to:d,text:c.doc.splitLines(b.join(c.doc.lineSeparator())),origin:"paste"},Jc(c.doc,a),qf(c.doc,Bb(d,Rb(a))))});l.readAsText(a)}},f=0;f<e;++f)l(g[f],f);else if(c.state.draggingText&&-1<c.doc.sel.contains(d))c.state.draggingText(a),setTimeout(function(){return c.display.input.focus()},20);else try{if(l=a.dataTransfer.getData("Text")){c.state.draggingText&&
!c.state.draggingText.copy&&(f=c.listSelections());Td(c.doc,Bb(d,d));if(f)for(g=0;g<f.length;++g)Kc(c.doc,"",f[g].anchor,f[g].head,"drag");c.replaceSelection(l,"around","paste");c.display.input.focus()}}catch(hh){}}}function Ff(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Hf(a){if(document.getElementsByClassName){for(var c=document.getElementsByClassName("CodeMirror"),d=[],g=0;g<c.length;g++){var e=c[g].CodeMirror;e&&d.push(e)}d.length&&
d[0].operation(function(){for(var c=0;c<d.length;c++)a(d[c])})}}function Fg(){var a;N(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null;Hf(Gg)},100))});N(window,"blur",function(){return Hf(ad)})}function Gg(a){var c=a.display;c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null;c.scrollbarsClipped=!1;a.setSize()}function Hg(a){var c=a.split(/-(?!$)/);a=c[c.length-1];for(var d,g,e,b,h=0;h<c.length-1;h++){var l=c[h];if(/^(cmd|meta|m)$/i.test(l))b=!0;else if(/^a(lt)?$/i.test(l))d=
!0;else if(/^(c|ctrl|control)$/i.test(l))g=!0;else if(/^s(hift)?$/i.test(l))e=!0;else throw Error("Unrecognized modifier name: "+l);}d&&(a="Alt-"+a);g&&(a="Ctrl-"+a);b&&(a="Cmd-"+a);e&&(a="Shift-"+a);return a}function Ig(a){var d={},g;for(g in a)if(a.hasOwnProperty(g)){var e=a[g];if(!/^(name|fallthrough|(de|at)tach)$/.test(g)){if("..."!=e)for(var b=c(g.split(" "),Hg),h=0;h<b.length;h++){if(h==b.length-1){var l=b.join(" ");var f=e}else l=b.slice(0,h+1).join(" "),f="...";var r=d[l];if(!r)d[l]=f;else if(r!=
f)throw Error("Inconsistent bindings for "+l);}delete a[g]}}for(var v in d)a[v]=d[v];return a}function Mc(a,c,d,e){c=Vd(c);var g=c.call?c.call(a,e):c[a];if(!1===g)return"nothing";if("..."===g)return"multi";if(null!=g&&d(g))return"handled";if(c.fallthrough){if("[object Array]"!=Object.prototype.toString.call(c.fallthrough))return Mc(a,c.fallthrough,d,e);for(g=0;g<c.fallthrough.length;g++){var b=Mc(a,c.fallthrough[g],d,e);if(b)return b}}}function If(a){a="string"==typeof a?a:Tb[a.keyCode];return"Ctrl"==
a||"Alt"==a||"Shift"==a||"Mod"==a}function Jf(a,c,d){var g=a;c.altKey&&"Alt"!=g&&(a="Alt-"+a);(Kf?c.metaKey:c.ctrlKey)&&"Ctrl"!=g&&(a="Ctrl-"+a);(Kf?c.ctrlKey:c.metaKey)&&"Cmd"!=g&&(a="Cmd-"+a);!d&&c.shiftKey&&"Shift"!=g&&(a="Shift-"+a);return a}function Lf(a,c){if(jb&&34==a.keyCode&&a["char"])return!1;var d=Tb[a.keyCode];if(null==d||a.altGraphKey)return!1;3==a.keyCode&&a.code&&(d=a.code);return Jf(d,a,c)}function Vd(a){return"string"==typeof a?od[a]:a}function Nc(c,d){for(var g=c.doc.sel.ranges,
e=[],b=0;b<g.length;b++){for(var h=d(g[b]);e.length&&0>=M(h.from,a(e).to);){var l=e.pop();if(0>M(l.from,h.from)){h.from=l.from;break}}e.push(h)}Na(c,function(){for(var a=e.length-1;0<=a;a--)Kc(c.doc,"",e[a].from,e[a].to,"+delete");Ec(c)})}function ye(a,c,d){c=H(a.text,c+d,d);return 0>c||c>a.text.length?null:c}function ze(a,c,d){a=ye(a,c.ch,d);return null==a?null:new D(c.line,a,0>d?"after":"before")}function Ae(c,d,e,b,h){if(c&&(c=Va(e,d.doc.direction))){c=0>h?a(c):c[0];var g=0>h==(1==c.level)?"after":
"before";if(0<c.level||"rtl"==d.doc.direction){var l=ba(d,e);var f=0>h?e.text.length-1:0;var r=Fa(d,l,f).top;f=K(function(a){return Fa(d,l,a).top==r},0>h==(1==c.level)?c.from:c.to-1,f);"before"==g&&(f=ye(e,f,1))}else f=0>h?c.to:c.from;return new D(b,f,g)}return new D(b,0>h?e.text.length:0,0>h?"before":"after")}function Jg(a,c,d,e){var g=Va(c,a.doc.direction);if(!g)return ze(c,d,e);d.ch>=c.text.length?(d.ch=c.text.length,d.sticky="before"):0>=d.ch&&(d.ch=0,d.sticky="after");var b=R(g,d.ch,d.sticky),
h=g[b];if("ltr"==a.doc.direction&&0==h.level%2&&(0<e?h.to>d.ch:h.from<d.ch))return ze(c,d,e);var l=function(a,d){return ye(c,a instanceof D?a.ch:a,d)},f,r=function(d){if(!a.options.lineWrapping)return{begin:0,end:c.text.length};f=f||ba(a,c);return Ke(a,c,f,d)},v=r("before"==d.sticky?l(d,-1):d.ch);if("rtl"==a.doc.direction||1==h.level){var m=1==h.level==0>e,u=l(d,m?1:-1);if(null!=u&&(m?u<=h.to&&u<=v.end:u>=h.from&&u>=v.begin))return new D(d.line,u,m?"before":"after")}h=function(a,c,e){for(var b=function(a,
c){return c?new D(d.line,l(a,1),"before"):new D(d.line,a,"after")};0<=a&&a<g.length;a+=c){var h=g[a],f=0<c==(1!=h.level),r=f?e.begin:l(e.end,-1);if(h.from<=r&&r<h.to)return b(r,f);r=f?h.from:l(h.to,-1);if(e.begin<=r&&r<e.end)return b(r,f)}};if(b=h(b+e,e,v))return b;v=0<e?v.end:l(v.begin,-1);return null==v||0<e&&v==c.text.length||!(b=h(0<e?0:g.length-1,e,r(v)))?null:b}function Mf(a,c){var d=J(a.doc,c),g=La(d);g!=d&&(c=U(g));return Ae(!0,a,g,c,1)}function Nf(a,c){var d=Mf(a,c.line),g=J(a.doc,d.line);
a=Va(g,a.doc.direction);return a&&0!=a[0].level?d:(g=Math.max(0,g.text.search(/\S/)),D(d.line,c.line==d.line&&c.ch<=g&&c.ch?0:g,d.sticky))}function Wd(a,c,d){if("string"==typeof c&&(c=pd[c],!c))return!1;a.display.input.ensurePolled();var g=a.display.shift,e=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),d&&(a.display.shift=!1),e=c(a)!=Xd}finally{a.display.shift=g,a.state.suppressEdits=!1}return e}function qd(a,c,d,e){var g=a.state.keySeq;if(g){if(If(c))return"handled";/'$/.test(c)?a.state.keySeq=
null:Kg.set(50,function(){a.state.keySeq==g&&(a.state.keySeq=null,a.display.input.reset())});if(Of(a,g+" "+c,d,e))return!0}return Of(a,c,d,e)}function Of(a,c,d,e){a:{for(var g=0;g<a.state.keyMaps.length;g++){var b=Mc(c,a.state.keyMaps[g],e,a);if(b){e=b;break a}}e=a.options.extraKeys&&Mc(c,a.options.extraKeys,e,a)||Mc(c,a.options.keyMap,e,a)}"multi"==e&&(a.state.keySeq=c);"handled"==e&&fa(a,"keyHandled",a,c,d);if("handled"==e||"multi"==e)T(d),ie(a);return!!e}function Pf(a,c){var d=Lf(c,!0);return d?
c.shiftKey&&!a.state.keySeq?qd(a,"Shift-"+d,c,function(c){return Wd(a,c,!0)})||qd(a,d,c,function(c){if("string"==typeof c?/^go[A-Z]/.test(c):c.motion)return Wd(a,c)}):qd(a,d,c,function(c){return Wd(a,c)}):!1}function Lg(a,c,d){return qd(a,"'"+d+"'",c,function(c){return Wd(a,c,!0)})}function Qf(a){this.curOp.focus=w();if(!ia(this,a)){W&&11>ca&&27==a.keyCode&&(a.returnValue=!1);var c=a.keyCode;this.display.shift=16==c||a.shiftKey;var d=Pf(this,a);jb&&(Be=d?c:null,!d&&88==c&&!Mg&&(ib?a.metaKey:a.ctrlKey)&&
this.replaceSelection("",null,"cut"));18!=c||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||Ng(this)}}function Ng(a){function c(a){18!=a.keyCode&&a.altKey||(ic(d,"CodeMirror-crosshair"),G(document,"keyup",c),G(document,"mouseover",c))}var d=a.display.lineDiv;b(d,"CodeMirror-crosshair");N(document,"keyup",c);N(document,"mouseover",c)}function Rf(a){16==a.keyCode&&(this.doc.sel.shift=!1);ia(this,a)}function Sf(a){if(!(Sa(this.display,a)||ia(this,a)||a.ctrlKey&&!a.altKey||ib&&a.metaKey)){var c=
a.keyCode,d=a.charCode;if(jb&&c==Be)Be=null,T(a);else if(!jb||a.which&&!(10>a.which)||!Pf(this,a))if(c=String.fromCharCode(null==d?c:d),"\b"!=c&&!Lg(this,a,c))this.display.input.onKeyPress(a)}}function Og(a,c){var d=+new Date;if(rd&&rd.compare(d,a,c))return sd=rd=null,"triple";if(sd&&sd.compare(d,a,c))return rd=new Ce(d,a,c),sd=null,"double";sd=new Ce(d,a,c);rd=null;return"single"}function Tf(a){var c=this.display;if(!(ia(this,a)||c.activeTouch&&c.input.supportsTouch()))if(c.input.ensurePolled(),
c.shift=a.shiftKey,Sa(c,a))ya||(c.scroller.draggable=!1,setTimeout(function(){return c.scroller.draggable=!0},100));else if(!Yd(this,a,"gutterClick",!0)){var d=hc(this,a),e=la(a),g=d?Og(d,e):"single";window.focus();1==e&&this.state.selectingText&&this.state.selectingText(a);if(!d||!Pg(this,e,d,g,a))if(1==e)d?Qg(this,d,g,a):(a.target||a.srcElement)==c.scroller&&T(a);else if(2==e)d&&Sd(this.doc,d),setTimeout(function(){return c.input.focus()},20);else if(3==e)if(De)this.display.input.onContextMenu(a);
else Te(this)}}function Pg(a,c,d,e,b){var g="Click";"double"==e?g="Double"+g:"triple"==e&&(g="Triple"+g);return qd(a,Jf((1==c?"Left":2==c?"Middle":"Right")+g,b),b,function(c){"string"==typeof c&&(c=pd[c]);if(!c)return!1;var e=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),e=c(a,d)!=Xd}finally{a.state.suppressEdits=!1}return e})}function Qg(a,c,d,e){W?setTimeout(f(Se,a),0):a.curOp.focus=w();var g=a.getOption("configureMouse");g=g?g(a,d,e):{};null==g.unit&&(g.unit=(Rg?e.shiftKey&&e.metaKey:e.altKey)?
"rectangle":"single"==d?"char":"double"==d?"word":"line");if(null==g.extend||a.doc.extend)g.extend=a.doc.extend||e.shiftKey;null==g.addNew&&(g.addNew=ib?e.metaKey:e.ctrlKey);null==g.moveOnDrag&&(g.moveOnDrag=!(ib?e.altKey:e.ctrlKey));var b=a.doc.sel,h;a.options.dragDrop&&Sg&&!a.isReadOnly()&&"single"==d&&-1<(h=b.contains(c))&&(0>M((h=b.ranges[h]).from(),c)||0<c.xRel)&&(0<M(h.to(),c)||0>c.xRel)?Tg(a,e,c,g):Ug(a,e,c,g)}function Tg(a,c,d,e){var g=a.display,b=!1,h=na(a,function(c){ya&&(g.scroller.draggable=
!1);a.state.draggingText=!1;G(g.wrapper.ownerDocument,"mouseup",h);G(g.wrapper.ownerDocument,"mousemove",l);G(g.scroller,"dragstart",f);G(g.scroller,"drop",h);b||(T(c),e.addNew||Sd(a.doc,d,null,null,e.extend),ya||W&&9==ca?setTimeout(function(){g.wrapper.ownerDocument.body.focus();g.input.focus()},20):g.input.focus())}),l=function(a){b=b||10<=Math.abs(c.clientX-a.clientX)+Math.abs(c.clientY-a.clientY)},f=function(){return b=!0};ya&&(g.scroller.draggable=!0);a.state.draggingText=h;h.copy=!e.moveOnDrag;
g.scroller.dragDrop&&g.scroller.dragDrop();N(g.wrapper.ownerDocument,"mouseup",h);N(g.wrapper.ownerDocument,"mousemove",l);N(g.scroller,"dragstart",f);N(g.scroller,"drop",h);Te(a);setTimeout(function(){return g.input.focus()},20)}function Uf(a,c,d){if("char"==d)return new Y(c,c);if("word"==d)return a.findWordAt(c);if("line"==d)return new Y(D(c.line,0),O(a.doc,D(c.line+1,0)));a=d(a,c);return new Y(a.from,a.to)}function Ug(a,c,d,e){function g(c){if(0!=M(k,c))if(k=c,"rectangle"==e.unit){var g=[],b=a.options.tabSize,
h=q(J(f,d.line).text,d.ch,b),l=q(J(f,c.line).text,c.ch,b),v=Math.min(h,l);h=Math.max(h,l);l=Math.min(d.line,c.line);for(var C=Math.min(a.lastLine(),Math.max(d.line,c.line));l<=C;l++){var E=J(f,l).text,p=n(E,v,b);v==h?g.push(new Y(D(l,p),D(l,p))):E.length>p&&g.push(new Y(D(l,p),D(l,n(E,h,b))))}g.length||g.push(new Y(d,d));qa(f,kb(a,r.ranges.slice(0,m).concat(g),m),{origin:"*mouse",scroll:!1});a.scrollIntoView(c)}else g=u,v=Uf(a,c,e.unit),c=g.anchor,0<M(v.anchor,c)?(b=v.head,c=nb(g.from(),v.anchor)):
(b=v.anchor,c=Z(g.to(),v.head)),g=r.ranges.slice(0),g[m]=Vg(a,new Y(O(f,c),b)),qa(f,kb(a,g,m),Ee)}function b(c){var d=++E,h=hc(a,c,!0,"rectangle"==e.unit);if(h)if(0!=M(h,k)){a.curOp.focus=w();g(h);var r=ke(l,f);(h.line>=r.to||h.line<r.from)&&setTimeout(na(a,function(){E==d&&b(c)}),150)}else{var v=c.clientY<C.top?-20:c.clientY>C.bottom?20:0;v&&setTimeout(na(a,function(){E==d&&(l.scroller.scrollTop+=v,b(c))}),50)}}function h(c){a.state.selectingText=!1;E=Infinity;c&&(T(c),l.input.focus());G(l.wrapper.ownerDocument,
"mousemove",p);G(l.wrapper.ownerDocument,"mouseup",H);f.history.lastSelOrigin=null}var l=a.display,f=a.doc;T(c);var r=f.sel,v=r.ranges;if(e.addNew&&!e.extend){var m=f.sel.contains(d);var u=-1<m?v[m]:new Y(d,d)}else u=f.sel.primary(),m=f.sel.primIndex;"rectangle"==e.unit?(e.addNew||(u=new Y(d,d)),d=hc(a,c,!0,!0),m=-1):(c=Uf(a,d,e.unit),u=e.extend?ve(u,c.anchor,c.head,e.extend):c);e.addNew?-1==m?(m=v.length,qa(f,kb(a,v.concat([u]),m),{scroll:!1,origin:"*mouse"})):1<v.length&&v[m].empty()&&"char"==e.unit&&
!e.extend?(qa(f,kb(a,v.slice(0,m).concat(v.slice(m+1)),0),{scroll:!1,origin:"*mouse"}),r=f.sel):we(f,m,u,Ee):(m=0,qa(f,new Ua([u],0),Ee),r=f.sel);var k=d,C=l.wrapper.getBoundingClientRect(),E=0,p=na(a,function(a){0!==a.buttons&&la(a)?b(a):h(a)}),H=na(a,h);a.state.selectingText=H;N(l.wrapper.ownerDocument,"mousemove",p);N(l.wrapper.ownerDocument,"mouseup",H)}function Vg(a,c){var d=c.anchor,e=c.head,g=J(a.doc,d.line);if(0==M(d,e)&&d.sticky==e.sticky)return c;g=Va(g);if(!g)return c;var b=R(g,d.ch,d.sticky),
h=g[b];if(h.from!=d.ch&&h.to!=d.ch)return c;var l=b+(h.from==d.ch==(1!=h.level)?0:1);if(0==l||l==g.length)return c;e.line!=d.line?a=0<(e.line-d.line)*("ltr"==a.doc.direction?1:-1):(a=R(g,e.ch,e.sticky),b=a-b||(e.ch-d.ch)*(1==h.level?-1:1),a=a==l-1||a==l?0>b:0<b);g=g[l+(a?-1:0)];g=(l=a==(1==g.level))?g.from:g.to;l=l?"after":"before";return d.ch==g&&d.sticky==l?c:new Y(new D(d.line,g,l),e)}function Yd(a,c,d,e){if(c.touches){var g=c.touches[0].clientX;var b=c.touches[0].clientY}else try{g=c.clientX,
b=c.clientY}catch(Me){return!1}if(g>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;e&&T(c);e=a.display;var h=e.lineDiv.getBoundingClientRect();if(b>h.bottom||!ha(a,d))return bb(c);b-=h.top-e.viewOffset;for(h=0;h<a.display.gutterSpecs.length;++h){var l=e.gutters.childNodes[h];if(l&&l.getBoundingClientRect().right>=g)return g=ea(a.doc,b),L(a,d,a,g,a.display.gutterSpecs[h].className,c),bb(c)}}function Vf(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,
"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");cb(a)}function Wg(a,c,d){!c!=!(d&&d!=Oc)&&(d=a.display.dragFunctions,c=c?N:G,c(a.display.scroller,"dragstart",d.start),c(a.display.scroller,"dragenter",d.enter),c(a.display.scroller,"dragover",d.over),c(a.display.scroller,"dragleave",d.leave),c(a.display.scroller,"drop",d.drop))}function Xg(a){a.options.lineWrapping?(b(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(ic(a.display.wrapper,"CodeMirror-wrap"),
Lb(a));Wc(a);Ga(a);cb(a);setTimeout(function(){return Fc(a)},100)}function da(a,c){var d=this;if(!(this instanceof da))return new da(a,c);this.options=c=c?k(c):{};k(Wf,c,!1);var e=c.value;"string"==typeof e?e=new Ha(e,c.mode,null,c.lineSeparator,c.direction):c.mode&&(e.modeOption=c.mode);this.doc=e;var g=new da.inputStyles[c.inputStyle](this);a=this.display=new vg(a,e,g,c);a.wrapper.CodeMirror=this;Vf(this);c.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Ze(this);this.state={keyMaps:[],
overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new nc,keySeq:null,specialChars:null};c.autofocus&&!gd&&a.input.focus();W&&11>ca&&setTimeout(function(){return d.display.input.reset(!0)},20);Yg(this);Xf||(Fg(),Xf=!0);kc(this);this.curOp.forceUpdate=!0;jf(this,e);c.autofocus&&!gd||this.hasFocus()?setTimeout(f(je,this),20):ad(this);for(var b in Zd)if(Zd.hasOwnProperty(b))Zd[b](d,c[b],Oc);bf(this);
c.finishInit&&c.finishInit(this);for(e=0;e<Fe.length;++e)Fe[e](d);lc(this);ya&&c.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function Yg(a){function c(){e.activeTouch&&(g=setTimeout(function(){return e.activeTouch=null},1E3),b=e.activeTouch,b.end=+new Date)}function d(a,c){if(null==c.left)return!0;var d=c.left-a.left;a=c.top-a.top;return 400<d*d+a*a}var e=a.display;N(e.scroller,"mousedown",na(a,Tf));W&&11>ca?N(e.scroller,"dblclick",
na(a,function(c){if(!ia(a,c)){var d=hc(a,c);!d||Yd(a,c,"gutterClick",!0)||Sa(a.display,c)||(T(c),c=a.findWordAt(d),Sd(a.doc,c.anchor,c.head))}})):N(e.scroller,"dblclick",function(c){return ia(a,c)||T(c)});N(e.scroller,"contextmenu",function(c){var d;(d=Sa(a.display,c))||(d=ha(a,"gutterContextMenu")?Yd(a,c,"gutterContextMenu",!1):!1);if(!(d||ia(a,c,"contextmenu")||De))a.display.input.onContextMenu(c)});var g,b={end:0};N(e.scroller,"touchstart",function(c){var d;if(d=!ia(a,c))1!=c.touches.length?d=
!1:(d=c.touches[0],d=1>=d.radiusX&&1>=d.radiusY),d=!d;d&&!Yd(a,c,"gutterClick",!0)&&(e.input.ensurePolled(),clearTimeout(g),d=+new Date,e.activeTouch={start:d,moved:!1,prev:300>=d-b.end?b:null},1==c.touches.length&&(e.activeTouch.left=c.touches[0].pageX,e.activeTouch.top=c.touches[0].pageY))});N(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)});N(e.scroller,"touchend",function(g){var b=e.activeTouch;if(b&&!Sa(e,g)&&null!=b.left&&!b.moved&&300>new Date-b.start){var h=a.coordsChar(e.activeTouch,
"page");b=!b.prev||d(b,b.prev)?new Y(h,h):!b.prev.prev||d(b,b.prev.prev)?a.findWordAt(h):new Y(D(h.line,0),O(a.doc,D(h.line+1,0)));a.setSelection(b.anchor,b.head);a.focus();T(g)}c()});N(e.scroller,"touchcancel",c);N(e.scroller,"scroll",function(){e.scroller.clientHeight&&(cd(a,e.scroller.scrollTop),jc(a,e.scroller.scrollLeft,!0),L(a,"scroll",a))});N(e.scroller,"mousewheel",function(c){return ef(a,c)});N(e.scroller,"DOMMouseScroll",function(c){return ef(a,c)});N(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=
e.wrapper.scrollLeft=0});e.dragFunctions={enter:function(c){ia(a,c)||Wa(c)},over:function(c){if(!ia(a,c)){var d=hc(a,c);if(d){var e=document.createDocumentFragment();Re(a,d,e);a.display.dragCursor||(a.display.dragCursor=x("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv));A(a.display.dragCursor,e)}Wa(c)}},start:function(c){if(W&&(!a.state.draggingText||100>+new Date-Gf))Wa(c);else if(!ia(a,c)&&!Sa(a.display,c)&&(c.dataTransfer.setData("Text",
a.getSelection()),c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setDragImage&&!Yf)){var d=x("img",null,null,"position: fixed; left: 0; top: 0;");d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";jb&&(d.width=d.height=1,a.display.wrapper.appendChild(d),d._top=d.offsetTop);c.dataTransfer.setDragImage(d,0,0);jb&&d.parentNode.removeChild(d)}},drop:na(a,Eg),leave:function(c){ia(a,c)||Ff(a)}};var h=e.input.getField();N(h,"keyup",function(c){return Rf.call(a,c)});
N(h,"keydown",na(a,Qf));N(h,"keypress",na(a,Sf));N(h,"focus",function(c){return je(a,c)});N(h,"blur",function(c){return ad(a,c)})}function td(a,c,d,b){var g=a.doc,h;null==d&&(d="add");"smart"==d&&(g.mode.indent?h=db(a,c).state:d="prev");var l=a.options.tabSize,f=J(g,c),r=q(f.text,null,l);f.stateAfter&&(f.stateAfter=null);var v=f.text.match(/^\s*/)[0];if(!b&&!/\S/.test(f.text)){var m=0;d="not"}else if("smart"==d&&(m=g.mode.indent(h,f.text.slice(v.length),f.text),m==Xd||150<m)){if(!b)return;d="prev"}"prev"==
d?m=c>g.first?q(J(g,c-1).text,null,l):0:"add"==d?m=r+a.options.indentUnit:"subtract"==d?m=r-a.options.indentUnit:"number"==typeof d&&(m=r+d);m=Math.max(0,m);d="";b=0;if(a.options.indentWithTabs)for(a=Math.floor(m/l);a;--a)b+=l,d+="\t";b<m&&(d+=e(m-b));if(d!=v)return Kc(g,d,D(c,0),D(c,v.length),"+input"),f.stateAfter=null,!0;for(l=0;l<g.sel.ranges.length;l++)if(f=g.sel.ranges[l],f.head.line==c&&f.head.ch<v.length){c=D(c,v.length);we(g,l,new Y(c,c));break}}function Ge(d,e,b,h,l){var g=d.doc;d.display.shift=
!1;h||(h=g.sel);var f=+new Date-200,r="paste"==l||d.state.pasteIncoming>f,v=He(e),m=null;if(r&&1<h.ranges.length)if(Oa&&Oa.text.join("\n")==e){if(0==h.ranges.length%Oa.text.length){m=[];for(var n=0;n<Oa.text.length;n++)m.push(g.splitLines(Oa.text[n]))}}else v.length==h.ranges.length&&d.options.pasteLinesPerSelection&&(m=c(v,function(a){return[a]}));n=d.curOp.updateInput;for(var k=h.ranges.length-1;0<=k;k--){var u=h.ranges[k],q=u.from(),C=u.to();u.empty()&&(b&&0<b?q=D(q.line,q.ch-b):d.state.overwrite&&
!r?C=D(C.line,Math.min(J(g,C.line).text.length,C.ch+a(v).length)):r&&Oa&&Oa.lineWise&&Oa.text.join("\n")==e&&(q=C=D(q.line,0)));u={from:q,to:C,text:m?m[k%m.length]:v,origin:l||(r?"paste":d.state.cutIncoming>f?"cut":"+input")};Jc(d.doc,u);fa(d,"inputRead",d,u)}e&&!r&&Zf(d,e);Ec(d);2>d.curOp.updateInput&&(d.curOp.updateInput=n);d.curOp.typing=!0;d.state.pasteIncoming=d.state.cutIncoming=-1}function $f(a,c){var d=a.clipboardData&&a.clipboardData.getData("Text");if(d)return a.preventDefault(),c.isReadOnly()||
c.options.disableInput||Na(c,function(){return Ge(c,d,0,null,"paste")}),!0}function Zf(a,c){if(a.options.electricChars&&a.options.smartIndent)for(var d=a.doc.sel,e=d.ranges.length-1;0<=e;e--){var g=d.ranges[e];if(!(100<g.head.ch||e&&d.ranges[e-1].head.line==g.head.line)){var b=a.getModeAt(g.head),h=!1;if(b.electricChars)for(var l=0;l<b.electricChars.length;l++){if(-1<c.indexOf(b.electricChars.charAt(l))){h=td(a,g.head.line,"smart");break}}else b.electricInput&&b.electricInput.test(J(a.doc,g.head.line).text.slice(0,
g.head.ch))&&(h=td(a,g.head.line,"smart"));h&&fa(a,"electricInput",a,g.head.line)}}}function ag(a){for(var c=[],d=[],e=0;e<a.doc.sel.ranges.length;e++){var g=a.doc.sel.ranges[e].head.line;g={anchor:D(g,0),head:D(g+1,0)};d.push(g);c.push(a.getRange(g.anchor,g.head))}return{text:c,ranges:d}}function bg(a,c,d,e){a.setAttribute("autocorrect",d?"":"off");a.setAttribute("autocapitalize",e?"":"off");a.setAttribute("spellcheck",!!c)}function cg(){var a=x("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),
c=x("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");ya?a.style.width="1000px":a.setAttribute("wrap","off");ud&&(a.style.border="1px solid black");bg(a);return c}function Ie(a,c,d,e,b){function g(e){var g=b?Jg(a.cm,f,c,d):ze(f,c,d);if(null==g){if(e=!e)e=c.line+d,e<a.first||e>=a.first+a.size?e=!1:(c=new D(e,c.ch,c.sticky),e=f=J(a,e));if(e)c=Ae(b,a.cm,f,c.line,d);else return!1}else c=g;return!0}var h=c,l=d,f=J(a,c.line);if("char"==e)g();else if("column"==e)g(!0);else if("word"==
e||"group"==e){var r=null;e="group"==e;for(var m=a.cm&&a.cm.getHelper(c,"wordChars"),n=!0;!(0>d)||g(!n);n=!1){var k=f.text.charAt(c.ch)||"\n";k=v(k,m)?"w":e&&"\n"==k?"n":!e||/\s/.test(k)?null:"p";!e||n||k||(k="s");if(r&&r!=k){0>d&&(d=1,g(),c.sticky="after");break}k&&(r=k);if(0<d&&!g(!n))break}}l=xe(a,c,h,l,!0);lb(h,l)&&(l.hitSide=!0);return l}function dg(a,c,d,e){var g=a.doc,b=c.left;if("page"==e){var h=Math.max(Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-
.5*yc(a.display),3);h=(0<d?c.bottom:c.top)+d*h}else"line"==e&&(h=0<d?c.bottom+3:c.top-3);for(;;){c=be(a,b,h);if(!c.outside)break;if(0>d?0>=h:h>=g.height){c.hitSide=!0;break}h+=5*d}return c}function eg(a,c){var d=Nb(a,c.line);if(!d||d.hidden)return null;var e=J(a.doc,c.line);d=xb(d,e,c.line);a=Va(e,a.doc.direction);e="left";a&&(e=R(a,c.ch)%2?"right":"left");c=Ac(d.map,c.ch,e);c.offset="right"==c.collapse?c.end:c.start;return c}function Zg(a){for(;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;
return!1}function Pc(a,c){c&&(a.bad=!0);return a}function $g(a,c,d,e,b){function g(a){return function(c){return c.id==a}}function h(){v&&(r+=m,n&&(r+=m),v=n=!1)}function l(a){a&&(h(),r+=a)}function f(c){if(1==c.nodeType){var d=c.getAttribute("cm-text");if(d)l(d);else{d=c.getAttribute("cm-marker");var r;if(d)c=a.findMarks(D(e,0),D(b+1,0),g(+d)),c.length&&(r=c[0].find(0))&&l(Ba(a.doc,r.from,r.to).join(m));else if("false"!=c.getAttribute("contenteditable")&&(r=/^(pre|div|p|li|table|br)$/i.test(c.nodeName),
/^br$/i.test(c.nodeName)||0!=c.textContent.length)){r&&h();for(d=0;d<c.childNodes.length;d++)f(c.childNodes[d]);/^(pre|p)$/i.test(c.nodeName)&&(n=!0);r&&(v=!0)}}}else 3==c.nodeType&&l(c.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var r="",v=!1,m=a.doc.lineSeparator(),n=!1;;){f(c);if(c==d)break;c=c.nextSibling;n=!1}return r}function $d(a,c,d){if(c==a.display.lineDiv){var e=a.display.lineDiv.childNodes[d];if(!e)return Pc(a.clipPos(D(a.display.viewTo-1)),!0);c=null;d=0}else for(e=c;;e=
e.parentNode){if(!e||e==a.display.lineDiv)return null;if(e.parentNode&&e.parentNode==a.display.lineDiv)break}for(var b=0;b<a.display.view.length;b++){var g=a.display.view[b];if(g.node==e)return ah(g,c,d)}}function ah(c,d,e){function b(a,d,e){for(var b=-1;b<(v?v.length:0);b++)for(var g=0>b?r.map:v[b],h=0;h<g.length;h+=3){var l=g[h+2];if(l==a||l==d){d=U(0>b?c.line:c.rest[b]);b=g[h]+e;if(0>e||l!=a)b=g[h+(e?1:0)];return D(d,b)}}}var g=c.text.firstChild,h=!1;if(!d||!t(g,d))return Pc(D(U(c.line),0),!0);
if(d==g&&(h=!0,d=g.childNodes[e],e=0,!d))return e=c.rest?a(c.rest):c.line,Pc(D(U(e),e.text.length),h);var l=3==d.nodeType?d:null,f=d;l||1!=d.childNodes.length||3!=d.firstChild.nodeType||(l=d.firstChild,e&&(e=l.nodeValue.length));for(;f.parentNode!=g;)f=f.parentNode;var r=c.measure,v=r.maps;if(d=b(l,f,e))return Pc(d,h);g=f.nextSibling;for(l=l?l.nodeValue.length-e:0;g;g=g.nextSibling){if(d=b(g,g.firstChild,0))return Pc(D(d.line,d.ch-l),h);l+=g.textContent.length}for(f=f.previousSibling;f;f=f.previousSibling){if(d=
b(f,f.firstChild,-1))return Pc(D(d.line,d.ch+e),h);e+=f.textContent.length}}var Aa=navigator.userAgent,fg=navigator.platform,Qb=/gecko\/\d/i.test(Aa),gg=/MSIE \d/.test(Aa),hg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Aa),vd=/Edge\/(\d+)/.exec(Aa),W=gg||hg||vd,ca=W&&(gg?document.documentMode||6:+(vd||hg)[1]),ya=!vd&&/WebKit\//.test(Aa),bh=ya&&/Qt\/\d+\.\d+/.test(Aa),Hd=!vd&&/Chrome\//.test(Aa),jb=/Opera\//.test(Aa),Yf=/Apple Computer/.test(navigator.vendor),ch=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Aa),
sg=/PhantomJS/.test(Aa),ud=!vd&&/AppleWebKit/.test(Aa)&&/Mobile\/\w+/.test(Aa),Id=/Android/.test(Aa),gd=ud||Id||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Aa),ib=ud||/Mac/.test(fg),Rg=/\bCrOS\b/.test(Aa),dh=/win/i.test(fg),oc=jb&&Aa.match(/Version\/(\d*\.\d*)/);oc&&(oc=Number(oc[1]));oc&&15<=oc&&(jb=!1,ya=!0);var Kf=ib&&(bh||jb&&(null==oc||12.11>oc)),De=Qb||W&&9<=ca,ic=function(a,c){var d=a.className;if(c=y(c).exec(d)){var e=d.slice(c.index+c[0].length);a.className=d.slice(0,c.index)+
(e?c[1]+e:"")}};var Yc=document.createRange?function(a,c,d,e){var b=document.createRange();b.setEnd(e||a,d);b.setStart(a,c);return b}:function(a,c,d){var e=document.body.createTextRange();try{e.moveToElementText(a.parentNode)}catch(pa){return e}e.collapse(!0);e.moveEnd("character",d);e.moveStart("character",c);return e};var wd=function(a){a.select()};ud?wd=function(a){a.selectionStart=0;a.selectionEnd=a.value.length}:W&&(wd=function(a){try{a.select()}catch(u){}});var nc=function(){this.id=null};nc.prototype.set=
function(a,c){clearTimeout(this.id);this.id=setTimeout(c,a)};var Xd={toString:function(){return"CodeMirror.Pass"}},qb={scroll:!1},Ee={origin:"*mouse"},xd={origin:"+move"},Ed=[""],lg=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,mg=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Xc=null,ng=function(){function c(a){return 247>=a?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(a):1424<=a&&1524>=a?"R":1536<=a&&1785>=a?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(a-
1536):1774<=a&&2220>=a?"r":8192<=a&&8203>=a?"w":8204==a?"b":"L"}function d(a,c,d){this.level=a;this.from=c;this.to=d}var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,b=/[stwN]/,h=/[LRr]/,l=/[Lb1n]/,f=/[1n]/;return function(g,r){var v="ltr"==r?"L":"R";if(0==g.length||"ltr"==r&&!e.test(g))return!1;for(var m=g.length,n=[],k=0;k<m;++k)n.push(c(g.charCodeAt(k)));k=0;for(var q=v;k<m;++k){var C=n[k];"m"==C?n[k]=q:q=C}k=0;for(q=v;k<m;++k)C=n[k],"1"==C&&"r"==q?n[k]="n":h.test(C)&&(q=C,"r"==C&&(n[k]="R"));
k=1;for(q=n[0];k<m-1;++k)C=n[k],"+"==C&&"1"==q&&"1"==n[k+1]?n[k]="1":","!=C||q!=n[k+1]||"1"!=q&&"n"!=q||(n[k]=q),q=C;for(k=0;k<m;++k)if(q=n[k],","==q)n[k]="N";else if("%"==q){for(q=k+1;q<m&&"%"==n[q];++q);for(C=k&&"!"==n[k-1]||q<m&&"1"==n[q]?"1":"N";k<q;++k)n[k]=C;k=q-1}k=0;for(q=v;k<m;++k)C=n[k],"L"==q&&"1"==C?n[k]="L":h.test(C)&&(q=C);for(q=0;q<m;++q)if(b.test(n[q])){for(k=q+1;k<m&&b.test(n[k]);++k);C="L"==(q?n[q-1]:v);for(C=C==("L"==(k<m?n[k]:v))?C?"L":"R":v;q<k;++q)n[q]=C;q=k-1}v=[];var u;for(k=
0;k<m;)if(l.test(n[k])){q=k;for(++k;k<m&&l.test(n[k]);++k);v.push(new d(0,q,k))}else{var E=k;q=v.length;for(++k;k<m&&"L"!=n[k];++k);for(C=E;C<k;)if(f.test(n[C])){E<C&&v.splice(q,0,new d(1,E,C));E=C;for(++C;C<k&&f.test(n[C]);++C);v.splice(q,0,new d(2,E,C));E=C}else++C;E<k&&v.splice(q,0,new d(1,E,k))}"ltr"==r&&(1==v[0].level&&(u=g.match(/^\s+/))&&(v[0].from=u[0].length,v.unshift(new d(0,0,u[0].length))),1==a(v).level&&(u=g.match(/\s+$/))&&(a(v).to-=u[0].length,v.push(new d(0,m-u[0].length,m))));return"rtl"==
r?v.reverse():v}}(),Fd=[],N=function(a,c,d){a.addEventListener?a.addEventListener(c,d,!1):a.attachEvent?a.attachEvent("on"+c,d):(a=a._handlers||(a._handlers={}),a[c]=(a[c]||Fd).concat(d))},Sg=function(){if(W&&9>ca)return!1;var a=x("div");return"draggable"in a||"dragDrop"in a}(),ee,ge,He=3!="\n\nb".split(/\n/).length?function(a){for(var c=0,d=[],e=a.length;c<=e;){var b=a.indexOf("\n",c);-1==b&&(b=a.length);var g=a.slice(c,"\r"==a.charAt(b-1)?b-1:b),h=g.indexOf("\r");-1!=h?(d.push(g.slice(0,h)),c+=
h+1):(d.push(g),c=b+1)}return d}:function(a){return a.split(/\r\n?|\n/)},eh=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(u){return!1}}:function(a){try{var c=a.ownerDocument.selection.createRange()}catch(S){}return c&&c.parentElement()==a?0!=c.compareEndPoints("StartToEnd",c):!1},Mg=function(){var a=x("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),he=null,fe={},Bc={},Cc={},ja=function(a,c,d){this.pos=this.start=
0;this.string=a;this.tabSize=c||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=d};ja.prototype.eol=function(){return this.pos>=this.string.length};ja.prototype.sol=function(){return this.pos==this.lineStart};ja.prototype.peek=function(){return this.string.charAt(this.pos)||void 0};ja.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};ja.prototype.eat=function(a){var c=this.string.charAt(this.pos);if("string"==typeof a?c==a:c&&
(a.test?a.test(c):a(c)))return++this.pos,c};ja.prototype.eatWhile=function(a){for(var c=this.pos;this.eat(a););return this.pos>c};ja.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a};ja.prototype.skipToEnd=function(){this.pos=this.string.length};ja.prototype.skipTo=function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0};ja.prototype.backUp=function(a){this.pos-=a};ja.prototype.column=function(){this.lastColumnPos<
this.start&&(this.lastColumnValue=q(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?q(this.string,this.lineStart,this.tabSize):0)};ja.prototype.indentation=function(){return q(this.string,null,this.tabSize)-(this.lineStart?q(this.string,this.lineStart,this.tabSize):0)};ja.prototype.match=function(a,c,d){if("string"==typeof a){var e=function(a){return d?a.toLowerCase():a},b=this.string.substr(this.pos,
a.length);if(e(b)==e(a))return!1!==c&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==c&&(this.pos+=a[0].length);return a}};ja.prototype.current=function(){return this.string.slice(this.start,this.pos)};ja.prototype.hideFirstChars=function(a,c){this.lineStart+=a;try{return c()}finally{this.lineStart-=a}};ja.prototype.lookAhead=function(a){var c=this.lineOracle;return c&&c.lookAhead(a)};ja.prototype.baseToken=function(){var a=this.lineOracle;
return a&&a.baseToken(this.pos)};var Gd=function(a,c){this.state=a;this.lookAhead=c},pb=function(a,c,d,e){this.state=c;this.doc=a;this.line=d;this.maxLookAhead=e||0;this.baseTokens=null;this.baseTokenPos=1};pb.prototype.lookAhead=function(a){var c=this.doc.getLine(this.line+a);null!=c&&a>this.maxLookAhead&&(this.maxLookAhead=a);return c};pb.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var c=this.baseTokens[this.baseTokenPos+
1];return{type:c&&c.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}};pb.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};pb.fromSaved=function(a,c,d){return c instanceof Gd?new pb(a,Pa(a.mode,c.state),d,c.lookAhead):new pb(a,Pa(a.mode,c),d)};pb.prototype.save=function(a){a=!1!==a?Pa(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new Gd(a,this.maxLookAhead):a};var Ne=function(a,c,d){this.start=a.start;this.end=a.pos;this.string=
a.current();this.type=c||null;this.state=d},xf=!1,Ab=!1,Gc=function(a,c,d){this.text=a;Ea(this,c);this.height=d?d(this):1};Gc.prototype.lineNo=function(){return U(this)};ua(Gc);var pg={},og={},Dc=null,Zc=null,Oe={left:0,right:0,top:0,bottom:0},gc,pc=function(a,c,d){this.cm=d;var e=this.vert=x("div",[x("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),b=this.horiz=x("div",[x("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e.tabIndex=b.tabIndex=-1;a(e);a(b);N(e,
"scroll",function(){e.clientHeight&&c(e.scrollTop,"vertical")});N(b,"scroll",function(){b.clientWidth&&c(b.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;W&&8>ca&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};pc.prototype.update=function(a){var c=a.scrollWidth>a.clientWidth+1,d=a.scrollHeight>a.clientHeight+1,e=a.nativeBarWidth;d?(this.vert.style.display="block",this.vert.style.bottom=c?e+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-
(c?e:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");c?(this.horiz.style.display="block",this.horiz.style.right=d?e+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(d?e:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<a.clientHeight&&(0==e&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:d?e:0,bottom:c?e:0}};
pc.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};pc.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};pc.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=ib&&!ch?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents=
"none";this.disableHoriz=new nc;this.disableVert=new nc};pc.prototype.enableZeroWidthBar=function(a,c,d){function e(){var b=a.getBoundingClientRect();("vert"==d?document.elementFromPoint(b.right-1,(b.top+b.bottom)/2):document.elementFromPoint((b.right+b.left)/2,b.bottom-1))!=a?a.style.pointerEvents="none":c.set(1E3,e)}a.style.pointerEvents="auto";c.set(1E3,e)};pc.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz);a.removeChild(this.vert)};var yd=function(){};yd.prototype.update=
function(){return{bottom:0,right:0}};yd.prototype.setScrollLeft=function(){};yd.prototype.setScrollTop=function(){};yd.prototype.clear=function(){};var $e={"native":pc,"null":yd},rg=0,Od=function(a,c,d){var e=a.display;this.viewport=c;this.visible=ke(e,a.doc,c);this.editorIsHidden=!e.wrapper.offsetWidth;this.wrapperHeight=e.wrapper.clientHeight;this.wrapperWidth=e.wrapper.clientWidth;this.oldDisplayWidth=ab(a);this.force=d;this.dims=ce(a);this.events=[]};Od.prototype.signal=function(a,c){ha(a,c)&&
this.events.push(arguments)};Od.prototype.finish=function(){for(var a=0;a<this.events.length;a++)L.apply(null,this.events[a])};var Pd=0,Ta=null;W?Ta=-.53:Qb?Ta=15:Hd?Ta=-.7:Yf&&(Ta=-1/3);var Ua=function(a,c){this.ranges=a;this.primIndex=c};Ua.prototype.primary=function(){return this.ranges[this.primIndex]};Ua.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var c=0;c<this.ranges.length;c++){var d=this.ranges[c],e=a.ranges[c];
if(!lb(d.anchor,e.anchor)||!lb(d.head,e.head))return!1}return!0};Ua.prototype.deepCopy=function(){for(var a=[],c=0;c<this.ranges.length;c++)a[c]=new Y(xa(this.ranges[c].anchor),xa(this.ranges[c].head));return new Ua(a,this.primIndex)};Ua.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1};Ua.prototype.contains=function(a,c){c||(c=a);for(var d=0;d<this.ranges.length;d++){var e=this.ranges[d];if(0<=M(c,e.from())&&0>=M(a,e.to()))return d}return-1};
var Y=function(a,c){this.anchor=a;this.head=c};Y.prototype.from=function(){return nb(this.anchor,this.head)};Y.prototype.to=function(){return Z(this.anchor,this.head)};Y.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};kd.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,c){for(var d=a,e=a+c;d<e;++d){var b=this.lines[d];this.height-=b.height;var g=b;g.parent=null;Ja(g);fa(b,"delete")}this.lines.splice(a,c)},collapse:function(a){a.push.apply(a,
this.lines)},insertInner:function(a,c,d){this.height+=d;this.lines=this.lines.slice(0,a).concat(c).concat(this.lines.slice(a));for(a=0;a<c.length;++a)c[a].parent=this},iterN:function(a,c,d){for(c=a+c;a<c;++a)if(d(this.lines[a]))return!0}};ld.prototype={chunkSize:function(){return this.size},removeInner:function(a,c){this.size-=c;for(var d=0;d<this.children.length;++d){var e=this.children[d],b=e.chunkSize();if(a<b){var g=Math.min(c,b-a),h=e.height;e.removeInner(a,g);this.height-=h-e.height;b==g&&(this.children.splice(d--,
1),e.parent=null);if(0==(c-=g))break;a=0}else a-=b}25>this.size-c&&(1<this.children.length||!(this.children[0]instanceof kd))&&(a=[],this.collapse(a),this.children=[new kd(a)],this.children[0].parent=this)},collapse:function(a){for(var c=0;c<this.children.length;++c)this.children[c].collapse(a)},insertInner:function(a,c,d){this.size+=c.length;this.height+=d;for(var e=0;e<this.children.length;++e){var b=this.children[e],g=b.chunkSize();if(a<=g){b.insertInner(a,c,d);if(b.lines&&50<b.lines.length){for(c=
a=b.lines.length%25+25;c<b.lines.length;)d=new kd(b.lines.slice(c,c+=25)),b.height-=d.height,this.children.splice(++e,0,d),d.parent=this;b.lines=b.lines.slice(0,a);this.maybeSpill()}break}a-=g}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var c=a.children.splice(a.children.length-5,5);c=new ld(c);if(a.parent){a.size-=c.size;a.height-=c.height;var d=m(a.parent.children,a);a.parent.children.splice(d+1,0,c)}else d=new ld(a.children),d.parent=a,a.children=[d,c],a=d;c.parent=a.parent}while(10<
a.children.length);a.parent.maybeSpill()}},iterN:function(a,c,d){for(var e=0;e<this.children.length;++e){var b=this.children[e],g=b.chunkSize();if(a<g){g=Math.min(c,g-a);if(b.iterN(a,g,d))return!0;if(0==(c-=g))break;a=0}else a-=g}}};var md=function(a,c,d){if(d)for(var e in d)d.hasOwnProperty(e)&&(this[e]=d[e]);this.doc=a;this.node=c};md.prototype.clear=function(){var a=this.doc.cm,c=this.line.widgets,d=this.line,e=U(d);if(null!=e&&c){for(var b=0;b<c.length;++b)c[b]==this&&c.splice(b--,1);c.length||
(d.widgets=null);var h=hb(this);Ia(d,Math.max(0,d.height-h));a&&(Na(a,function(){var c=-h;X(d)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Md(a,c);Pb(a,e,"widget")}),fa(a,"lineWidgetCleared",a,this,e))}};md.prototype.changed=function(){var a=this,c=this.height,d=this.doc.cm,e=this.line;this.height=null;var b=hb(this)-c;b&&(ta(this.doc,e)||Ia(e,e.height+b),d&&Na(d,function(){d.curOp.forceUpdate=!0;X(e)<(d.curOp&&d.curOp.scrollTop||d.doc.scrollTop)&&Md(d,b);fa(d,"lineWidgetChanged",d,a,U(e))}))};
ua(md);var Df=0,Sb=function(a,c){this.lines=[];this.type=c;this.doc=a;this.id=++Df};Sb.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,c=a&&!a.curOp;c&&kc(a);if(ha(this,"clear")){var d=this.find();d&&fa(this,"clear",d.from,d.to)}for(var e=d=null,b=0;b<this.lines.length;++b){var h=this.lines[b],l=sa(h.markedSpans,this);a&&!this.collapsed?Pb(a,U(h),"text"):a&&(null!=l.to&&(e=U(h)),null!=l.from&&(d=U(h)));for(var f=h,r=void 0,v=h.markedSpans,m=l,n=0;n<v.length;++n)v[n]!=m&&(r||
(r=[])).push(v[n]);f.markedSpans=r;null==l.from&&this.collapsed&&!ta(this.doc,h)&&a&&Ia(h,yc(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(b=0;b<this.lines.length;++b)h=La(this.lines[b]),l=Kb(h),l>a.display.maxLineLength&&(a.display.maxLine=h,a.display.maxLineLength=l,a.display.maxLineChanged=!0);null!=d&&a&&this.collapsed&&Ga(a,d,e+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&tf(a.doc));a&&fa(a,"markerCleared",a,this,d,
e);c&&lc(a);this.parent&&this.parent.clear()}};Sb.prototype.find=function(a,c){null==a&&"bookmark"==this.type&&(a=1);for(var d,e,b=0;b<this.lines.length;++b){var h=this.lines[b],g=sa(h.markedSpans,this);if(null!=g.from&&(d=D(c?h:U(h),g.from),-1==a))return d;if(null!=g.to&&(e=D(c?h:U(h),g.to),1==a))return e}return d&&{from:d,to:e}};Sb.prototype.changed=function(){var a=this,c=this.find(-1,!0),d=this,e=this.doc.cm;c&&e&&Na(e,function(){var b=c.line,h=U(c.line);if(h=Nb(e,h))Cd(h),e.curOp.selectionChanged=
e.curOp.forceUpdate=!0;e.curOp.updateMaxLine=!0;ta(d.doc,b)||null==d.height||(h=d.height,d.height=null,(h=hb(d)-h)&&Ia(b,b.height+h));fa(e,"markerChanged",e,a)})};Sb.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;c.maybeHiddenMarkers&&-1!=m(c.maybeHiddenMarkers,this)||(c.maybeUnhiddenMarkers||(c.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};Sb.prototype.detachLine=function(a){this.lines.splice(m(this.lines,a),1);!this.lines.length&&this.doc.cm&&
(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};ua(Sb);var nd=function(a,c){this.markers=a;this.primary=c;for(c=0;c<a.length;++c)a[c].parent=this};nd.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();fa(this,"clear")}};nd.prototype.find=function(a,c){return this.primary.find(a,c)};ua(nd);var fh=0,Ha=function(a,c,d,e,b){if(!(this instanceof Ha))return new Ha(a,c,d,e,b);null==
d&&(d=0);ld.call(this,[new kd([new Gc("",null)])]);this.first=d;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=d;d=D(d,0);this.sel=Bb(d);this.history=new Qd(null);this.id=++fh;this.modeOption=c;this.lineSep=e;this.direction="rtl"==b?"rtl":"ltr";this.extend=!1;"string"==typeof a&&(a=this.splitLines(a));te(this,{from:d,to:d,text:a});qa(this,Bb(d),qb)};Ha.prototype=r(ld.prototype,{constructor:Ha,iter:function(a,c,d){d?this.iterN(a-this.first,
c-a,d):this.iterN(this.first,this.first+this.size,a)},insert:function(a,c){for(var d=0,e=0;e<c.length;++e)d+=c[e].height;this.insertInner(a-this.first,c,d)},remove:function(a,c){this.removeInner(a-this.first,c)},getValue:function(a){var c=Ya(this,this.first,this.first+this.size);return!1===a?c:c.join(a||this.lineSeparator())},setValue:oa(function(a){var c=D(this.first,0),d=this.first+this.size-1;Jc(this,{from:c,to:D(d,J(this,d).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0);this.cm&&
bd(this.cm,0,0);qa(this,Bb(c),qb)}),replaceRange:function(a,c,d,e){c=O(this,c);d=d?O(this,d):c;Kc(this,a,c,d,e)},getRange:function(a,c,d){a=Ba(this,O(this,a),O(this,c));return!1===d?a:a.join(d||this.lineSeparator())},getLine:function(a){return(a=this.getLineHandle(a))&&a.text},getLineHandle:function(a){if(eb(this,a))return J(this,a)},getLineNumber:function(a){return U(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=J(this,a));return La(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},
lastLine:function(){return this.first+this.size-1},clipPos:function(a){return O(this,a)},getCursor:function(a){var c=this.sel.primary();return null==a||"head"==a?c.head:"anchor"==a?c.anchor:"end"==a||"to"==a||!1===a?c.to():c.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:oa(function(a,c,d){a=O(this,"number"==typeof a?D(a,c||0):a);qa(this,Bb(a,null),d)}),setSelection:oa(function(a,c,d){var e=O(this,a);a=O(this,c||
a);qa(this,Bb(e,a),d)}),extendSelection:oa(function(a,c,d){Sd(this,O(this,a),c&&O(this,c),d)}),extendSelections:oa(function(a,c){pf(this,sc(this,a),c)}),extendSelectionsBy:oa(function(a,d){a=c(this.sel.ranges,a);pf(this,sc(this,a),d)}),setSelections:oa(function(a,c,d){if(a.length){for(var e=[],b=0;b<a.length;b++)e[b]=new Y(O(this,a[b].anchor),O(this,a[b].head));null==c&&(c=Math.min(a.length-1,this.sel.primIndex));qa(this,kb(this.cm,e,c),d)}}),addSelection:oa(function(a,c,d){var e=this.sel.ranges.slice(0);
e.push(new Y(O(this,a),O(this,c||a)));qa(this,kb(this.cm,e,e.length-1),d)}),getSelection:function(a){for(var c=this.sel.ranges,d,e=0;e<c.length;e++){var b=Ba(this,c[e].from(),c[e].to());d=d?d.concat(b):b}return!1===a?d:d.join(a||this.lineSeparator())},getSelections:function(a){for(var c=[],d=this.sel.ranges,e=0;e<d.length;e++){var b=Ba(this,d[e].from(),d[e].to());!1!==a&&(b=b.join(a||this.lineSeparator()));c[e]=b}return c},replaceSelection:function(a,c,d){for(var e=[],b=0;b<this.sel.ranges.length;b++)e[b]=
a;this.replaceSelections(e,c,d||"+input")},replaceSelections:oa(function(a,c,d){for(var e=[],b=this.sel,h=0;h<b.ranges.length;h++){var g=b.ranges[h];e[h]={from:g.from(),to:g.to(),text:this.splitLines(a[h]),origin:d}}if(a=c&&"end"!=c){a=[];b=d=D(this.first,0);for(h=0;h<e.length;h++){var l=e[h];g=gf(l.from,d,b);var f=gf(Rb(l),d,b);d=l.to;b=f;"around"==c?(l=this.sel.ranges[h],l=0>M(l.head,l.anchor),a[h]=new Y(l?f:g,l?g:f)):a[h]=new Y(g,g)}a=new Ua(a,this.sel.primIndex)}c=a;for(a=e.length-1;0<=a;a--)Jc(this,
e[a]);c?qf(this,c):this.cm&&Ec(this.cm)}),undo:oa(function(){Ud(this,"undo")}),redo:oa(function(){Ud(this,"redo")}),undoSelection:oa(function(){Ud(this,"undo",!0)}),redoSelection:oa(function(){Ud(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,c=0,d=0,e=0;e<a.done.length;e++)a.done[e].ranges||++c;for(e=0;e<a.undone.length;e++)a.undone[e].ranges||++d;return{undo:c,redo:d}},clearHistory:function(){this.history=
new Qd(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Hc(this.history.done),undone:Hc(this.history.undone)}},setHistory:function(a){var c=this.history=new Qd(this.history.maxGeneration);c.done=Hc(a.done.slice(0),
null,!0);c.undone=Hc(a.undone.slice(0),null,!0)},setGutterMarker:oa(function(a,c,d){return jd(this,a,"gutter",function(a){var e=a.gutterMarkers||(a.gutterMarkers={});e[c]=d;!d&&C(e)&&(a.gutterMarkers=null);return!0})}),clearGutter:oa(function(a){var c=this;this.iter(function(d){d.gutterMarkers&&d.gutterMarkers[a]&&jd(c,d,"gutter",function(){d.gutterMarkers[a]=null;C(d.gutterMarkers)&&(d.gutterMarkers=null);return!0})})}),lineInfo:function(a){if("number"==typeof a){if(!eb(this,a))return null;var c=
a;a=J(this,a);if(!a)return null}else if(c=U(a),null==c)return null;return{line:c,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:oa(function(a,c,d){return jd(this,a,"gutter"==c?"gutter":"class",function(a){var e="text"==c?"textClass":"background"==c?"bgClass":"gutter"==c?"gutterClass":"wrapClass";if(a[e]){if(y(d).test(a[e]))return!1;a[e]+=" "+d}else a[e]=d;return!0})}),removeLineClass:oa(function(a,c,
d){return jd(this,a,"gutter"==c?"gutter":"class",function(a){var e="text"==c?"textClass":"background"==c?"bgClass":"gutter"==c?"gutterClass":"wrapClass",b=a[e];if(b)if(null==d)a[e]=null;else{var h=b.match(y(d));if(!h)return!1;var g=h.index+h[0].length;a[e]=b.slice(0,h.index)+(h.index&&g!=b.length?" ":"")+b.slice(g)||null}else return!1;return!0})}),addLineWidget:oa(function(a,c,d){return Bg(this,a,c,d)}),removeLineWidget:function(a){a.clear()},markText:function(a,c,d){return Lc(this,O(this,a),O(this,
c),d,d&&d.type||"range")},setBookmark:function(a,c){c={replacedWith:c&&(null==c.nodeType?c.widget:c),insertLeft:c&&c.insertLeft,clearWhenEmpty:!1,shared:c&&c.shared,handleMouseEvents:c&&c.handleMouseEvents};a=O(this,a);return Lc(this,a,a,c,"bookmark")},findMarksAt:function(a){a=O(this,a);var c=[],d=J(this,a.line).markedSpans;if(d)for(var e=0;e<d.length;++e){var b=d[e];(null==b.from||b.from<=a.ch)&&(null==b.to||b.to>=a.ch)&&c.push(b.marker.parent||b.marker)}return c},findMarks:function(a,c,d){a=O(this,
a);c=O(this,c);var e=[],b=a.line;this.iter(a.line,c.line+1,function(h){if(h=h.markedSpans)for(var l=0;l<h.length;l++){var g=h[l];null!=g.to&&b==a.line&&a.ch>=g.to||null==g.from&&b!=a.line||null!=g.from&&b==c.line&&g.from>=c.ch||d&&!d(g.marker)||e.push(g.marker.parent||g.marker)}++b});return e},getAllMarks:function(){var a=[];this.iter(function(c){if(c=c.markedSpans)for(var d=0;d<c.length;++d)null!=c[d].from&&a.push(c[d].marker)});return a},posFromIndex:function(a){var c,d=this.first,e=this.lineSeparator().length;
this.iter(function(b){b=b.text.length+e;if(b>a)return c=a,!0;a-=b;++d});return O(this,D(d,c))},indexFromPos:function(a){a=O(this,a);var c=a.ch;if(a.line<this.first||0>a.ch)return 0;var d=this.lineSeparator().length;this.iter(this.first,a.line,function(a){c+=a.text.length+d});return c},copy:function(a){var c=new Ha(Ya(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);c.scrollTop=this.scrollTop;c.scrollLeft=this.scrollLeft;c.sel=this.sel;c.extend=!1;a&&(c.history.undoDepth=
this.history.undoDepth,c.setHistory(this.getHistory()));return c},linkedDoc:function(a){a||(a={});var c=this.first,d=this.first+this.size;null!=a.from&&a.from>c&&(c=a.from);null!=a.to&&a.to<d&&(d=a.to);c=new Ha(Ya(this,c,d),a.mode||this.modeOption,c,this.lineSep,this.direction);a.sharedHist&&(c.history=this.history);(this.linked||(this.linked=[])).push({doc:c,sharedHist:a.sharedHist});c.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=Ef(this);for(d=0;d<a.length;d++){var e=a[d],b=e.find(),
h=c.clipPos(b.from);b=c.clipPos(b.to);M(h,b)&&(h=Lc(c,h,b,e.primary,e.primary.type),e.markers.push(h),h.parent=e)}return c},unlinkDoc:function(a){a instanceof da&&(a=a.doc);if(this.linked)for(var c=0;c<this.linked.length;++c)if(this.linked[c].doc==a){this.linked.splice(c,1);a.unlinkDoc(this);Dg(Ef(this));break}if(a.history==this.history){var d=[a.id];mc(a,function(a){return d.push(a.id)},!0);a.history=new Qd(null);a.history.done=Hc(this.history.done,d);a.history.undone=Hc(this.history.undone,d)}},
iterLinkedDocs:function(a){mc(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):He(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:oa(function(a){"rtl"!=a&&(a="ltr");a!=this.direction&&(this.direction=a,this.iter(function(a){return a.order=null}),this.cm&&xg(this.cm))})});Ha.prototype.eachLine=Ha.prototype.iter;for(var Gf=0,Xf=!1,Tb={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",
17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",
63302:"Insert"},zd=0;10>zd;zd++)Tb[zd+48]=Tb[zd+96]=String(zd);for(var ae=65;90>=ae;ae++)Tb[ae]=String.fromCharCode(ae);for(var Ad=1;12>=Ad;Ad++)Tb[Ad+111]=Tb[Ad+63235]="F"+Ad;var od={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",
Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",
"Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars",
"Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace",
"Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};od["default"]=ib?od.macDefault:od.pcDefault;var pd={selectAll:vf,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),qb)},killLine:function(a){return Nc(a,function(c){if(c.empty()){var d=
J(a.doc,c.head.line).text.length;return c.head.ch==d&&c.head.line<a.lastLine()?{from:c.head,to:D(c.head.line+1,0)}:{from:c.head,to:D(c.head.line,d)}}return{from:c.from(),to:c.to()}})},deleteLine:function(a){return Nc(a,function(c){return{from:D(c.from().line,0),to:O(a.doc,D(c.to().line+1,0))}})},delLineLeft:function(a){return Nc(a,function(a){return{from:D(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(a){return Nc(a,function(c){var d=a.charCoords(c.head,"div").top+5;return{from:a.coordsChar({left:0,
top:d},"div"),to:c.from()}})},delWrappedLineRight:function(a){return Nc(a,function(c){var d=a.charCoords(c.head,"div").top+5;d=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:d},"div");return{from:c.from(),to:d}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(D(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(D(a.lastLine()))},
goLineStart:function(a){return a.extendSelectionsBy(function(c){return Mf(a,c.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(c){return Nf(a,c.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(c){c=c.head.line;var d=J(a.doc,c);var e=d;for(var b;b=$a(e,!1);)e=b.find(1,!0).line;e!=d&&(c=U(e));return Ae(!0,a,d,c,-1)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(c){c=
a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div")},xd)},goLineLeft:function(a){return a.extendSelectionsBy(function(c){c=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:0,top:c},"div")},xd)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(c){var d=a.cursorCoords(c.head,"div").top+5;d=a.coordsChar({left:0,top:d},"div");return d.ch<a.getLine(d.line).search(/\S/)?Nf(a,c.head):d},xd)},goLineUp:function(a){return a.moveV(-1,
"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,
"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"char")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},
indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},insertSoftTab:function(a){for(var c=[],d=a.listSelections(),b=a.options.tabSize,h=0;h<d.length;h++){var l=d[h].from();l=q(a.getLine(l.line),l.ch,b);c.push(e(b-l%b))}a.replaceSelections(c)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return Na(a,function(){for(var c=a.listSelections(),d=[],e=0;e<c.length;e++)if(c[e].empty()){var b=
c[e].head,h=J(a.doc,b.line).text;if(h)if(b.ch==h.length&&(b=new D(b.line,b.ch-1)),0<b.ch)b=new D(b.line,b.ch+1),a.replaceRange(h.charAt(b.ch-1)+h.charAt(b.ch-2),D(b.line,b.ch-2),b,"+transpose");else if(b.line>a.doc.first){var l=J(a.doc,b.line-1).text;l&&(b=new D(b.line,1),a.replaceRange(h.charAt(0)+a.doc.lineSeparator()+l.charAt(l.length-1),D(b.line-1,l.length-1),b,"+transpose"))}d.push(new Y(b,b))}a.setSelections(d)})},newlineAndIndent:function(a){return Na(a,function(){for(var c=a.listSelections(),
d=c.length-1;0<=d;d--)a.replaceRange(a.doc.lineSeparator(),c[d].anchor,c[d].head,"+input");c=a.listSelections();for(d=0;d<c.length;d++)a.indentLine(c[d].from().line,null,!0);Ec(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}},Kg=new nc,Be=null,Ce=function(a,c,d){this.time=a;this.pos=c;this.button=d};Ce.prototype.compare=function(a,c,d){return this.time+400>a&&0==M(c,this.pos)&&d==this.button};var sd,rd,Oc={toString:function(){return"CodeMirror.Init"}},
Wf={},Zd={};da.defaults=Wf;da.optionHandlers=Zd;var Fe=[];da.defineInitHook=function(a){return Fe.push(a)};var Oa=null,aa=function(a){this.cm=a;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new nc;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};aa.prototype.init=function(a){function c(a){if(!ia(b,a)){if(b.somethingSelected())Oa={lineWise:!1,text:b.getSelections()},"cut"==a.type&&b.replaceSelection("",null,"cut");else if(b.options.lineWiseCopyCut){var c=
ag(b);Oa={lineWise:!0,text:c.text};"cut"==a.type&&b.operation(function(){b.setSelections(c.ranges,0,qb);b.replaceSelection("",null,"cut")})}else return;if(a.clipboardData){a.clipboardData.clearData();var d=Oa.text.join("\n");a.clipboardData.setData("Text",d);if(a.clipboardData.getData("Text")==d){a.preventDefault();return}}var l=cg();a=l.firstChild;b.display.lineSpace.insertBefore(l,b.display.lineSpace.firstChild);a.value=Oa.text.join("\n");var g=document.activeElement;wd(a);setTimeout(function(){b.display.lineSpace.removeChild(l);
g.focus();g==h&&e.showPrimarySelection()},50)}}var d=this,e=this,b=e.cm,h=e.div=a.lineDiv;bg(h,b.options.spellcheck,b.options.autocorrect,b.options.autocapitalize);N(h,"paste",function(a){ia(b,a)||$f(a,b)||11>=ca&&setTimeout(na(b,function(){return d.updateFromDOM()}),20)});N(h,"compositionstart",function(a){d.composing={data:a.data,done:!1}});N(h,"compositionupdate",function(a){d.composing||(d.composing={data:a.data,done:!1})});N(h,"compositionend",function(a){d.composing&&(a.data!=d.composing.data&&
d.readFromDOMSoon(),d.composing.done=!0)});N(h,"touchstart",function(){return e.forceCompositionEnd()});N(h,"input",function(){d.composing||d.readFromDOMSoon()});N(h,"copy",c);N(h,"cut",c)};aa.prototype.prepareSelection=function(){var a=Qe(this.cm,!1);a.focus=this.cm.state.focused;return a};aa.prototype.showSelection=function(a,c){a&&this.cm.display.view.length&&((a.focus||c)&&this.showPrimarySelection(),this.showMultipleSelections(a))};aa.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};
aa.prototype.showPrimarySelection=function(){var a=this.getSelection(),c=this.cm,d=c.doc.sel.primary(),e=d.from();d=d.to();if(c.display.viewTo==c.display.viewFrom||e.line>=c.display.viewTo||d.line<c.display.viewFrom)a.removeAllRanges();else{var b=$d(c,a.anchorNode,a.anchorOffset),h=$d(c,a.focusNode,a.focusOffset);if(!b||b.bad||!h||h.bad||0!=M(nb(b,h),e)||0!=M(Z(b,h),d))if(b=c.display.view,e=e.line>=c.display.viewFrom&&eg(c,e)||{node:b[0].measure.map[2],offset:0},d=d.line<c.display.viewTo&&eg(c,d),
d||(d=b[b.length-1].measure,d=d.maps?d.maps[d.maps.length-1]:d.map,d={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}),e&&d){b=a.rangeCount&&a.getRangeAt(0);try{var l=Yc(e.node,e.offset,d.offset,d.node)}catch(ih){}l&&(!Qb&&c.state.focused?(a.collapse(e.node,e.offset),l.collapsed||(a.removeAllRanges(),a.addRange(l))):(a.removeAllRanges(),a.addRange(l)),b&&null==a.anchorNode?a.addRange(b):Qb&&this.startGracePeriod());this.rememberSelection()}else a.removeAllRanges()}};aa.prototype.startGracePeriod=
function(){var a=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){a.gracePeriod=!1;a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)};aa.prototype.showMultipleSelections=function(a){A(this.cm.display.cursorDiv,a.cursors);A(this.cm.display.selectionDiv,a.selection)};aa.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode;this.lastAnchorOffset=a.anchorOffset;this.lastFocusNode=a.focusNode;
this.lastFocusOffset=a.focusOffset};aa.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;a=a.getRangeAt(0).commonAncestorContainer;return t(this.div,a)};aa.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())};aa.prototype.blur=function(){this.div.blur()};aa.prototype.getField=function(){return this.div};aa.prototype.supportsTouch=function(){return!0};aa.prototype.receivedFocus=
function(){function a(){c.cm.state.focused&&(c.pollSelection(),c.polling.set(c.cm.options.pollInterval,a))}var c=this;this.selectionInEditor()?this.pollSelection():Na(this.cm,function(){return c.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,a)};aa.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset};aa.prototype.pollSelection=
function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),c=this.cm;if(Id&&Hd&&this.cm.display.gutterSpecs.length&&Zg(a.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var d=$d(c,a.anchorNode,a.anchorOffset),e=$d(c,a.focusNode,a.focusOffset);d&&e&&Na(c,function(){qa(c.doc,Bb(d,e),qb);if(d.bad||e.bad)c.curOp.selectionChanged=!0})}}};
aa.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var c=this.cm,d=c.display,e=c.doc.sel.primary(),b=e.from(),h=e.to();0==b.ch&&b.line>c.firstLine()&&(b=D(b.line-1,J(c.doc,b.line-1).length));h.ch==J(c.doc,h.line).text.length&&h.line<c.lastLine()&&(h=D(h.line+1,0));if(b.line<d.viewFrom||h.line>d.viewTo-1)return!1;var l;b.line==d.viewFrom||0==(l=fc(c,b.line))?(e=U(d.view[0].line),l=d.view[0].node):(e=U(d.view[l].line),l=d.view[l-
1].node.nextSibling);var f=fc(c,h.line);f==d.view.length-1?(h=d.viewTo-1,d=d.lineDiv.lastChild):(h=U(d.view[f+1].line)-1,d=d.view[f+1].node.previousSibling);if(!l)return!1;d=c.doc.splitLines($g(c,l,d,e,h));for(l=Ba(c.doc,D(e,0),D(h,J(c.doc,h).text.length));1<d.length&&1<l.length;)if(a(d)==a(l))d.pop(),l.pop(),h--;else if(d[0]==l[0])d.shift(),l.shift(),e++;else break;var r=0;f=0;for(var v=d[0],m=l[0],n=Math.min(v.length,m.length);r<n&&v.charCodeAt(r)==m.charCodeAt(r);)++r;v=a(d);m=a(l);for(n=Math.min(v.length-
(1==d.length?r:0),m.length-(1==l.length?r:0));f<n&&v.charCodeAt(v.length-f-1)==m.charCodeAt(m.length-f-1);)++f;if(1==d.length&&1==l.length&&e==b.line)for(;r&&r>b.ch&&v.charCodeAt(v.length-f-1)==m.charCodeAt(m.length-f-1);)r--,f++;d[d.length-1]=v.slice(0,v.length-f).replace(/^\u200b+/,"");d[0]=d[0].slice(r).replace(/\u200b+$/,"");b=D(e,r);e=D(h,l.length?a(l).length-f:0);if(1<d.length||d[0]||M(b,e))return Kc(c.doc,d,b,e,"+input"),!0};aa.prototype.ensurePolled=function(){this.forceCompositionEnd()};
aa.prototype.reset=function(){this.forceCompositionEnd()};aa.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};aa.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){a.readDOMTimeout=null;if(a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))};aa.prototype.updateFromDOM=function(){var a=
this;!this.cm.isReadOnly()&&this.pollContent()||Na(this.cm,function(){return Ga(a.cm)})};aa.prototype.setUneditable=function(a){a.contentEditable="false"};aa.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||na(this.cm,Ge)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))};aa.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)};aa.prototype.onContextMenu=function(){};aa.prototype.resetPosition=
function(){};aa.prototype.needsContentAttribute=!0;var ka=function(a){this.cm=a;this.prevInput="";this.pollingFast=!1;this.polling=new nc;this.hasSelection=!1;this.composing=null};ka.prototype.init=function(a){function c(a){if(!ia(b,a)){if(b.somethingSelected())Oa={lineWise:!1,text:b.getSelections()};else if(b.options.lineWiseCopyCut){var c=ag(b);Oa={lineWise:!0,text:c.text};"cut"==a.type?b.setSelections(c.ranges,null,qb):(e.prevInput="",h.value=c.text.join("\n"),wd(h))}else return;"cut"==a.type&&
(b.state.cutIncoming=+new Date)}}var d=this,e=this,b=this.cm;this.createField(a);var h=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild);ud&&(h.style.width="0px");N(h,"input",function(){W&&9<=ca&&d.hasSelection&&(d.hasSelection=null);e.poll()});N(h,"paste",function(a){ia(b,a)||$f(a,b)||(b.state.pasteIncoming=+new Date,e.fastPoll())});N(h,"cut",c);N(h,"copy",c);N(a.scroller,"paste",function(c){if(!Sa(a,c)&&!ia(b,c))if(h.dispatchEvent){var d=new Event("paste");d.clipboardData=
c.clipboardData;h.dispatchEvent(d)}else b.state.pasteIncoming=+new Date,e.focus()});N(a.lineSpace,"selectstart",function(c){Sa(a,c)||T(c)});N(h,"compositionstart",function(){var a=b.getCursor("from");e.composing&&e.composing.range.clear();e.composing={start:a,range:b.markText(a,b.getCursor("to"),{className:"CodeMirror-composing"})}});N(h,"compositionend",function(){e.composing&&(e.poll(),e.composing.range.clear(),e.composing=null)})};ka.prototype.createField=function(a){this.wrapper=cg();this.textarea=
this.wrapper.firstChild};ka.prototype.prepareSelection=function(){var a=this.cm,c=a.display,d=a.doc,e=Qe(a);if(a.options.moveInputWithCursor){a=Qa(a,d.sel.primary().head,"div");d=c.wrapper.getBoundingClientRect();var b=c.lineDiv.getBoundingClientRect();e.teTop=Math.max(0,Math.min(c.wrapper.clientHeight-10,a.top+b.top-d.top));e.teLeft=Math.max(0,Math.min(c.wrapper.clientWidth-10,a.left+b.left-d.left))}return e};ka.prototype.showSelection=function(a){var c=this.cm.display;A(c.cursorDiv,a.cursors);A(c.selectionDiv,
a.selection);null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")};ka.prototype.reset=function(a){if(!this.contextMenuPending&&!this.composing){var c=this.cm;c.somethingSelected()?(this.prevInput="",a=c.getSelection(),this.textarea.value=a,c.state.focused&&wd(this.textarea),W&&9<=ca&&(this.hasSelection=a)):a||(this.prevInput=this.textarea.value="",W&&9<=ca&&(this.hasSelection=null))}};ka.prototype.getField=function(){return this.textarea};ka.prototype.supportsTouch=
function(){return!1};ka.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!gd||w()!=this.textarea))try{this.textarea.focus()}catch(g){}};ka.prototype.blur=function(){this.textarea.blur()};ka.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};ka.prototype.receivedFocus=function(){this.slowPoll()};ka.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll();a.cm.state.focused&&a.slowPoll()})};
ka.prototype.fastPoll=function(){function a(){d.poll()||c?(d.pollingFast=!1,d.slowPoll()):(c=!0,d.polling.set(60,a))}var c=!1,d=this;d.pollingFast=!0;d.polling.set(20,a)};ka.prototype.poll=function(){var a=this,c=this.cm,d=this.textarea,e=this.prevInput;if(this.contextMenuPending||!c.state.focused||eh(d)&&!e&&!this.composing||c.isReadOnly()||c.options.disableInput||c.state.keySeq)return!1;var b=d.value;if(b==e&&!c.somethingSelected())return!1;if(W&&9<=ca&&this.hasSelection===b||ib&&/[\uf700-\uf7ff]/.test(b))return c.display.input.reset(),
!1;if(c.doc.sel==c.display.selForContextMenu){var h=b.charCodeAt(0);8203!=h||e||(e="\u200b");if(8666==h)return this.reset(),this.cm.execCommand("undo")}var l=0;for(h=Math.min(e.length,b.length);l<h&&e.charCodeAt(l)==b.charCodeAt(l);)++l;Na(c,function(){Ge(c,b.slice(l),e.length-l,null,a.composing?"*compose":null);1E3<b.length||-1<b.indexOf("\n")?d.value=a.prevInput="":a.prevInput=b;a.composing&&(a.composing.range.clear(),a.composing.range=c.markText(a.composing.start,c.getCursor("to"),{className:"CodeMirror-composing"}))});
return!0};ka.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};ka.prototype.onKeyPress=function(){W&&9<=ca&&(this.hasSelection=null);this.fastPoll()};ka.prototype.onContextMenu=function(a){function c(){if(null!=l.selectionStart){var a=b.somethingSelected(),c="\u200b"+(a?l.value:"");l.value="\u21da";l.value=c;e.prevInput=a?"":"\u200b";l.selectionStart=1;l.selectionEnd=c.length;h.selForContextMenu=b.doc.sel}}function d(){if(e.contextMenuPending==d&&(e.contextMenuPending=
!1,e.wrapper.style.cssText=v,l.style.cssText=r,W&&9>ca&&h.scrollbars.setScrollTop(h.scroller.scrollTop=g),null!=l.selectionStart)){(!W||W&&9>ca)&&c();var a=0,f=function(){h.selForContextMenu==b.doc.sel&&0==l.selectionStart&&0<l.selectionEnd&&"\u200b"==e.prevInput?na(b,vf)(b):10>a++?h.detectingSelectAll=setTimeout(f,500):(h.selForContextMenu=null,h.input.reset())};h.detectingSelectAll=setTimeout(f,200)}}var e=this,b=e.cm,h=b.display,l=e.textarea;e.contextMenuPending&&e.contextMenuPending();var f=hc(b,
a),g=h.scroller.scrollTop;if(f&&!jb){b.options.resetSelectionOnContextMenu&&-1==b.doc.sel.contains(f)&&na(b,qa)(b.doc,Bb(f),qb);var r=l.style.cssText,v=e.wrapper.style.cssText;f=e.wrapper.offsetParent.getBoundingClientRect();e.wrapper.style.cssText="position: static";l.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-f.top-5)+"px; left: "+(a.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(W?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
if(ya)var m=window.scrollY;h.input.focus();ya&&window.scrollTo(null,m);h.input.reset();b.somethingSelected()||(l.value=e.prevInput=" ");e.contextMenuPending=d;h.selForContextMenu=b.doc.sel;clearTimeout(h.detectingSelectAll);W&&9<=ca&&c();if(De){Wa(a);var n=function(){G(window,"mouseup",n);setTimeout(d,20)};N(window,"mouseup",n)}else setTimeout(d,50)}};ka.prototype.readOnlyChanged=function(a){a||this.reset();this.textarea.disabled="nocursor"==a};ka.prototype.setUneditable=function(){};ka.prototype.needsContentAttribute=
!1;(function(a){function c(c,e,b,h){a.defaults[c]=e;b&&(d[c]=h?function(a,c,d){d!=Oc&&b(a,c,d)}:b)}var d=a.optionHandlers;a.defineOption=c;a.Init=Oc;c("value","",function(a,c){return a.setValue(c)},!0);c("mode",null,function(a,c){a.doc.modeOption=c;se(a)},!0);c("indentUnit",2,se,!0);c("indentWithTabs",!1);c("smartIndent",!0);c("tabSize",4,function(a){hd(a);cb(a);Ga(a)},!0);c("lineSeparator",null,function(a,c){if(a.doc.lineSep=c){var d=[],e=a.doc.first;a.doc.iter(function(a){for(var b=0;;){var h=a.text.indexOf(c,
b);if(-1==h)break;b=h+c.length;d.push(D(e,h))}e++});for(var b=d.length-1;0<=b;b--)Kc(a.doc,c,d[b],D(d[b].line,d[b].ch+c.length))}});c("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(a,c,d){a.state.specialChars=new RegExp(c.source+(c.test("\t")?"":"|\t"),"g");d!=Oc&&a.refresh()});c("specialCharPlaceholder",Rc,function(a){return a.refresh()},!0);c("electricChars",!0);c("inputStyle",gd?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");
},!0);c("spellcheck",!1,function(a,c){return a.getInputField().spellcheck=c},!0);c("autocorrect",!1,function(a,c){return a.getInputField().autocorrect=c},!0);c("autocapitalize",!1,function(a,c){return a.getInputField().autocapitalize=c},!0);c("rtlMoveVisually",!dh);c("wholeLineUpdateBefore",!0);c("theme","default",function(a){Vf(a);fd(a)},!0);c("keyMap","default",function(a,c,d){c=Vd(c);(d=d!=Oc&&Vd(d))&&d.detach&&d.detach(a,c);c.attach&&c.attach(a,d||null)});c("extraKeys",null);c("configureMouse",
null);c("lineWrapping",!1,Xg,!0);c("gutters",[],function(a,c){a.display.gutterSpecs=qe(c,a.options.lineNumbers);fd(a)},!0);c("fixedGutter",!0,function(a,c){a.display.gutters.style.left=c?de(a.display)+"px":"0";a.refresh()},!0);c("coverGutterNextToScrollbar",!1,function(a){return Fc(a)},!0);c("scrollbarStyle","native",function(a){Ze(a);Fc(a);a.display.scrollbars.setScrollTop(a.doc.scrollTop);a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)},!0);c("lineNumbers",!1,function(a,c){a.display.gutterSpecs=
qe(a.options.gutters,c);fd(a)},!0);c("firstLineNumber",1,fd,!0);c("lineNumberFormatter",function(a){return a},fd,!0);c("showCursorWhenSelecting",!1,$c,!0);c("resetSelectionOnContextMenu",!0);c("lineWiseCopyCut",!0);c("pasteLinesPerSelection",!0);c("selectionsMayTouch",!1);c("readOnly",!1,function(a,c){"nocursor"==c&&(ad(a),a.display.input.blur());a.display.input.readOnlyChanged(c)});c("disableInput",!1,function(a,c){c||a.display.input.reset()},!0);c("dragDrop",!0,Wg);c("allowDropFileTypes",null);
c("cursorBlinkRate",530);c("cursorScrollMargin",0);c("cursorHeight",1,$c,!0);c("singleCursorHeightPerLine",!0,$c,!0);c("workTime",100);c("workDelay",100);c("flattenSpans",!0,hd,!0);c("addModeClass",!1,hd,!0);c("pollInterval",100);c("undoDepth",200,function(a,c){return a.doc.history.undoDepth=c});c("historyEventDelay",1250);c("viewportMargin",10,function(a){return a.refresh()},!0);c("maxHighlightLength",1E4,hd,!0);c("moveInputWithCursor",!0,function(a,c){c||a.display.input.resetPosition()});c("tabindex",
null,function(a,c){return a.display.input.getField().tabIndex=c||""});c("autofocus",null);c("direction","ltr",function(a,c){return a.doc.setDirection(c)},!0);c("phrases",null)})(da);(function(a){var c=a.optionHandlers,e=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus();this.display.input.focus()},setOption:function(a,d){var e=this.options,b=e[a];if(e[a]!=d||"mode"==a)e[a]=d,c.hasOwnProperty(a)&&na(this,c[a])(this,d,b),L(this,"optionChange",this,a)},getOption:function(a){return this.options[a]},
getDoc:function(){return this.doc},addKeyMap:function(a,c){this.state.keyMaps[c?"push":"unshift"](Vd(a))},removeKeyMap:function(a){for(var c=this.state.keyMaps,d=0;d<c.length;++d)if(c[d]==a||c[d].name==a)return c.splice(d,1),!0},addOverlay:za(function(c,e){var b=c.token?c:a.getMode(this.options,c);if(b.startState)throw Error("Overlays may not be stateful.");d(this.state.overlays,{mode:b,modeSpec:c,opaque:e&&e.opaque,priority:e&&e.priority||0},function(a){return a.priority});this.state.modeGen++;Ga(this)}),
removeOverlay:za(function(a){for(var c=this.state.overlays,d=0;d<c.length;++d){var e=c[d].modeSpec;if(e==a||"string"==typeof a&&e.name==a){c.splice(d,1);this.state.modeGen++;Ga(this);break}}}),indentLine:za(function(a,c,d){"string"!=typeof c&&"number"!=typeof c&&(c=null==c?this.options.smartIndent?"smart":"prev":c?"add":"subtract");eb(this.doc,a)&&td(this,a,c,d)}),indentSelection:za(function(a){for(var c=this.doc.sel.ranges,d=-1,e=0;e<c.length;e++){var b=c[e];if(b.empty())b.head.line>d&&(td(this,
b.head.line,a,!0),d=b.head.line,e==this.doc.sel.primIndex&&Ec(this));else{var h=b.from();b=b.to();var l=Math.max(d,h.line);d=Math.min(this.lastLine(),b.line-(b.ch?0:1))+1;for(b=l;b<d;++b)td(this,b,a);b=this.doc.sel.ranges;0==h.ch&&c.length==b.length&&0<b[e].from().ch&&we(this.doc,e,new Y(h,b[e].to()),qb)}}}),getTokenAt:function(a,c){return vb(this,a,c)},getLineTokens:function(a,c){return vb(this,D(a),c,!0)},getTokenTypeAt:function(a){a=O(this.doc,a);var c=qc(this,J(this.doc,a.line)),d=0,e=(c.length-
1)/2;a=a.ch;if(0==a)c=c[2];else for(;;){var b=d+e>>1;if((b?c[2*b-1]:0)>=a)e=b;else if(c[2*b+1]<a)d=b+1;else{c=c[2*b+2];break}}d=c?c.indexOf("overlay "):-1;return 0>d?c:0==d?null:c.slice(0,d-1)},getModeAt:function(c){var d=this.doc.mode;return d.innerMode?a.innerMode(d,this.getTokenAt(c).state).mode:d},getHelper:function(a,c){return this.getHelpers(a,c)[0]},getHelpers:function(a,c){var d=[];if(!e.hasOwnProperty(c))return d;var b=e[c];a=this.getModeAt(a);if("string"==typeof a[c])b[a[c]]&&d.push(b[a[c]]);
else if(a[c])for(var h=0;h<a[c].length;h++){var l=b[a[c][h]];l&&d.push(l)}else a.helperType&&b[a.helperType]?d.push(b[a.helperType]):b[a.name]&&d.push(b[a.name]);for(c=0;c<b._global.length;c++)h=b._global[c],h.pred(a,this)&&-1==m(d,h.val)&&d.push(h.val);return d},getStateAfter:function(a,c){var d=this.doc;a=Math.max(d.first,Math.min(null==a?d.first+d.size-1:a,d.first+d.size-1));return db(this,a+1,c).state},cursorCoords:function(a,c){var d=this.doc.sel.primary();a=null==a?d.head:"object"==typeof a?
O(this.doc,a):a?d.from():d.to();return Qa(this,a,c||"page")},charCoords:function(a,c){return sb(this,O(this.doc,a),c||"page")},coordsChar:function(a,c){a=rb(this,a,c||"page");return be(this,a.left,a.top)},lineAtHeight:function(a,c){a=rb(this,{top:a,left:0},c||"page").top;return ea(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,c,d){var e=!1;if("number"==typeof a){var b=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>b&&(a=b,e=!0);a=J(this.doc,a)}return uc(this,a,{top:0,
left:0},c||"page",d||e).top+(e?this.doc.height-X(a):0)},defaultTextHeight:function(){return yc(this.display)},defaultCharWidth:function(){return xc(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,c,d,e,b){var h=this.display;a=Qa(this,O(this.doc,a));var l=a.bottom,f=a.left;c.style.position="absolute";c.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(c);h.sizer.appendChild(c);if("over"==e)l=a.top;else if("above"==
e||"near"==e){var g=Math.max(h.wrapper.clientHeight,this.doc.height),r=Math.max(h.sizer.clientWidth,h.lineSpace.clientWidth);("above"==e||a.bottom+c.offsetHeight>g)&&a.top>c.offsetHeight?l=a.top-c.offsetHeight:a.bottom+c.offsetHeight<=g&&(l=a.bottom);f+c.offsetWidth>r&&(f=r-c.offsetWidth)}c.style.top=l+"px";c.style.left=c.style.right="";"right"==b?(f=h.sizer.clientWidth-c.offsetWidth,c.style.right="0px"):("left"==b?f=0:"middle"==b&&(f=(h.sizer.clientWidth-c.offsetWidth)/2),c.style.left=f+"px");d&&
(a=le(this,{left:f,top:l,right:f+c.offsetWidth,bottom:l+c.offsetHeight}),null!=a.scrollTop&&cd(this,a.scrollTop),null!=a.scrollLeft&&jc(this,a.scrollLeft))},triggerOnKeyDown:za(Qf),triggerOnKeyPress:za(Sf),triggerOnKeyUp:Rf,triggerOnMouseDown:za(Tf),execCommand:function(a){if(pd.hasOwnProperty(a))return pd[a].call(null,this)},triggerElectric:za(function(a){Zf(this,a)}),findPosH:function(a,c,d,e){var b=1;0>c&&(b=-1,c=-c);a=O(this.doc,a);for(var h=0;h<c&&(a=Ie(this.doc,a,b,d,e),!a.hitSide);++h);return a},
moveH:za(function(a,c){var d=this;this.extendSelectionsBy(function(e){return d.display.shift||d.doc.extend||e.empty()?Ie(d.doc,e.head,a,c,d.options.rtlMoveVisually):0>a?e.from():e.to()},xd)}),deleteH:za(function(a,c){var d=this.doc;this.doc.sel.somethingSelected()?d.replaceSelection("",null,"+delete"):Nc(this,function(e){var b=Ie(d,e.head,a,c,!1);return 0>a?{from:b,to:e.head}:{from:e.head,to:b}})}),findPosV:function(a,c,d,e){var b=1;0>c&&(b=-1,c=-c);var h=O(this.doc,a);for(a=0;a<c&&(h=Qa(this,h,"div"),
null==e?e=h.left:h.left=e,h=dg(this,h,b,d),!h.hitSide);++a);return h},moveV:za(function(a,c){var d=this,e=this.doc,b=[],h=!this.display.shift&&!e.extend&&e.sel.somethingSelected();e.extendSelectionsBy(function(l){if(h)return 0>a?l.from():l.to();var f=Qa(d,l.head,"div");null!=l.goalColumn&&(f.left=l.goalColumn);b.push(f.left);var g=dg(d,f,a,c);"page"==c&&l==e.sel.primary()&&Md(d,sb(d,g,"div").top-f.top);return g},xd);if(b.length)for(var l=0;l<e.sel.ranges.length;l++)e.sel.ranges[l].goalColumn=b[l]}),
findWordAt:function(a){var c=J(this.doc,a.line).text,d=a.ch,e=a.ch;if(c){var b=this.getHelper(a,"wordChars");"before"!=a.sticky&&e!=c.length||!d?++e:--d;var h=c.charAt(d);for(h=v(h,b)?function(a){return v(a,b)}:/\s/.test(h)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!v(a)};0<d&&h(c.charAt(d-1));)--d;for(;e<c.length&&h(c.charAt(e));)++e}return new Y(D(a.line,d),D(a.line,e))},toggleOverwrite:function(a){if(null==a||a!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?
b(this.display.cursorDiv,"CodeMirror-overwrite"):ic(this.display.cursorDiv,"CodeMirror-overwrite"),L(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==w()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:za(function(a,c){bd(this,a,c)}),getScrollInfo:function(){var a=this.display.scroller;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-Ma(this)-this.display.barHeight,width:a.scrollWidth-Ma(this)-
this.display.barWidth,clientHeight:Mb(this),clientWidth:ab(this)}},scrollIntoView:za(function(a,c){null==a?(a={from:this.doc.sel.primary().head,to:null},null==c&&(c=this.options.cursorScrollMargin)):"number"==typeof a?a={from:D(a,0),to:null}:null==a.from&&(a={from:a,to:null});a.to||(a.to=a.from);a.margin=c||0;null!=a.from.line?(Nd(this),this.curOp.scrollToPos=a):Ve(this,a.from,a.to,a.margin)}),setSize:za(function(a,c){var d=this,e=function(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":
a};null!=a&&(this.display.wrapper.style.width=e(a));null!=c&&(this.display.wrapper.style.height=e(c));this.options.lineWrapping&&Dd(this);var b=this.display.viewFrom;this.doc.iter(b,this.display.viewTo,function(a){if(a.widgets)for(var c=0;c<a.widgets.length;c++)if(a.widgets[c].noHScroll){Pb(d,b,"widget");break}++b});this.curOp.forceUpdate=!0;L(this,"refresh",this)}),operation:function(a){return Na(this,a)},startOperation:function(){return kc(this)},endOperation:function(){return lc(this)},refresh:za(function(){var a=
this.display.cachedTextHeight;Ga(this);this.curOp.forceUpdate=!0;cb(this);bd(this,this.doc.scrollLeft,this.doc.scrollTop);pe(this.display);(null==a||.5<Math.abs(a-yc(this.display)))&&Wc(this);L(this,"refresh",this)}),swapDoc:za(function(a){var c=this.doc;c.cm=null;this.state.selectingText&&this.state.selectingText();jf(this,a);cb(this);this.display.input.reset();bd(this,a.scrollLeft,a.scrollTop);this.curOp.forceScroll=!0;fa(this,"swapDoc",this,c);return c}),phrase:function(a){var c=this.options.phrases;
return c&&Object.prototype.hasOwnProperty.call(c,a)?c[a]:a},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};ua(a);a.registerHelper=function(c,d,b){e.hasOwnProperty(c)||(e[c]=a[c]={_global:[]});e[c][d]=b};a.registerGlobalHelper=function(c,d,b,h){a.registerHelper(c,d,h);e[c]._global.push({pred:b,val:h})}})(da);
var gh="iter insert remove copy getEditor constructor".split(" "),Bd;for(Bd in Ha.prototype)Ha.prototype.hasOwnProperty(Bd)&&0>m(gh,Bd)&&(da.prototype[Bd]=function(a){return function(){return a.apply(this.doc,arguments)}}(Ha.prototype[Bd]));ua(Ha);da.inputStyles={textarea:ka,contenteditable:aa};da.defineMode=function(a){da.defaults.mode||"null"==a||(da.defaults.mode=a);va.apply(this,arguments)};da.defineMIME=function(a,c){Bc[a]=c};da.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}});
da.defineMIME("text/plain","null");da.defineExtension=function(a,c){da.prototype[a]=c};da.defineDocExtension=function(a,c){Ha.prototype[a]=c};da.fromTextArea=function(a,c){function d(){a.value=f.getValue()}c=c?k(c):{};c.value=a.value;!c.tabindex&&a.tabIndex&&(c.tabindex=a.tabIndex);!c.placeholder&&a.placeholder&&(c.placeholder=a.placeholder);if(null==c.autofocus){var e=w();c.autofocus=e==a||null!=a.getAttribute("autofocus")&&e==document.body}if(a.form&&(N(a.form,"submit",d),!c.leaveSubmitMethodAlone)){var b=
a.form;var h=b.submit;try{var l=b.submit=function(){d();b.submit=h;b.submit();b.submit=l}}catch(Me){}}c.finishInit=function(c){c.save=d;c.getTextArea=function(){return a};c.toTextArea=function(){c.toTextArea=isNaN;d();a.parentNode.removeChild(c.getWrapperElement());a.style.display="";a.form&&(G(a.form,"submit",d),"function"==typeof a.form.submit&&(a.form.submit=h))}};a.style.display="none";var f=da(function(c){return a.parentNode.insertBefore(c,a.nextSibling)},c);return f};(function(a){a.off=G;a.on=
N;a.wheelEventPixels=wg;a.Doc=Ha;a.splitLines=He;a.countColumn=q;a.findColumn=n;a.isWordChar=l;a.Pass=Xd;a.signal=L;a.Line=Gc;a.changeEnd=Rb;a.scrollbarModel=$e;a.Pos=D;a.cmpPos=M;a.modes=fe;a.mimeModes=Bc;a.resolveMode=wa;a.getMode=Q;a.modeExtensions=Cc;a.extendMode=Vb;a.copyState=Pa;a.startState=Xb;a.innerMode=Wb;a.commands=pd;a.keyMap=od;a.keyName=Lf;a.isModifierKey=If;a.lookupKey=Mc;a.normalizeKeyMap=Ig;a.StringStream=ja;a.SharedTextMarker=nd;a.TextMarker=Sb;a.LineWidget=md;a.e_preventDefault=
T;a.e_stopPropagation=I;a.e_stop=Wa;a.addClass=b;a.contains=t;a.rmClass=ic;a.keyNames=Tb})(da);da.version="5.47.0";return da});/*
 tui-code-snippet.min.js
 @version 1.5.1
 @author NHN. FE Development Lab <dl_javascript@nhn.com>
 @license MIT
*/
!function(y,B){"object"==typeof exports&&"object"==typeof module?module.exports=B():"function"==typeof define&&define.amd?define([],B):"object"==typeof exports?exports.util=B():(y.tui=y.tui||{},y.tui.util=B())}(this,function(){return function(y){function B(x){if(A[x])return A[x].exports;var z=A[x]={exports:{},id:x,loaded:!1};return y[x].call(z.exports,z,z.exports,B),z.loaded=!0,z.exports}var A={};return B.m=y,B.c=A,B.p="dist",B(0)}([function(y,B,A){B={};var x=A(1),z=x.extend;z(B,x);z(B,A(3));z(B,
A(2));z(B,A(4));z(B,A(5));z(B,A(6));z(B,A(7));z(B,A(8));z(B,A(9));B.browser=A(10);B.popup=A(11);B.formatDate=A(12);B.defineClass=A(13);B.defineModule=A(14);B.defineNamespace=A(15);B.CustomEvents=A(16);B.Enum=A(17);B.ExMap=A(18);B.HashMap=A(20);B.Map=A(19);y.exports=B},function(y,B,A){function x(b){var f,q=[];for(f in b)b.hasOwnProperty(f)&&q.push(f);return q}function z(f,k){var q,m=[],n=[];if(isNaN(f)&&isNaN(k)&&w.isNumber(f)&&w.isNumber(k)||f===k)return!0;if(w.isFunction(f)&&w.isFunction(k)||f instanceof
Date&&k instanceof Date||f instanceof RegExp&&k instanceof RegExp||f instanceof String&&k instanceof String||f instanceof Number&&k instanceof Number)return f.toString()===k.toString();if(!(f instanceof Object&&k instanceof Object)||f.isPrototypeOf(k)||k.isPrototypeOf(f)||f.constructor!==k.constructor||f.prototype!==k.prototype||-1<b.inArray(f,m)||-1<b.inArray(k,n))return!1;for(q in k)if(k.hasOwnProperty(q)!==f.hasOwnProperty(q)||typeof k[q]!=typeof f[q])return!1;for(q in f){if(k.hasOwnProperty(q)!==
f.hasOwnProperty(q)||typeof k[q]!=typeof f[q])return!1;if("object"==typeof f[q]||"function"==typeof f[q]){if(m.push(f),n.push(k),!z(f[q],k[q]))return!1;m.pop();n.pop()}else if(f[q]!==k[q])return!1}return!0}function t(b,k){for(var f=arguments,m=f[0],n=1,e=f.length;n<e;n+=1){if(w.isUndefined(m)||w.isNull(m))return;m=m[f[n]]}return m}var w=A(2),b=A(3),p=0;y.exports={extend:function(b,k){var f,m,n=Object.prototype.hasOwnProperty;var e=1;for(m=arguments.length;e<m;e+=1){var a=arguments[e];for(f in a)n.call(a,
f)&&(b[f]=a[f])}return b},stamp:function(b){return b.__fe_id||(p+=1,b.__fe_id=p),b.__fe_id},hasStamp:function(b){return w.isExisty(t(b,"__fe_id"))},resetLastId:function(){p=0},keys:Object.prototype.keys||x,compareJSON:function(b){var f=arguments.length,q=1;if(1>f)return!0;for(;q<f;q+=1)if(!z(b,arguments[q]))return!1;return!0},pick:t}},function(y,B){function A(b){return!x(b)&&null!==b}function x(b){return void 0===b}function z(b){return A(b)&&!1!==b}function t(b){return A(b)&&("[object Arguments]"===
q.call(b)||!!b.callee)}function w(b){return b instanceof Array}function b(b){return b===Object(b)}function p(b){return b instanceof Function}function f(b){return"string"==typeof b||b instanceof String}function k(m){var n;if(n=A(m))n=!(f(m)&&""===m);if(!(n=!n)){if(w(m)||t(m))m=0===m.length;else{if(!(n=!(b(m)&&!p(m)))){a:{for(var e in m)if(m.hasOwnProperty(e)){m=!0;break a}m=!1}n=!m}m=n}n=m}return n}var q=Object.prototype.toString;y.exports={isExisty:A,isUndefined:x,isNull:function(b){return null===
b},isTruthy:z,isFalsy:function(b){return!z(b)},isArguments:t,isArray:w,isArraySafe:function(b){return"[object Array]"===q.call(b)},isObject:b,isFunction:p,isFunctionSafe:function(b){return"[object Function]"===q.call(b)},isNumber:function(b){return"number"==typeof b||b instanceof Number},isNumberSafe:function(b){return"[object Number]"===q.call(b)},isDate:function(b){return b instanceof Date},isDateSafe:function(b){return"[object Date]"===q.call(b)},isString:f,isStringSafe:function(b){return"[object String]"===
q.call(b)},isBoolean:function(b){return"boolean"==typeof b||b instanceof Boolean},isBooleanSafe:function(b){return"[object Boolean]"===q.call(b)},isHTMLNode:function(b){return"object"==typeof HTMLElement?b&&(b instanceof HTMLElement||!!b.nodeType):!(!b||!b.nodeType)},isHTMLTag:function(b){return"object"==typeof HTMLElement?b&&b instanceof HTMLElement:!(!b||!b.nodeType||1!==b.nodeType)},isEmpty:k,isNotEmpty:function(b){return!k(b)}}},function(y,B,A){var x=A(4),z=A(2),t=Array.prototype.slice;y.exports=
{inArray:function(t,b,p){var f;if(p=p||0,!z.isArray(b))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(b,t,p);var k=b.length;for(f=p;0<=p&&f<k;f+=1)if(b[f]===t)return f;return-1},range:function(t,b,p){var f=[];z.isUndefined(b)&&(b=t||0,t=0);p=p||1;var k=0>p?-1:1;for(b*=k;t*k<b;t+=p)f.push(t);return f},zip:function(){var w=t.call(arguments),b=[];return x.forEach(w,function(p){x.forEach(p,function(f,k){b[k]||(b[k]=[]);b[k].push(f)})}),b}}},function(y,B,A){function x(b,k,q){var f=
0,n=b.length;for(q=q||null;f<n&&!1!==k.call(q,b[f],f,b);f+=1);}function z(b,k,q){var f;q=q||null;for(f in b)if(b.hasOwnProperty(f)&&!1===k.call(q,b[f],f,b))break}function t(f,k,q){b.isArray(f)?x(f,k,q):z(f,k,q)}function w(b,k,q){var f=[];return q=q||null,t(b,function(){f.push(k.apply(q,arguments))}),f}var b=A(2),p=A(1);y.exports={forEachOwnProperties:z,forEachArray:x,forEach:t,toArray:function(b){try{var f=Array.prototype.slice.call(b)}catch(q){f=[],x(b,function(b){f.push(b)})}return f},map:w,reduce:function(f,
k,q){var m,n,e,a=0;q=q||null;b.isArray(f)?(n=f.length,e=f[a]):(m=p.keys(f),n=m.length,e=f[m[a+=1]]);for(a+=1;a<n;a+=1)e=k.call(q,e,f[m?m[a]:a]);return e},filter:function(f,k,q){var m,n;if(q=q||null,!b.isObject(f)||!b.isFunction(k))throw Error("wrong parameter");return b.isArray(f)?(m=[],n=function(e,a){e.push(a[0])}):(m={},n=function(e,a){e[a[1]]=a[0]}),t(f,function(){k.apply(q,arguments)&&n(m,arguments)},q),m},pluck:function(b,k){return w(b,function(b){return b[k]})}}},function(y,B){y.exports={bind:function(y,
x){var z,t=Array.prototype.slice;return y.bind?y.bind.apply(y,t.call(arguments,1)):(z=t.call(arguments,2),function(){return y.apply(x,z.length?z.concat(t.call(arguments)):arguments)})}}},function(y,B){function A(x){function y(){}return y.prototype=x,new y}y.exports={createObject:A,inherit:function(x,y){y=A(y.prototype);y.constructor=x;x.prototype=y}}},function(y,B,A){var x=A(4),z=A(1);y.exports={decodeHTMLEntity:function(t){var w={"&quot;":'"',"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&nbsp;":" "};
return t.replace(/&amp;|&lt;|&gt;|&quot;|&#39;|&nbsp;/g,function(b){return w[b]?w[b]:b})},encodeHTMLEntity:function(t){var w={'"':"quot","&":"amp","<":"lt",">":"gt","'":"#39"};return t.replace(/[<>&"']/g,function(b){return w[b]?"&"+w[b]+";":b})},hasEncodableString:function(t){return/[<>&"']/.test(t)},getDuplicatedChar:function(t,w){for(var b,p=0,f=t.length,k={};p<f;p+=1)b=t.charAt(p),k[b]=1;p=0;for(f=w.length;p<f;p+=1)b=w.charAt(p),k[b]&&(k[b]+=1);return k=x.filter(k,function(b){return 1<b}),k=z.keys(k).sort(),
k.join("")}}},function(y,B){var A={},x=Array.prototype.slice;A.timestamp=function(){return Number(new Date)};A.debounce=function(y,t){var w,b;return t=t||0,function(){b=x.call(arguments);window.clearTimeout(w);w=window.setTimeout(function(){y.apply(null,b)},t)}};A.throttle=function(y,t){function w(){return k=x.call(arguments),q?(m(k),void(q=!1)):(f=A.timestamp(),b=b||f,p(k),void(f-b>=t&&m(k)))}var b,p,f,k,q=!0,m=function(f){y.apply(null,f);b=null};return t=t||0,p=A.debounce(m,t),w.reset=function(){q=
!0;b=null},w};y.exports=A},function(y,B,A){function x(b){return(new Date).getTime()-b>p}function z(b,k){var f=w.map(t.keys(k),function(b,e){return(0===e?"":"&")+b+"="+k[b]}).join(""),m=document.createElement("img");return m.src=b+"?"+f,m.style.display="none",document.body.appendChild(m),document.body.removeChild(m),m}var t=A(1),w=A(4),b=A(2),p=6048E5;y.exports={imagePing:z,sendHostname:function(f,k){var q=location.hostname,m="TOAST UI "+f+" for "+q+": Statistics",n=window.localStorage.getItem(m);
(b.isUndefined(window.tui)||!1!==window.tui.usageStatistics)&&(n&&!x(n)||(window.localStorage.setItem(m,(new Date).getTime()),setTimeout(function(){"interactive"!==document.readyState&&"complete"!==document.readyState||z("https://www.google-analytics.com/collect",{v:1,t:"event",tid:k,cid:q,dp:q,dh:f,el:f,ec:"use"})},1E3)))}}},function(y,B){var A,x,z={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0},t=window.navigator;B=t.appName.replace(/\s/g,"_");var w=t.userAgent,b=/MSIE\s([0-9]+[.0-9]*)/,
p=/Trident.*rv:11\./,f=/Edge\/(\d+)\./,k={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/};t={Microsoft_Internet_Explorer:function(){var f=w.match(b);f?(z.msie=!0,z.version=parseFloat(f[1])):z.others=!0},Netscape:function(){var b=!1;if(p.exec(w))z.msie=!0,z.version=11,b=!0;else if(f.exec(w))z.edge=!0,z.version=w.match(f)[1],b=!0;else for(A in k)if(k.hasOwnProperty(A)&&(x=w.match(k[A]),x&&1<x.length)){z[A]=b=!0;z.version=parseFloat(x[1]||0);break}b||(z.others=
!0)}};t[B]&&t[B]();y.exports=z},function(y,B,A){function x(){this.openedPopup={};this.closeWithParentPopup={};this.postBridgeUrl=""}var z=A(4),t=A(2),w=A(5),b=A(10),p=A(1),f=0;x.prototype.getPopupList=function(b){return t.isExisty(b)?this.openedPopup[b]:this.openedPopup};x.prototype.openPopup=function(k,q){var m,n;if(q=p.extend({popupName:"popup_"+f+"_"+Number(new Date),popupOptionStr:"",useReload:!0,closeWithParent:!0,method:"get",param:{}},q||{}),q.method=q.method.toUpperCase(),this.postBridgeUrl=
q.postBridgeUrl||this.postBridgeUrl,n="POST"===q.method&&q.param&&b.msie&&11===b.version,!t.isExisty(k))throw Error("Popup#open() need popup url.");f+=1;q.param&&("GET"===q.method?k=k+(/\?/.test(k)?"&":"?")+this._parameterize(q.param):"POST"===q.method&&(n||(m=this.createForm(k,q.param,q.method,q.popupName),k="about:blank")));var e=this.openedPopup[q.popupName];t.isExisty(e)?e.closed?this.openedPopup[q.popupName]=e=this._open(n,q.param,k,q.popupName,q.popupOptionStr):(q.useReload&&e.location.replace(k),
e.focus()):this.openedPopup[q.popupName]=e=this._open(n,q.param,k,q.popupName,q.popupOptionStr);this.closeWithParentPopup[q.popupName]=q.closeWithParent;(!e||e.closed||t.isUndefined(e.closed))&&alert("please enable popup windows for this website");q.param&&"POST"===q.method&&!n&&(e&&m.submit(),m.parentNode&&m.parentNode.removeChild(m));window.onunload=w.bind(this.closeAllPopup,this)};x.prototype.close=function(b,f){f=f||window;(b=!!t.isExisty(b)&&b)&&(window.onunload=null);f.closed||(f.opener=window.location.href,
f.close())};x.prototype.closeAllPopup=function(b){var f=t.isExisty(b);z.forEachOwnProperties(this.openedPopup,function(b,n){(f&&this.closeWithParentPopup[n]||!f)&&this.close(!1,b)},this)};x.prototype.focus=function(b){this.getPopupList(b).focus()};x.prototype.parseQuery=function(){var b,f,m={};return b=window.location.search.substr(1),z.forEachArray(b.split("&"),function(b){f=b.split("=");m[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}),m};x.prototype.createForm=function(b,f,m,n,e){var a,c=
document.createElement("form");return e=e||document.body,c.method=m||"POST",c.action=b||"",c.target=n||"",c.style.display="none",z.forEachOwnProperties(f,function(d,e){a=document.createElement("input");a.name=e;a.type="hidden";a.value=d;c.appendChild(a)}),e.appendChild(c),c};x.prototype._parameterize=function(b){var f=[];return z.forEachOwnProperties(b,function(b,n){f.push(encodeURIComponent(n)+"="+encodeURIComponent(b))}),f.join("&")};x.prototype._open=function(b,f,m,n,e){var a;return b?(a=window.open(this.postBridgeUrl,
n,e),setTimeout(function(){a.redirect(m,f)},100)):a=window.open(m,n,e),a};y.exports=new x},function(y,B,A){function x(b,f,m){var n,e,a;return b=Number(b),f=Number(f),m=Number(m),n=-1<b&&100>b||1969<b&&2070>b,e=0<f&&13>f,!(!n||!e)&&(a=p[f],2===f&&0===b%4&&(0===b%100&&0!==b%400||(a=29)),0<m&&m<=a)}var z=A(2),t=A(1),w=/[\\]*YYYY|[\\]*YY|[\\]*MMMM|[\\]*MMM|[\\]*MM|[\\]*M|[\\]*DD|[\\]*D|[\\]*HH|[\\]*H|[\\]*A/gi,b="Invalid month;January;February;March;April;May;June;July;August;September;October;November;December".split(";"),
p=[0,31,28,31,30,31,30,31,31,30,31,30,31],f={M:function(b){return Number(b.month)},MM:function(b){b=b.month;return 10>Number(b)?"0"+b:b},MMM:function(f){return b[Number(f.month)].substr(0,3)},MMMM:function(f){return b[Number(f.month)]},D:function(b){return Number(b.date)},d:function(b){return f.D(b)},DD:function(b){b=b.date;return 10>Number(b)?"0"+b:b},dd:function(b){return f.DD(b)},YY:function(b){return Number(b.year)%100},yy:function(b){return f.YY(b)},YYYY:function(b){var f="20";b=b.year;return 69<
b&&100>b&&(f="19"),100>Number(b)?f+String(b):b},yyyy:function(b){return f.YYYY(b)},A:function(b){return b.meridiem},a:function(b){return b.meridiem},hh:function(b){b=b.hour;return 10>Number(b)?"0"+b:b},HH:function(b){return f.hh(b)},h:function(b){return String(Number(b.hour))},H:function(b){return f.h(b)},m:function(b){return String(Number(b.minute))},mm:function(b){b=b.minute;return 10>Number(b)?"0"+b:b}};y.exports=function(b,q,m){var n,e,a=t.pick(m,"meridiemSet","AM")||"AM";m=t.pick(m,"meridiemSet",
"PM")||"PM";return e=z.isDate(q)?{year:q.getFullYear(),month:q.getMonth()+1,date:q.getDate(),hour:q.getHours(),minute:q.getMinutes()}:{year:q.year,month:q.month,date:q.date,hour:q.hour,minute:q.minute},!!x(e.year,e.month,e.date)&&(e.meridiem="",/([^\\]|^)[aA]\b/.test(b)&&(n=11<e.hour?m:a,12<e.hour&&(e.hour%=12),0===e.hour&&(e.hour=12),e.meridiem=n),b.replace(w,function(a){return-1<a.indexOf("\\")?a.replace(/\\/,""):f[a](e)||""}))}},function(y,B,A){var x=A(6).inherit,z=A(1).extend;y.exports=function(t,
w){var b;return w||(w=t,t=null),b=w.init||function(){},t&&x(b,t),w.hasOwnProperty("static")&&(z(b,w["static"]),delete w["static"]),z(b.prototype,w),b}},function(y,B,A){var x=A(15),z=A(2);y.exports=function(t,w){w=w||{};return z.isFunction(w.initialize)&&w.initialize(),x(t,w)}},function(y,B,A){var x=A(4),z=A(1);y.exports=function(t,w,b){var p,f,k,q;return p=t.split("."),p.unshift(window),f=x.reduce(p,function(b,f){return b[f]=b[f]||{},b[f]}),b?(q=p.pop(),k=z.pick.apply(null,p),f=k[q]=w):z.extend(f,
w),f}},function(y,B,A){function x(){this.contexts=this.events=null}var z=A(4),t=A(2),w=A(1),b=/\s+/g;x.mixin=function(b){w.extend(b.prototype,x.prototype)};x.prototype._getHandlerItem=function(b,f){b={handler:b};return f&&(b.context=f),b};x.prototype._safeEvent=function(b){var f,k=this.events;return k||(k=this.events={}),b&&(f=k[b],f||(f=[],k[b]=f),k=f),k};x.prototype._safeContext=function(){var b=this.contexts;return b||(b=this.contexts=[]),b};x.prototype._indexOfContext=function(b){for(var f=this._safeContext(),
k=0;f[k];){if(b===f[k][0])return k;k+=1}return-1};x.prototype._memorizeContext=function(b){var f,k;t.isExisty(b)&&(f=this._safeContext(),k=this._indexOfContext(b),-1<k?f[k][1]+=1:f.push([b,1]))};x.prototype._forgetContext=function(b){var f,k;t.isExisty(b)&&(f=this._safeContext(),k=this._indexOfContext(b),-1<k&&(--f[k][1],0>=f[k][1]&&f.splice(k,1)))};x.prototype._bindEvent=function(b,f,k){b=this._safeEvent(b);this._memorizeContext(k);b.push(this._getHandlerItem(f,k))};x.prototype.on=function(p,f,k){var q=
this;t.isString(p)?(p=p.split(b),z.forEach(p,function(b){q._bindEvent(b,f,k)})):t.isObject(p)&&(k=f,z.forEach(p,function(b,f){q.on(f,b,k)}))};x.prototype.once=function(b,f,k){function q(){f.apply(k,arguments);m.off(b,q,k)}var m=this;return t.isObject(b)?(k=f,void z.forEach(b,function(b,e){m.once(e,b,k)})):void this.on(b,q,k)};x.prototype._spliceMatches=function(b,f){var k,q=0;if(t.isArray(b))for(k=b.length;q<k;q+=1)!0===f(b[q])&&(b.splice(q,1),--k,--q)};x.prototype._matchHandler=function(b){var f=
this;return function(k){var q=b===k.handler;return q&&f._forgetContext(k.context),q}};x.prototype._matchContext=function(b){var f=this;return function(k){var q=b===k.context;return q&&f._forgetContext(k.context),q}};x.prototype._matchHandlerAndContext=function(b,f){var k=this;return function(q){var m=f===q.context;m=b===q.handler&&m;return m&&k._forgetContext(q.context),m}};x.prototype._offByEventName=function(p,f){var k=this,q=z.forEachArray,m=t.isFunction(f),n=k._matchHandler(f);p=p.split(b);q(p,
function(e){var a=k._safeEvent(e);m?k._spliceMatches(a,n):(q(a,function(a){k._forgetContext(a.context)}),k.events[e]=[])})};x.prototype._offByHandler=function(b){var f=this,k=this._matchHandler(b);z.forEach(this._safeEvent(),function(b){f._spliceMatches(b,k)})};x.prototype._offByObject=function(b,f){var k,q=this;0>this._indexOfContext(b)?z.forEach(b,function(b,f){q.off(f,b)}):t.isString(f)?(k=this._matchContext(b),q._spliceMatches(this._safeEvent(f),k)):t.isFunction(f)?(k=this._matchHandlerAndContext(f,
b),z.forEach(this._safeEvent(),function(b){q._spliceMatches(b,k)})):(k=this._matchContext(b),z.forEach(this._safeEvent(),function(b){q._spliceMatches(b,k)}))};x.prototype.off=function(b,f){t.isString(b)?this._offByEventName(b,f):arguments.length?t.isFunction(b)?this._offByHandler(b):t.isObject(b)&&this._offByObject(b,f):(this.events={},this.contexts=[])};x.prototype.fire=function(b){this.invoke.apply(this,arguments)};x.prototype.invoke=function(b){var f,k;if(!this.hasListener(b))return!0;var q=this._safeEvent(b);
var m=Array.prototype.slice.call(arguments,1);for(f=0;q[f];){if(k=q[f],!1===k.handler.apply(k.context,m))return!1;f+=1}return!0};x.prototype.hasListener=function(b){return 0<this.getListenerLength(b)};x.prototype.getListenerLength=function(b){return this._safeEvent(b).length};y.exports=x},function(y,B,A){function x(b){b&&this.set.apply(this,arguments)}var z=A(4),t=A(2);try{var w=(Object.defineProperty({},"x",{}),!0)}catch(p){w=!1}var b=0;x.prototype.set=function(b){var f=this;t.isArray(b)||(b=z.toArray(arguments));
z.forEach(b,function(b){f._addItem(b)})};x.prototype.getName=function(b){var f,k=this;return z.forEach(this,function(q,m){if(k._isEnumItem(m)&&b===q)return f=m,!1}),f};x.prototype._addItem=function(b){var f;this.hasOwnProperty(b)||(f=this._makeEnumValue(),w?Object.defineProperty(this,b,{enumerable:!0,configurable:!1,writable:!1,value:f}):this[b]=f)};x.prototype._makeEnumValue=function(){var p;return p=b,b+=1,p};x.prototype._isEnumItem=function(b){return t.isNumber(this[b])};y.exports=x},function(y,
B,A){function x(w){this._map=new t(w);this.size=this._map.size}var z=A(4),t=A(19);z.forEachArray("get has forEach keys values entries".split(" "),function(t){x.prototype[t]=function(){return this._map[t].apply(this._map,arguments)}});z.forEachArray(["delete","clear"],function(t){x.prototype[t]=function(){var b=this._map[t].apply(this._map,arguments);return this.size=this._map.size,b}});x.prototype.set=function(){return this._map.set.apply(this._map,arguments),this.size=this._map.size,this};x.prototype.setObject=
function(t){z.forEachOwnProperties(t,function(b,p){this.set(p,b)},this)};x.prototype.deleteByKeys=function(t){z.forEachArray(t,function(b){this["delete"](b)},this)};x.prototype.merge=function(t){t.forEach(function(b,p){this.set(p,b)},this)};x.prototype.filter=function(t){var b=new x;return this.forEach(function(p,f){t(p,f)&&b.set(f,p)}),b};y.exports=x},function(y,B,A){function x(b,f){this._keys=b;this._valueGetter=f;this._length=this._keys.length;this._index=-1;this._done=!1}function z(b){this._valuesForString=
{};this._valuesForIndex={};this._keys=[];b&&this._setInitData(b);this.size=0}var t=A(4),w=A(2),b=A(3);B=A(10);var p=A(5),f={},k={};x.prototype.next=function(){var b={};do this._index+=1;while(w.isUndefined(this._keys[this._index])&&this._index<this._length);return this._index>=this._length?b.done=!0:(b.done=!1,b.value=this._valueGetter(this._keys[this._index],this._index)),b};z.prototype._setInitData=function(b){if(!w.isArray(b))throw Error("Only Array is supported.");t.forEachArray(b,function(b){this.set(b[0],
b[1])},this)};z.prototype._isNaN=function(b){return"number"==typeof b&&b!==b};z.prototype._getKeyIndex=function(f){var m,n=-1;return w.isString(f)?(m=this._valuesForString[f],m&&(n=m.keyIndex)):n=b.inArray(f,this._keys),n};z.prototype._getOriginKey=function(b){var m=b;return b===f?m=void 0:b===k&&(m=NaN),m};z.prototype._getUniqueKey=function(b){var m=b;return w.isUndefined(b)?m=f:this._isNaN(b)&&(m=k),m};z.prototype._getValueObject=function(b,f){return w.isString(b)?this._valuesForString[b]:(w.isUndefined(f)&&
(f=this._getKeyIndex(b)),0<=f?this._valuesForIndex[f]:void 0)};z.prototype._getOriginValue=function(b,f){return this._getValueObject(b,f).origin};z.prototype._getKeyValuePair=function(b,f){return[this._getOriginKey(b),this._getOriginValue(b,f)]};z.prototype._createValueObject=function(b,f){return{keyIndex:f,origin:b}};z.prototype.set=function(b,f){var m,e=this._getUniqueKey(b),a=this._getKeyIndex(e);return 0>a&&(a=this._keys.push(e)-1,this.size+=1),m=this._createValueObject(f,a),w.isString(b)?this._valuesForString[b]=
m:this._valuesForIndex[a]=m,this};z.prototype.get=function(b){b=this._getUniqueKey(b);return(b=this._getValueObject(b))&&b.origin};z.prototype.keys=function(){return new x(this._keys,p.bind(this._getOriginKey,this))};z.prototype.values=function(){return new x(this._keys,p.bind(this._getOriginValue,this))};z.prototype.entries=function(){return new x(this._keys,p.bind(this._getKeyValuePair,this))};z.prototype.has=function(b){return!!this._getValueObject(b)};z.prototype["delete"]=function(b){var f;w.isString(b)?
this._valuesForString[b]&&(f=this._valuesForString[b].keyIndex,delete this._valuesForString[b]):(f=this._getKeyIndex(b),0<=f&&delete this._valuesForIndex[f]);0<=f&&(delete this._keys[f],--this.size)};z.prototype.forEach=function(b,f){f=f||this;t.forEachArray(this._keys,function(m){w.isUndefined(m)||b.call(f,this._getValueObject(m).origin,m,this)},this)};z.prototype.clear=function(){z.call(this)};window.Map&&(B.firefox&&37<=B.version||B.chrome&&42<=B.version)&&(z=window.Map);y.exports=z},function(y,
B,A){function x(t){this.length=0;t&&this.setObject(t)}var z=A(4),t=A(2);x.prototype.set=function(t,b){2===arguments.length?this.setKeyValue(t,b):this.setObject(t)};x.prototype.setKeyValue=function(t,b){this.has(t)||(this.length+=1);this[this.encodeKey(t)]=b};x.prototype.setObject=function(t){var b=this;z.forEachOwnProperties(t,function(p,f){b.setKeyValue(f,p)})};x.prototype.merge=function(t){var b=this;t.each(function(p,f){b.setKeyValue(f,p)})};x.prototype.encodeKey=function(t){return"\u00e5"+t};
x.prototype.decodeKey=function(t){t=t.split("\u00e5");return t[t.length-1]};x.prototype.get=function(t){return this[this.encodeKey(t)]};x.prototype.has=function(t){return this.hasOwnProperty(this.encodeKey(t))};x.prototype.remove=function(w){return 1<arguments.length&&(w=z.toArray(arguments)),t.isArray(w)?this.removeByKeyArray(w):this.removeByKey(w)};x.prototype.removeByKey=function(t){var b=this.has(t)?this.get(t):null;return null!==b&&(delete this[this.encodeKey(t)],--this.length),b};x.prototype.removeByKeyArray=
function(t){var b=[],p=this;return z.forEach(t,function(f){b.push(p.removeByKey(f))}),b};x.prototype.removeAll=function(){var t=this;this.each(function(b,p){t.remove(p)})};x.prototype.each=function(t){var b,p=this;z.forEachOwnProperties(this,function(f,k){if("\u00e5"===k.charAt(0)&&(b=t(f,p.decodeKey(k))),!1===b)return b})};x.prototype.keys=function(){var t=[],b=this;return this.each(function(p,f){t.push(b.decodeKey(f))}),t};x.prototype.find=function(t){var b=[];return this.each(function(p,f){t(p,
f)&&b.push(p)}),b};x.prototype.toArray=function(){var t=[];return this.each(function(b){t.push(b)}),t};y.exports=x}])});/*
 tui-editor
 @version 1.4.1
 @author NHN FE Development Lab <dl_javascript@nhn.com> (https://nhn.github.io/tui.editor/)
 @license MIT
*/
!function(y,B){"object"==typeof exports&&"object"==typeof module?module.exports=B(require("jquery"),require("tui-code-snippet"),require("codemirror"),require("markdown-it"),require("to-mark"),require("highlight.js"),require("squire-rte")):"function"==typeof define&&define.amd?define("jquery tui-code-snippet codemirror markdown-it to-mark highlight.js squire-rte".split(" "),B):"object"==typeof exports?exports.Editor=B(require("jquery"),require("tui-code-snippet"),require("codemirror"),require("markdown-it"),
require("to-mark"),require("highlight.js"),require("squire-rte")):(y.tui=y.tui||{},y.tui.Editor=B(y.$,y.tui&&y.tui.util,y.CodeMirror,y.markdownit,y.toMark,y.hljs,y.Squire))}("undefined"!=typeof self?self:this,function(y,B,A,x,z,t,w){return function(b){function p(k){if(f[k])return f[k].exports;var q=f[k]={i:k,l:!1,exports:{}};return b[k].call(q.exports,q,q.exports,p),q.l=!0,q.exports}var f={};return p.m=b,p.c=f,p.d=function(b,f,m){p.o(b,f)||Object.defineProperty(b,f,{configurable:!1,enumerable:!0,
get:m})},p.n=function(b){var f=b&&b.__esModule?function(){return b.default}:function(){return b};return p.d(f,"a",f),f},p.o=function(b,f){return Object.prototype.hasOwnProperty.call(b,f)},p.p="dist/",p(p.s=45)}([function(b,p){b.exports=y},function(b,p){b.exports=B},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function a(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;
"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(c,b,e){return b&&a(c.prototype,b),e&&a(c,e),c}}();b=f(0);var m=k(b);b=f(1);var n=k(b);b=f(21);var e=k(b),a=f(14).isMac?1:0;f=function(){function c(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._command=new n.default.Map;this._mdCommand=new n.default.Map;this._wwCommand=new n.default.Map;this._options=m.default.extend({useCommandShortcut:!0},
d);this.base=a;this.keyMapCommand={};this._initEvent()}return q(c,[{key:"_addCommandBefore",value:function(a){var c={command:a};return this.base.eventManager.emit("addCommandBefore",c),c.command||a}},{key:"addCommand",value:function(d){for(var b=arguments.length,e=Array(1<b?b-1:0),l=1;l<b;l++)e[l-1]=arguments[l];e.length&&(d=c.command.apply(c,[d].concat(e)));d=this._addCommandBefore(d);b=d.getName();e=void 0;return d.isMDType()?e=this._mdCommand:d.isWWType()?e=this._wwCommand:d.isGlobalType()&&(e=
this._command),e.set(b,d),d.keyMap&&(this.keyMapCommand[d.keyMap[a]]=b),d}},{key:"_initEvent",value:function(){var a=this;this.base.eventManager.listen("command",function(){a.exec.apply(a,arguments)});this.base.eventManager.listen("keyMap",function(c){if(a._options.useCommandShortcut){var d=a.keyMapCommand[c.keyMap];d&&(c.data.preventDefault(),a.exec(d))}})}},{key:"exec",value:function(a){var c=void 0,d=void 0,b=this.base;if(c=this._command.get(a),c||(this.base.isMarkdownMode()?(c=this._mdCommand.get(a),
b=this.base.mdEditor):(c=this._wwCommand.get(a),b=this.base.wwEditor)),c){var e;d=arguments.length;for(var f=Array(1<d?d-1:0),m=1;m<d;m++)f[m-1]=arguments[m];f.unshift(b);d=(e=c).exec.apply(e,f)}return d}}]),c}();f.command=function(a,d){a=e.default.factory(a,d.name,d.keyMap);return n.default.extend(a,d),a};p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});p.I18n=void 0;var k=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;
d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,a,c){return a&&b(e.prototype,a),c&&b(e,c),e}}(),q=(b=f(1))&&b.__esModule?b:{default:b},m=void 0;b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._code="en_US";this._langs=new q.default.Map}return k(b,[{key:"setCode",value:function(b){this._code=b}},{key:"setLanguage",value:function(b,a){var c=this;b=[].concat(b);b.forEach(function(d){if(c._langs.has(d)){var b=
c._langs.get(d);c._langs.set(d,q.default.extend(b,a))}else c._langs.set(d,a)})}},{key:"get",value:function(b,a){a||(a=this._code);var c=this._langs.get(a);c||(c=this._langs.get("en_US"));c=c[b];if(!c)throw Error('There is no text key "'+b+'" in '+a);return c}}],[{key:"getSharedInstance",value:function(){return m||(m=new b),m}}]),b}();p.I18n=b;p.default=new b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=(b=f(0))&&b.__esModule?b:{default:b},q=(f=f(1))&&f.__esModule?f:{default:f},
m=/\u200B/g,n=function(a){return a&&a.nodeType===Node.TEXT_NODE},e=function(a){return a&&a.nodeType===Node.ELEMENT_NODE},a=function(a){return e(a)?a.tagName:"TEXT"},c=function(a){var c=void 0;return e(a)?c=a.textContent.replace(m,"").length:n(a)&&(c=a.nodeValue.replace(m,"").length),c},d=function(a){var c=a.parentNode.childNodes,d,b=void 0;var e=0;for(d=c.length;e<d;e+=1)if(c[e]===a){b=e;break}return b},h=function(a,c){var d=void 0;return n(a)?d=a:a.childNodes.length&&0<=c&&(d=a.childNodes[c]),d},
r=function(c,d,b){c+="Sibling";for(var e=void 0,h=void 0;d&&!d[c]&&(e=a(d.parentNode))!==b&&"BODY"!==e;)d=d.parentNode;return d[c]&&(h=d[c]),h},l=function(a,c,d){for(var b=void 0;a.parentNode&&!c(a.parentNode)&&(a=a.parentNode,!d||!d(a.parentNode)););return c(a.parentNode)&&(b=a),b},v=function(c,d){return q.default.isString(d)?l(c,function(c){return d===a(c)}):l(c,function(a){return d===a})},C=function(a,c,d){a+="Sibling";var b=void 0;return c=v(c,d),c&&c[a]&&(b=c[a]),b},E=function(a){var c={};c.tagName=
a.nodeName;a.id&&(c.id=a.id);a=a.className.trim();return a&&(c.className=a),c},H=function(a,c,d){if(c&&a===c.parentNode)for(;c!==d;){var b=c.nextSibling;a.removeChild(c);c=b}},K=function(a){return!!a&&("UL"===a.nodeName||"OL"===a.nodeName)};p.default={getNodeName:a,isTextNode:n,isElemNode:e,isBlockNode:function(a){return/^(ADDRESS|ARTICLE|ASIDE|BLOCKQUOTE|DETAILS|DIALOG|DD|DIV|DL|DT|FIELDSET|FIGCAPTION|FIGURE|FOOTER|FORM|H[\d]|HEADER|HGROUP|HR|LI|MAIN|NAV|OL|P|PRE|SECTION|UL)$/gi.test(this.getNodeName(a))},
getTextLength:c,getOffsetLength:function(a){var c=void 0;return e(a)?c=a.childNodes.length:n(a)&&(c=a.nodeValue.replace(m,"").length),c},getPrevOffsetNodeUntil:function(a,c,d){return 0<c?h(a,c-1):r("previous",a,d)},getNodeOffsetOfParent:d,getChildNodeByOffset:h,getNodeWithDirectionUntil:r,containsNode:function(a,c){var d=document.createTreeWalker(a,4,null,!1);for(a=a===c;!a&&d.nextNode();)a=d.currentNode===c;return a},getTopPrevNodeUnder:function(a,c){return C("previous",a,c)},getTopNextNodeUnder:function(a,
c){return C("next",a,c)},getParentUntilBy:l,getParentUntil:v,getTopBlockNode:function(a){return v(a,"BODY")},getPrevTextNode:function(c){for(c=c.previousSibling||c.parentNode;!n(c)&&"BODY"!==a(c);)if(c.previousSibling)for(c=c.previousSibling;c.lastChild;)c=c.lastChild;else c=c.parentNode;return"BODY"===a(c)&&(c=null),c},findOffsetNode:function(a,c,d){var b=[],e="",h=0;if(!c.length)return b;for(var l=c.shift(),f=document.createTreeWalker(a,4,null,!1);f.nextNode();){e=f.currentNode.nodeValue||"";d&&
(e=d(e));for(a=h+e.length;a>=l;){if(b.push({container:f.currentNode,offsetInContainer:l-h,offset:l}),!c.length)return b;l=c.shift()}h=a}do b.push({container:f.currentNode,offsetInContainer:e.length,offset:l}),l=c.shift();while(!q.default.isUndefined(l));return b},getPath:function(a,c){for(var d=[];a&&a!==c;)e(a)&&d.unshift(E(a)),a=a.parentNode;return d},getNodeInfo:E,getTableCellByDirection:function(a,c){var d=!0;return q.default.isUndefined(c)||"next"!==c&&"previous"!==c?null:("previous"===c&&(d=
!1),d?a.nextElementSibling:a.previousElementSibling)},getSiblingRowCellByDirection:function(c,b,e){var h=!0,l=null,f=void 0,r=void 0,v=void 0,m=void 0,n=void 0,C=void 0;return q.default.isUndefined(b)||"next"!==b&&"previous"!==b?null:("previous"===b&&(h=!1),c?(f=(0,k.default)(c),h?(v=f.parent().next(),m=f.parents("thead"),n=m[0]&&m.next(),C=n&&"TBODY"===a(n[0]),r=0):(v=f.parent().prev(),m=f.parents("tbody"),n=m[0]&&m.prev(),C=n&&"THEAD"===a(n[0]),r=c.parentNode.childNodes.length-1),!q.default.isUndefined(e)&&
e||(r=d(c)),v[0]?l=v.children("td,th")[r]:m[0]&&C&&(l=n.find("td,th")[r]),l):null)},isMDSupportInlineNode:function(a){return/^(A|B|BR|CODE|DEL|EM|I|IMG|S|SPAN|STRONG)$/gi.test(a.nodeName)},isStyledNode:function(a){return/^(A|ABBR|ACRONYM|B|BDI|BDO|BIG|CITE|CODE|DEL|DFN|EM|I|INS|KBD|MARK|Q|S|SAMP|SMALL|SPAN|STRONG|SUB|SUP|U|VAR)$/gi.test(a.nodeName)},removeChildFromStartToEndNode:H,removeNodesByDirection:function(a,c,d){for(;c!==a;){var b=c.parentNode,e=c,h=e.nextSibling;e=e.previousSibling;!d&&h?
H(b,h,null):d&&e&&H(b,b.childNodes[0],c);c=b}},getLeafNode:function(a){for(;a.childNodes&&a.childNodes.length;)a=a.firstChild,a=n(a)&&!c(a)?a.nextSibling||a:a;return a},isInsideTaskBox:function(a,c,d){var b=parseInt(a.left,10),e=parseInt(a.top,10),h=parseInt(a.width,10);a=parseInt(a.height,10);return c>=b&&c<=b+h&&d>=e&&d<=e+a},isListNode:K,isFirstListItem:function(a){var c=a.parentNode;return"LI"===a.nodeName&&a===c.firstChild},isFirstLevelListItem:function(a){var c=a.parentNode.parentNode;return"LI"===
a.nodeName&&!K(c)},mergeNode:function(a,c){a.hasChildNodes()&&q.default.forEachArray(a.childNodes,function(){c.appendChild(a.firstChild)});a.parentNode&&a.parentNode.removeChild(a)}}},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&
(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(p,"__esModule",{value:!0});var m=function(){function a(a,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}();b=f(0);var n=k(b);b=f(1);var e=k(b);f=f(8);f=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
a=e.default.extend({header:!0,$target:(0,n.default)("body"),textContent:""},a);var d=(c.__proto__||Object.getPrototypeOf(c)).call(this,{tagName:"div",className:a.modal?"tui-popup-modal-background":"tui-popup-wrapper",rootElement:a.$el});if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!=typeof d&&"function"!=typeof d?this:d;return d._initInstance(a),d._initDOM(a),d._initDOMEvent(a),d._initEditorEvent(a),d}return q(c,a),m(c,[{key:"_initInstance",
value:function(a){this._$target=a.$target;a.$el&&(this.$el=a.$el,this._isExternalHtmlUse=!0);a.content?this.$content=(0,n.default)(a.content):this.$content=a.textContent;this.options=a}},{key:"_initDOM",value:function(){this._initLayout();this._isExternalHtmlUse||(e.default.isExisty(this.options.title)&&this.setTitle(this.options.title),this.setContent(this.$content));var a=this.options.headerButtons;if(a){this.$el.find(".tui-popup-close-button").remove();var c=this.$el.find(".tui-popup-header-buttons");
c.empty();c.append((0,n.default)(a))}this.options.css&&this.$el.css(this.options.css)}},{key:"_initDOMEvent",value:function(){var a=this,c=this.options,b=c.openerCssQuery;c=c.closerCssQuery;b&&(0,n.default)(b).on("click."+this._id,function(){return a.show()});c&&(0,n.default)(c).on("click."+this._id,function(){return a.hide()});this.on("click .tui-popup-close-button",function(){return a.hide()})}},{key:"_initEditorEvent",value:function(){}},{key:"_initLayout",value:function(){var a=this.options;this._isExternalHtmlUse?
(this.hide(),this._$target.append(this.$el)):(this.$el.html(a.modal?'<div class="tui-popup-wrapper">\n        <div class="tui-popup-header">\n            <span class="tui-popup-title"></span>\n            <div class="tui-popup-header-buttons">\n                <button type="button" class="tui-popup-close-button"></button>\n            </div>\n        </div>\n        <div class="tui-popup-body"></div>\n    </div>':'<div class="tui-popup-header">\n        <span class="tui-popup-title"></span>\n        <div class="tui-popup-header-buttons">\n            <button type="button" class="tui-popup-close-button"></button>\n        </div>\n    </div>\n    <div class="tui-popup-body"></div>'),
this.$el.addClass(a.className),this.hide(),this._$target.append(this.$el),this.$body=this.$el.find(".tui-popup-body"),a.header||this.$el.find(".tui-popup-header").remove())}},{key:"setContent",value:function(a){this.$body.empty();this.$body.append(a)}},{key:"setTitle",value:function(a){var c=this.$el.find(".tui-popup-title");c.empty();c.append(a)}},{key:"getTitleElement",value:function(){return this.$el.find(".tui-popup-title").get(0)}},{key:"hide",value:function(){this.$el.css("display","none");
this._isShow=!1;this.trigger("hidden",this)}},{key:"show",value:function(){this.$el.css("display","block");this._isShow=!0;this.trigger("shown",this)}},{key:"isShow",value:function(){return this._isShow}},{key:"remove",value:function(){var a=this.options,c=a.openerCssQuery;a=a.closerCssQuery;this.trigger("remove",this);this.off();c&&(0,n.default)(c).off("."+this._id);a&&(0,n.default)(a).off("."+this._id);this.$el.remove();this.$el=null}},{key:"setFitToWindow",value:function(a){this.$el.toggleClass("fit-window",
a)}},{key:"isFitToWindow",value:function(){return this.$el.hasClass("fit-window")}},{key:"toggleFitToWindow",value:function(){var a=!this.isFitToWindow();return this.setFitToWindow(a),a}}]),c}(k(f).default);p.default=f},function(b,p){b.exports=A},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});p.CodeBlockManager=void 0;var k=function(){function b(b,e){for(var a=0;a<e.length;a++){var c=e[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,
c.key,c)}}return function(f,e,a){return e&&b(f.prototype,e),a&&b(f,a),f}}(),q=(b=f(32))&&b.__esModule?b:{default:b};b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._replacers={}}return k(b,[{key:"setReplacer",value:function(b,e){this._replacers[b]=e}},{key:"getReplacer",value:function(b){return this._replacers[b]}},{key:"createCodeBlockHtml",value:function(b,e){var a=this.getReplacer(b);return a?a(e,b):q.default.getLanguage(b)?q.default.highlight(b,
e).value:e.replace(/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}}],[{key:"getHighlightJSLanguages",value:function(){return q.default.listLanguages()}}]),b}();p.CodeBlockManager=b;p.default=new b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,
b)}}return function(a,c,d){return c&&b(a.prototype,c),d&&b(a,d),a}}(),q=(b=f(0))&&b.__esModule?b:{default:b},m=(f=f(1))&&f.__esModule?f:{default:f},n=-1;f=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");a=m.default.extend({tagName:"div"},a);this.tagName=a.tagName;this.className=a.className;this._id=n+=1;this._setRootElement(a.rootElement)}return k(b,[{key:"on",value:function(a,
c){var d=this;m.default.isObject(a)?m.default.forEach(a,function(a,c){d._addEvent(c,a)}):this._addEvent(a,c)}},{key:"_addEvent",value:function(a,c){var d=this._parseEventType(a);a=d.event;(d=d.selector)?this.$el.on(a,d,c):this.$el.on(a,c)}},{key:"off",value:function(a,c){if(a){var d=this._parseEventType(a);a=d.event;(d=d.selector)?this.$el.off(a,d,c):this.$el.off(a,c)}else this.$el.off()}},{key:"_parseEventType",value:function(a){a=a.split(" ");return{event:a.shift(),selector:a.join(" ")}}},{key:"_setRootElement",
value:function(a){var c=this.tagName,d=this.className;a||(d=d||"uic"+this._id,a=(0,q.default)("<"+c+' class="'+d+'"/>'));this.$el=a}},{key:"trigger",value:function(){var a;(a=this.$el).trigger.apply(a,arguments)}},{key:"_getEventNameWithNamespace",value:function(a){a=a.split(" ");return a[0]+=".uicEvent"+this._id,a.join(" ")}},{key:"remove",value:function(){this.$el&&this.$el.remove()}},{key:"destroy",value:function(){var a=this;this.remove();m.default.forEachOwnProperties(this,function(c,d){a[d]=
null})}}]),b}();p.default=f},function(b,p,f){function k(a){a.find("*").each(function(a,d){var c=d.attributes;a=m.default.toArray(c).filter(function(a){var c=a.name.match(n);a=a.name.match(e);return!c&&!a});m.default.forEachArray(a,function(a){c.getNamedItem(a.name)&&c.removeNamedItem(a.name)})})}Object.defineProperty(p,"__esModule",{value:!0});var q=(b=f(0))&&b.__esModule?b:{default:b},m=(f=f(1))&&f.__esModule?f:{default:f},n=/^(abbr|align|alt|axis|bgcolor|border|cellpadding|cellspacing|class|clear|color|cols|compact|coords|dir|face|headers|height|hreflang|hspace|ismap|lang|language|nohref|nowrap|rel|rev|rows|rules|scope|scrolling|shape|size|span|start|summary|tabindex|target|title|type|valign|value|vspace|width|checked|mathvariant|encoding|id|name|background|cite|href|longdesc|src|usemap|xlink:href|data-+|checked|style)/g,
e=/^(accent-height|accumulate|additive|alphabetic|arabic-form|ascent|baseProfile|bbox|begin|by|calcMode|cap-height|class|color|color-rendering|content|cx|cy|d|dx|dy|descent|display|dur|end|fill|fill-rule|font-family|font-size|font-stretch|font-style|font-variant|font-weight|from|fx|fy|g1|g2|glyph-name|gradientUnits|hanging|height|horiz-adv-x|horiz-origin-x|ideographic|k|keyPoints|keySplines|keyTimes|lang|marker-end|marker-mid|marker-start|markerHeight|markerUnits|markerWidth|mathematical|max|min|offset|opacity|orient|origin|overline-position|overline-thickness|panose-1|path|pathLength|points|preserveAspectRatio|r|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|rotate|rx|ry|slope|stemh|stemv|stop-color|stop-opacity|strikethrough-position|strikethrough-thickness|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-width|systemLanguage|target|text-anchor|to|transform|type|u1|u2|underline-position|underline-thickness|unicode|unicode-range|units-per-em|values|version|viewBox|visibility|width|widths|x|x-height|x1|x2|xlink:actuate|xlink:arcrole|xlink:role|xlink:show|xlink:title|xlink:type|xml:base|xml:lang|xml:space|xmlns|xmlns:xlink|y|y1|y2|zoomAndPan)/g;
p.default=function(a,c){var d=(0,q.default)("<div />");a=a.replace(/\x3c!--[\s\S]*?--\x3e/g,"");d.append(a);d.find("script, iframe, textarea, form, button, select, meta, style, link, title").remove();k(d);if(c)a=d[0].innerHTML;else{a=document.createDocumentFragment();d=m.default.toArray(d[0].childNodes);c=d.length;for(var b=0;b<c;b+=1)a.appendChild(d[b])}return a}},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];
d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,a,c){return a&&b(e.prototype,a),c&&b(e,c),e}}(),q=(b=f(1))&&b.__esModule?b:{default:b},m=/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})(\/([^\s]*))?$/g;b=function(){function b(e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.eventManager=e;this._initEvent();this._initDefaultImageImporter()}return k(b,[{key:"_initEvent",value:function(){var b=
this;this.eventManager.listen("drop",function(a){b._processBlobItems(a.data.dataTransfer&&a.data.dataTransfer.files,a.data)});this.eventManager.listen("willPaste",function(a){var c=a.data.fragment.querySelectorAll("*");if(1===c.length&&"IMG"===c[0].tagName&&/^data:image/.test(c[0].src)){a.data.preventDefault();c=c[0].src;a=atob(c.split(",")[1]);c=c.split(",")[0].split(":")[1].split(";")[0];for(var d=new ArrayBuffer(a.length),e=new Uint8Array(d),f=0;f<a.length;f+=1)e[f]=a.charCodeAt(f);a=new Blob([d],
{type:c});b._emitAddImageBlobHook(a,"paste")}});this.eventManager.listen("paste",function(a){b._processClipboard(a.data)});this.eventManager.listen("pasteBefore",function(a){b._decodeURL(a)})}},{key:"_initDefaultImageImporter",value:function(){this.eventManager.listen("addImageBlobHook",function(b,a){var c=new FileReader;c.onload=function(c){a(c.target.result)};c.readAsDataURL(b)})}},{key:"_emitAddImageBlobHook",value:function(b,a){var c=this;this.eventManager.emit("addImageBlobHook",b,function(a,
e){c.eventManager.emit("command","AddImage",{imageUrl:a,altText:e||b.name||"image"})},a)}},{key:"_decodeURL",value:function(e){var a=b.decodeURIGraceful,c=b.encodeMarkdownCharacters;if("markdown"===e.source&&e.data.text){var d=e.data.text,h=d[0];1===d.length&&h.match(m)&&(h=a(h),h=c(h),e.data.update(null,null,[h]))}else"wysiwyg"===e.source&&(e=e.$clipboardContainer.get(0),d=e.childNodes[0],h=d.innerText,1===e.childNodes.length&&"A"===d.tagName&&h.match(m)&&(d.innerText=a(h),d.href=c(d.href)))}},{key:"_processClipboard",
value:function(b){var a=b.clipboardData||window.clipboardData,c=a&&a.items;a=a.types;c&&a&&1===a.length&&-1!==q.default.inArray("Files",[].slice.call(a))&&this._processBlobItems(c,b)}},{key:"_processBlobItems",value:function(b,a){var c=this;b&&q.default.forEachArray(b,function(d){return-1!==d.type.indexOf("image")?(a.preventDefault(),a.stopPropagation(),a.codemirrorIgnore=!0,d=d.name?d:d.getAsFile(),c._emitAddImageBlobHook(d,a.type),!1):!0})}}],[{key:"decodeURIGraceful",value:function(b){b=b.split(" ");
var a=[],c=void 0;return q.default.forEachArray(b,function(d){try{c=decodeURIComponent(d),c=c.replace(/ /g,"%20")}catch(h){c=d}return a.push(c)}),a.join(" ")}},{key:"encodeMarkdownCharacters",value:function(b){return b.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\[/g,"%5B").replace(/\]/g,"%5D").replace(/</g,"%3C").replace(/>/g,"%3E")}},{key:"escapeMarkdownCharacters",value:function(b){return b.replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/</g,
"\\<").replace(/>/g,"\\>")}}]),b}();p.default=b},function(b,p,f){function k(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];
d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,a,c){return a&&b(e.prototype,a),c&&b(e,c),e}}(),m=(b=f(1))&&b.__esModule?b:{default:b};f=f(8);f=function(b){function e(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{name:e.name};if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var c=(e.__proto__||Object.getPrototypeOf(e)).call(this,m.default.extend({className:e.className},
a));if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!=typeof c&&"function"!=typeof c?this:c;return c._name=a.name,c}return k(e,b),q(e,[{key:"getName",value:function(){return this._name}}]),e}((f&&f.__esModule?f:{default:f}).default);Object.defineProperty(f,"name",{enumerable:!0,writable:!0,value:"item"});Object.defineProperty(f,"className",{enumerable:!0,writable:!0,value:"tui-toolbar-item"});p.default=f},function(b,p,f){function k(b,e){if("function"!=
typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,
d.key,d)}}return function(e,a,c){return a&&b(e.prototype,a),c&&b(e,c),e}}(),m=function d(b,a,c){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,a);if(void 0===e)return b=Object.getPrototypeOf(b),null===b?void 0:d(b,a,c);if("value"in e)return e.value;a=e.get;if(void 0!==a)return a.call(c)};b=f(13);b=function(b){function a(c,d,b,e,l){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");c=(a.__proto__||Object.getPrototypeOf(a)).call(this,c,d,b,e,l);
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!=typeof c&&"function"!=typeof c?this:c;return c._initEvent(),c}return k(a,b),q(a,[{key:"_initEvent",value:function(){var a=this,d="";this.eventManager.listen("contentChangedFromMarkdown",function(c){d=c.getValue();a.isVisible()&&a.lazyRunner.run("refresh",d.replace(/<br>\n/g,"<br>"))});this.eventManager.listen("previewNeedsRefresh",function(c){a.refresh(c||d)});this.$el.on("scroll",function(c){a.eventManager.emit("scroll",
{source:"preview",data:c})})}},{key:"render",value:function(c){m(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"render",this).call(this,c);this.eventManager.emit("previewRenderAfter",this)}},{key:"remove",value:function(){this.$el.off("scroll");this.$el=null}}]),a}((b&&b.__esModule?b:{default:b}).default);p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=
!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,a,c){return a&&b(e.prototype,a),c&&b(e,c),e}}(),q=(b=f(0))&&b.__esModule?b:{default:b},m=(f=f(20))&&f.__esModule?f:{default:f};f=function(){function b(e,a,c,d){var h=4<arguments.length&&void 0!==arguments[4]?arguments[4]:800;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.eventManager=a;this.convertor=c;this.$el=e;this.isViewer=!!d;this._initContentSection();this.lazyRunner=new m.default;
this.lazyRunner.registerLazyRunFunction("refresh",this.refresh,h,this)}return k(b,[{key:"_initContentSection",value:function(){this._$previewContent=(0,q.default)('<div class="tui-editor-contents" />');this.$el.append(this._$previewContent)}},{key:"refresh",value:function(b){this.render(this.convertor.toHTMLWithCodeHightlight(b))}},{key:"getHTML",value:function(){return this._$previewContent.html()}},{key:"setHTML",value:function(b){this._$previewContent.html(b)}},{key:"render",value:function(b){var a=
this._$previewContent;b=this.eventManager.emit("previewBeforeHook",b)||b;a.empty();a.html(b)}},{key:"setHeight",value:function(b){this.$el.get(0).style.height=b+"px"}},{key:"setMinHeight",value:function(b){this.$el.get(0).style.minHeight=b+"px"}},{key:"isVisible",value:function(){return"none"!==this.$el.css("display")}}]),b}();p.default=f},function(b,p,f){p=/Mac/.test(navigator.platform);b.exports={isMac:p}},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(b,
a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,a,c){return a&&b(e.prototype,a),c&&b(e,c),e}}(),q=(b=f(1))&&b.__esModule?b:{default:b},m="previewBeforeHook previewRenderAfter previewNeedsRefresh addImageBlobHook setMarkdownAfter contentChangedFromWysiwyg changeFromWysiwyg contentChangedFromMarkdown changeFromMarkdown change changeModeToWysiwyg changeModeToMarkdown changeModeBefore changeMode changePreviewStyle changePreviewTabPreview changePreviewTabWrite openPopupAddLink openPopupAddImage openPopupAddTable openPopupTableUtils openHeadingSelect openPopupCodeBlockLanguages openPopupCodeBlockEditor openDropdownToolbar closePopupCodeBlockLanguages closePopupCodeBlockEditor closeAllPopup command addCommandBefore htmlUpdate markdownUpdate renderedHtmlUpdated removeEditor convertorAfterMarkdownToHtmlConverted convertorBeforeHtmlToMarkdownConverted convertorAfterHtmlToMarkdownConverted stateChange wysiwygSetValueAfter wysiwygSetValueBefore wysiwygGetValueBefore wysiwygProcessHTMLText wysiwygRangeChangeAfter wysiwygKeyEvent scroll click mousedown mouseover mouseout mouseup contextmenu keydown keyup keyMap load focus blur paste pasteBefore willPaste copy copyBefore copyAfter cut cutAfter drop show hide".split(" ");
b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.events=new q.default.Map;this.TYPE=new q.default.Enum(m)}return k(b,[{key:"listen",value:function(b,a){b=this._getTypeInfo(b);var c=this.events.get(b.type)||[];if(!this._hasEventType(b.type))throw Error("There is no event type "+b.type);b.namespace&&(a.namespace=b.namespace);c.push(a);this.events.set(b.type,c)}},{key:"emit",value:function(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=
arguments[c];b=a.shift();b=this._getTypeInfo(b);b=this.events.get(b.type);var d=void 0;return b&&q.default.forEach(b,function(c){c=c.apply(void 0,a);q.default.isUndefined(c)||(d=d||[],d.push(c))}),d}},{key:"emitReduce",value:function(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];b=a.shift();b=this.events.get(b);return b&&q.default.forEach(b,function(c){c=c.apply(void 0,a);q.default.isFalsy(c)||(a[0]=c)}),a[0]}},{key:"_getTypeInfo",value:function(b){b=b.split(".");return{type:b[0],
namespace:b[1]}}},{key:"_hasEventType",value:function(b){return!q.default.isUndefined(this.TYPE[this._getTypeInfo(b).type])}},{key:"addEventType",value:function(b){if(this._hasEventType(b))throw Error("There is already have event type "+b);this.TYPE.set(b)}},{key:"removeEventHandler",value:function(b,a){var c=this;b=this._getTypeInfo(b);var d=b.type,e=b.namespace;d&&a?this._removeEventHandlerWithHandler(d,a):d&&!e?this.events.delete(d):!d&&e?this.events.forEach(function(a,d){c._removeEventHandlerWithTypeInfo(d,
e)}):d&&e&&this._removeEventHandlerWithTypeInfo(d,e)}},{key:"_removeEventHandlerWithHandler",value:function(b,a){b=this.events.get(b)||[];a=b.indexOf(a);0<=a&&b.splice(a,1)}},{key:"_removeEventHandlerWithTypeInfo",value:function(b,a){var c=[],d=this.events.get(b);d&&(d.map(function(d){return d.namespace!==a&&c.push(d),null}),this.events.set(b,c))}}]),b}();p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(b,e){for(var a=0;a<e.length;a++){var c=
e[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(f,e,a){return e&&b(f.prototype,e),a&&b(f,a),f}}(),q=(b=f(1))&&b.__esModule?b:{default:b};b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.exts=new q.default.Map}return k(b,[{key:"defineExtension",value:function(b,e){this.exts.set(b,e)}},{key:"applyExtension",value:function(b,e){var a=this;e&&e.forEach(function(c){var d=
q.default.isObject(c),e=d?c.name:c;a.exts.has(e)&&(e=a.exts.get(e),d?e(b,c):e(b))})}}]),b}();p.default=new b},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function a(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}();b=f(0);var m=k(b);b=f(1);var n=
k(b);b=f(22);b=k(b);var e=f(23),a=k(e);e=f(9);var c=k(e);e=f(24);e=k(e);var d=f(25);d=k(d);var h=f(26);h=k(h);var r=f(27);r=k(r);var l=f(28);l=k(l);var v=f(29);v=k(v);var C=f(30);C=k(C);var E=f(31);f=f(7);var H=k(f),K=new b.default({html:!0,breaks:!0,quotes:"\u201c\u201d\u2018\u2019",langPrefix:"lang-",highlight:function(a,c){return H.default.createCodeBlockHtml(c,a)}}),t=new b.default({html:!0,breaks:!0,quotes:"\u201c\u201d\u2018\u2019",langPrefix:"lang-"});K.block.ruler.at("code",h.default);K.block.ruler.at("table",
l.default,{alt:["paragraph","reference"]});K.block.ruler.at("blockquote",r.default,{alt:["paragraph","reference","blockquote","list"]});K.block.ruler.at("html_block",v.default,{alt:["paragraph","reference","blockquote"]});K.inline.ruler.at("backticks",C.default);K.use(e.default);K.use(d.default);t.block.ruler.at("code",h.default);t.block.ruler.at("table",l.default,{alt:["paragraph","reference"]});t.block.ruler.at("blockquote",r.default,{alt:["paragraph","reference","blockquote","list"]});t.block.ruler.at("html_block",
v.default,{alt:["paragraph","reference","blockquote"]});t.inline.ruler.at("backticks",C.default);t.use(e.default);t.use(d.default);f=function(){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.eventManager=a}return q(d,[{key:"_markdownToHtmlWithCodeHighlight",value:function(a,c){for(var d=/(<img[^>]*)(onerror\s*=\s*["']?[^"']*["']?)(.*)/i;d.exec(a);)a=a.replace(d,"$1$3");return K.render(a,c)}},{key:"_markdownToHtml",value:function(a,c){a=a.replace(/<([^\/>]+)([\/]?)>/g,
"<$1 data-tomark-pass $2>");for(var d=/(<img[^>]*)(onerror\s*=\s*["']?[^"']*["']?)(.*)/i;d.exec(a);)a=a.replace(d,"$1$3");return t.render(a,c)}},{key:"_removeBrToMarkPassAttributeInCode",value:function(a){var c=(0,m.default)("<div />");return c.html(a),c.find("code, pre").each(function(a,c){a=(0,m.default)(c);a.html(a.html().replace(/&lt;([a-zA-Z0-9]+\s*) data-tomark-pass &gt;/g,"&lt;$1&gt;"))}),a=c.html()}},{key:"toHTMLWithCodeHightlight",value:function(a){a=this._markdownToHtmlWithCodeHighlight(a);
return this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",a)}},{key:"toHTML",value:function(a){a=this._markdownToHtml(a);return a=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",a),this._removeBrToMarkPassAttributeInCode(a)}},{key:"initHtmlSanitizer",value:function(){this.eventManager.listen("convertorAfterMarkdownToHtmlConverted",function(a){return(0,c.default)(a,!0)})}},{key:"setLinkAttribute",value:function(a){var c=Object.keys(a),d=function(d,b){c.forEach(function(c){d[b].attrPush([c,
a[c]])})};K.use(E.linkAttribute,d);t.use(E.linkAttribute,d)}},{key:"toMarkdown",value:function(c,d){var b=[];c=this.eventManager.emitReduce("convertorBeforeHtmlToMarkdownConverted",c);c=(0,a.default)(this._appendAttributeForBrIfNeed(c),d);return c=this.eventManager.emitReduce("convertorAfterHtmlToMarkdownConverted",c),n.default.forEach(c.split("\n"),function(a,c){var d=/^\|[^|]*\|/gi;/`[^`]*<br>[^`]*`/gi.test(a)||d.test(a)||(a=a.replace(/<br>/gi,"<br>\n"));b[c]=a}),b.join("\n")}},{key:"_appendAttributeForBrIfNeed",
value:function(a){var c=new RegExp(/([^>]|<\/a>|<\/code>|<\/span>|<\/b>|<\/i>|<\/s>|<img [^>]*>)/.source+/<br data-tomark-pass \/><br data-tomark-pass \/>/.source,"g");return a=a.replace(/<br>/gi,"<br />"),a=a.replace(/<br \/><br \/>/gi,"<br data-tomark-pass /><br data-tomark-pass />"),a=a.replace(/<br data-tomark-pass="">/gi,"<br data-tomark-pass />"),a=a.replace(/<br data-tomark-pass \/><br \/>(.)/gi,"<br data-tomark-pass /><br data-tomark-pass />$1"),a.replace(c,"$1<br /><br />")}}],[{key:"getMarkdownitHighlightRenderer",
value:function(){return K}},{key:"getMarkdownitRenderer",value:function(){return t}}]),d}();p.default=f},function(b,p,f){function k(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function b(b,
a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,a,c){return a&&b(e.prototype,a),c&&b(e,c),e}}();b=(b=f(11))&&b.__esModule?b:{default:b};var m=(f=f(35))&&f.__esModule?f:{default:f};f=function(b){function e(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{tagName:"button",name:e.name};if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");
var c=(e.__proto__||Object.getPrototypeOf(e)).call(this,{name:a.name,tagName:"button",className:a.className+" "+e.className,rootElement:a.$el});if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!=typeof c&&"function"!=typeof c?this:c;return c._setOptions(a),c._render(),c.on("click",c._onClick.bind(c)),a.tooltip&&(c.on("mouseover",c._onOver.bind(c)),c.on("mouseout",c._onOut.bind(c))),c}return k(e,b),q(e,[{key:"setTooltip",value:function(a){this._tooltip=
a}},{key:"_setOptions",value:function(a){this._command=a.command;this._event=a.event;this._text=a.text;this._tooltip=a.tooltip;this._style=a.style;this._state=a.state}},{key:"_render",value:function(){this.$el.text(this._text);this.$el.attr("type","button");this._style&&this.$el.attr("style",this._style)}},{key:"_onClick",value:function(){this.isEnabled()&&(this._command?this.trigger("command",this._command):this._event&&this.trigger("event",this._event),this.trigger("clicked"))}},{key:"_onOver",
value:function(){this.isEnabled()&&m.default.show(this.$el,this._tooltip)}},{key:"_onOut",value:function(){m.default.hide()}},{key:"enable",value:function(){this.$el.attr("disabled",!1)}},{key:"disable",value:function(){this.$el.attr("disabled",!0)}},{key:"isEnabled",value:function(){return!this.$el.attr("disabled")}}]),e}(b.default);Object.defineProperty(f,"name",{enumerable:!0,writable:!0,value:"button"});Object.defineProperty(f,"className",{enumerable:!0,writable:!0,value:"tui-toolbar-icons"});
p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,a,c){return a&&b(e.prototype,a),c&&b(e,c),e}}(),q="   CANCEL   HELP  BACK_SPACE TAB   CLEAR ENTER ENTER_SPECIAL     PAUSE CAPS_LOCK KANA EISU JUNJA FINAL HANJA  ESCAPE CONVERT NONCONVERT ACCEPT MODECHANGE SPACE PAGE_UP PAGE_DOWN END HOME LEFT UP RIGHT DOWN SELECT PRINT EXECUTE PRINTSCREEN INSERT DELETE  0 1 2 3 4 5 6 7 8 9 : ; < = > ? AT A B C D E F G H I J K L M N O P Q R S T U V W X Y Z   CONTEXT_MENU  SLEEP NUMPAD0 NUMPAD1 NUMPAD2 NUMPAD3 NUMPAD4 NUMPAD5 NUMPAD6 NUMPAD7 NUMPAD8 NUMPAD9 MULTIPLY ADD SEPARATOR SUBTRACT DECIMAL DIVIDE F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 F16 F17 F18 F19 F20 F21 F22 F23 F24         NUM_LOCK SCROLL_LOCK WIN_OEM_FJ_JISHO WIN_OEM_FJ_MASSHOU WIN_OEM_FJ_TOUROKU WIN_OEM_FJ_LOYA WIN_OEM_FJ_ROYA          @ ! \" # $ % & _ ( ) * + | - { } ~     VOLUME_MUTE VOLUME_DOWN VOLUME_UP   ; = , - . / `                           [ \\ ] '  META ALTGR  WIN_ICO_HELP WIN_ICO_00  WIN_ICO_CLEAR   WIN_OEM_RESET WIN_OEM_JUMP WIN_OEM_PA1 WIN_OEM_PA2 WIN_OEM_PA3 WIN_OEM_WSCTRL WIN_OEM_CUSEL WIN_OEM_ATTN WIN_OEM_FINISH WIN_OEM_COPY WIN_OEM_AUTO WIN_OEM_ENLW WIN_OEM_BACKTAB ATTN CRSEL EXSEL EREOF PLAY ZOOM  PA1 WIN_OEM_CLEAR ".split(" "),
m=void 0;b=function(){function b(e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._setSplitter(e)}return k(b,[{key:"_setSplitter",value:function(b){this._splitter=b?b.splitter:"+"}},{key:"convert",value:function(b){var a=[];b.shiftKey&&a.push("SHIFT");b.ctrlKey&&a.push("CTRL");b.metaKey&&a.push("META");b.altKey&&a.push("ALT");b=this._getKeyCodeChar(b.keyCode);return b&&a.push(b),a.join(this._splitter)}},{key:"_getKeyCodeChar",value:function(b){return q[b]}}],
[{key:"getSharedInstance",value:function(){return m||(m=new b),m}},{key:"keyCode",value:function(b){return q.indexOf(b)}}]),b}();p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(b,e){for(var a=0;a<e.length;a++){var c=e[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(f,e,a){return e&&b(f.prototype,e),a&&b(f,a),f}}(),q=(b=f(1))&&b.__esModule?b:{default:b};b=function(){function b(){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");this.globalTOID=null;this.lazyRunFunctions={}}return k(b,[{key:"run",value:function(b,e,a,c){var d=void 0;return q.default.isString(b)?d=this._runRegisteredRun(b,e,a,c):(d=this._runSingleRun(b,e,a,c,this.globalTOID),this.globalTOID=d),d}},{key:"registerLazyRunFunction",value:function(b,e,a,c){this.lazyRunFunctions[b]={fn:e,delay:a,context:c||this,TOID:null}}},{key:"_runSingleRun",value:function(b,e,a,c,d){return this._clearTOIDIfNeed(d),
d=setTimeout(function(){b.call(a,e)},c)}},{key:"_runRegisteredRun",value:function(b,e,a,c){b=this.lazyRunFunctions[b];var d=b.fn,h=b.TOID;return c=c||b.delay,a=a||b.context,h=this._runSingleRun(d,e,a,c,h),b.TOID=h,h}},{key:"_clearTOIDIfNeed",value:function(b){b&&clearTimeout(b)}}]),b}();p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=
!0);Object.defineProperty(b,d.key,d)}}return function(e,a,c){return a&&b(e.prototype,a),c&&b(e,c),e}}(),q=(b=f(1))&&b.__esModule?b:{default:b},m=function(){function b(e,a,c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.name=e;this.type=a;c&&this.setKeyMap(c)}return k(b,[{key:"getName",value:function(){return this.name}},{key:"getType",value:function(){return this.type}},{key:"isMDType",value:function(){return this.type===b.TYPE.MD}},{key:"isWWType",value:function(){return this.type===
b.TYPE.WW}},{key:"isGlobalType",value:function(){return this.type===b.TYPE.GB}},{key:"setKeyMap",value:function(b,a){this.keyMap=[b,a]}}]),b}();m.factory=function(b,e){var a=void 0;"markdown"===b?a=m.TYPE.MD:"wysiwyg"===b?a=m.TYPE.WW:"global"===b&&(a=m.TYPE.GB);b=new m(e.name,a);return q.default.extend(b,e),b};m.TYPE={MD:0,WW:1,GB:2};p.default=m},function(b,p){b.exports=x},function(b,p){b.exports=z},function(b,p,f){function k(b,f,k){var e=b.attrIndex(f);f=[f,k];0>e?b.attrPush(f):b.attrs[e]=f}b.exports=
function(b){b.core.ruler.after("inline","tui-task-list",function(b){var f=b.tokens;for(b=2;b<f.length;b+=1){var e=f;var a=b;"inline"!==e[a].type||"paragraph_open"!==e[a-1].type||"list_item_open"!==e[a-2].type||0!==e[a].content.indexOf("[ ]")&&0!==e[a].content.indexOf("[x]")&&0!==e[a].content.indexOf("[X]")||(e=f[b],a=!1,e=(0!==e.content.indexOf("[x]")&&0!==e.content.indexOf("[X]")||(a=!0),a)?"task-list-item checked":"task-list-item",a=f[b],a.content=a.content.slice(4),a.children[0].content=a.children[0].content.slice(4),
k(f[b-2],"class",e),k(f[b-2],"data-te-task",""))}})}},function(b,p,f){function k(b,f,k){var e=b.attrIndex(f);f=[f,k];0>e?b.attrPush(f):b.attrs[e]=f}b.exports=function(b){b.core.ruler.after("block","tui-code-block",function(b){var f=b.tokens;for(b=0;b<f.length;b+=1){var e=f[b];if(!0===e.block&&"code"===e.tag&&"fence"===e.type){var a=e.markup.length;3<a&&k(e,"data-backticks",a);e.info&&(a=e,e=e.info.replace(" ","").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,
"&#39;"),k(a,"data-language",e))}}})}},function(b,p,f){b.exports=function(b,f,m){var k,e,a,c=0;if(b.src.split("\n")[f].match(/ {0,3}(?:-|\*|\d\.) /)||4>b.sCount[f]-b.blkIndent)return!1;for(e=k=f+1;k<m;)if(b.isEmpty(k)){if(2<=++c&&"list"===b.parentType)break;k++}else{if(c=0,!(4<=b.sCount[k]-b.blkIndent))break;k++;e=k}return b.line=e,a=b.push("code_block","code",0),a.content=b.getLines(f,e,4+b.blkIndent,!0),a.map=[f,b.line],!0}},function(b,p,f){function k(b){switch(b){case 9:case 32:return!0}return!1}
b.exports=function(b,f,n,e){var a,c,d,h,r=b.lineMax,l=b.bMarks[f]+b.tShift[f],v=b.eMarks[f];var m=b.src.split("\n")[f];if(4<=b.sCount[f]-b.blkIndent||62!==b.src.charCodeAt(l++)||m.match(/(?:-|\*|\d+\.) {1,4}(?:> {0,3})[^>]*$/))return!1;if(e)return!0;var q=d=b.sCount[f]+l-(b.bMarks[f]+b.tShift[f]);32===b.src.charCodeAt(l)?(l++,q++,d++,a=!1,h=!0):9===b.src.charCodeAt(l)?(h=!0,3==(b.bsCount[f]+d)%4?(l++,q++,d++,a=!1):a=!0):h=!1;m=[b.bMarks[f]];for(b.bMarks[f]=l;l<v&&(c=b.src.charCodeAt(l),k(c));)9===
c?d+=4-(d+b.bsCount[f]+(a?1:0))%4:d++,l++;var H=[b.bsCount[f]];b.bsCount[f]=b.sCount[f]+1+(h?1:0);var p=l>=v;var t=[b.sCount[f]];b.sCount[f]=d-q;var R=[b.tShift[f]];b.tShift[f]=l-b.bMarks[f];var x=b.md.block.ruler.getRules("blockquote");var w=b.parentType;b.parentType="blockquote";var y=!1;for(e=f+1;e<n&&(b.sCount[e]<b.blkIndent&&(y=!0),l=b.bMarks[e]+b.tShift[e],v=b.eMarks[e],!(l>=v));e++)if(62!==b.src.charCodeAt(l++)||y){if(p)break;var z=!1;q=0;for(d=x.length;q<d;q++)if(x[q](b,e,n,!0)){z=!0;break}if(z){b.lineMax=
e;0!==b.blkIndent&&(m.push(b.bMarks[e]),H.push(b.bsCount[e]),R.push(b.tShift[e]),t.push(b.sCount[e]),b.sCount[e]-=b.blkIndent);break}m.push(b.bMarks[e]);H.push(b.bsCount[e]);R.push(b.tShift[e]);t.push(b.sCount[e]);b.sCount[e]=-1}else{q=d=b.sCount[e]+l-(b.bMarks[e]+b.tShift[e]);32===b.src.charCodeAt(l)?(l++,q++,d++,a=!1,h=!0):9===b.src.charCodeAt(l)?(h=!0,3==(b.bsCount[e]+d)%4?(l++,q++,d++,a=!1):a=!0):h=!1;m.push(b.bMarks[e]);for(b.bMarks[e]=l;l<v&&(c=b.src.charCodeAt(l),k(c));)9===c?d+=4-(d+b.bsCount[e]+
(a?1:0))%4:d++,l++;p=l>=v;H.push(b.bsCount[e]);b.bsCount[e]=b.sCount[e]+1+(h?1:0);t.push(b.sCount[e]);b.sCount[e]=d-q;R.push(b.tShift[e]);b.tShift[e]=l-b.bMarks[e]}n=b.blkIndent;b.blkIndent=0;c=b.push("blockquote_open","blockquote",1);c.markup=">";c.map=a=[f,0];b.md.block.tokenize(b,f,e);c=b.push("blockquote_close","blockquote",-1);c.markup=">";b.lineMax=r;b.parentType=w;a[1]=b.line;for(q=0;q<R.length;q++)b.bMarks[q+f]=m[q],b.tShift[q+f]=R[q],b.sCount[q+f]=t[q],b.bsCount[q+f]=H[q];return b.blkIndent=
n,!0}},function(b,p,f){function k(b,f){var e=b.bMarks[f]+b.blkIndent;return b.src.substr(e,b.eMarks[f]-e)}function q(b){var f,e=[],a=0,c=b.length,d=0,h=0,r=!1,l=0;for(f=b.charCodeAt(a);a<c;)96===f&&0==d%2?(r=!r,l=a):124!==f||0!=d%2||r?92===f?d+=1:d=0:(e.push(b.substring(h,a)),h=a+1),a+=1,a===c&&r&&(r=!1,a=l+1),f=b.charCodeAt(a);return e.push(b.substring(h)),e}b.exports=function(b,f,e,a){var c,d,h,r,l,v,m;if(f+2>e||(r=f+1,b.sCount[r]<b.blkIndent)||(h=b.bMarks[r]+b.tShift[r])>=b.eMarks[r]||124!==(c=
b.src.charCodeAt(h))&&45!==c&&58!==c||(d=k(b,f+1),!/^[-:| ]+$/.test(d)))return!1;h=d.split("|");var n=[];for(c=0;c<h.length;c+=1){if(!(r=h[c].trim())){if(0===c||c===h.length-1)continue;return!1}if(!/^:?-+:?$/.test(r))return!1;58===r.charCodeAt(r.length-1)?n.push(58===r.charCodeAt(0)?"center":"right"):58===r.charCodeAt(0)?n.push("left"):n.push("")}if((v=n.length,d=k(b,f).trim(),-1===d.indexOf("|"))||(h=q(d.replace(/^\||\|$/g,"")),(l=h.length)>v))return!1;if(l<v){for(c=0;c<v-l;c+=1)h.push("");l=h.length}if(a)return!0;
a=b.push("table_open","table",1);a.map=v=[f,0];a=b.push("thead_open","thead",1);a.map=[f,f+1];a=b.push("tr_open","tr",1);a.map=[f,f+1];for(c=0;c<l;c+=1)a=b.push("th_open","th",1),a.map=[f,f+1],n[c]&&(a.attrs=[["align",n[c]]]),a=b.push("inline","",0),a.content=h[c].trim(),a.map=[f,f+1],a.children=[],b.push("th_close","th",-1);b.push("tr_close","tr",-1);b.push("thead_close","thead",-1);a=b.push("tbody_open","tbody",1);a.map=m=[f+2,0];for(r=f+2;r<e&&!(b.sCount[r]<b.blkIndent)&&(d=k(b,r),-1!==d.indexOf("|"));r+=
1){h=q(d.replace(/^\||\|\s*$/g,""));b.push("tr_open","tr",1);for(c=0;c<l;c+=1)a=b.push("td_open","td",1),n[c]&&(a.attrs=[["align",n[c]]]),a=b.push("inline","",0),a.content=h[c]?h[c].trim():"",a.children=[],b.push("td_close","td",-1);b.push("tr_close","tr",-1)}return b.push("tbody_close","tbody",-1),b.push("table_close","table",-1),v[1]=m[1]=r,b.line=r,!0}},function(b,p,f){var k=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^\x3c!--/,/--\x3e/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,
/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[/^<(area|base|br|col|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)/i,/^\/?>$/,!0],[/^<\/?(address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|pre|section|source|title|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?=(\s|\/?>|$))/i,
/^$/,!0],[/^(?:<[A-Za-z][A-Za-z0-9\-]*(?:\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\s*=\s*(?:[^"'=<>`\x00-\x20]+|'[^']*'|"[^"]*"))?)*\s*\/?>|<\/[A-Za-z][A-Za-z0-9\-]*\s*>)\s*$/,/^$/,!1]];b.exports=function(b,f,n,e){var a,c,d=b.bMarks[f]+b.tShift[f],h=b.eMarks[f];if(!b.md.options.html||60!==b.src.charCodeAt(d))return!1;var r=b.src.slice(d,h);for(a=0;a<k.length;a++)if(k[a][0].test(r)){if(5===a)return!1;break}if(a===k.length)return!1;if(e)return k[a][2];if(e=f+1,!k[a][1].test(r))for(;e<n&&!(b.sCount[e]<b.blkIndent);e++)if(d=
b.bMarks[e]+b.tShift[e],h=b.eMarks[e],r=b.src.slice(d,h),k[a][1].test(r)){0!==r.length&&e++;break}return b.line=e,c=b.push("html_block","",0),c.map=[f,e],c.content=b.getLines(f,e,b.blkIndent,!0),!0}},function(b,p,f){b.exports=function(b,f){var m,k,e,a,c=b.pos;if(96!==b.src.charCodeAt(c))return!1;var d=c;c++;for(m=b.posMax;c<m&&96===b.src.charCodeAt(c);)c++;d=b.src.slice(d,c);for(e=c;-1!==(k=b.src.indexOf("`",e));){for(e=k+1;e<m&&96===b.src.charCodeAt(e);)e++;if(e-k===d.length)return f||(a=b.push("code_inline",
"code",0),a.markup=d,a.content=b.src.slice(c,k).replace(/[ \n]+/g," ").trim(),a.attrSet("data-backticks",a.markup.length)),b.pos=e,!0}return f||(b.pending+=d),b.pos+=d.length,!0}},function(b,p,f){function k(b,f,k,e){b.core.ruler.push(f,function(a){var c,d;for(d=a.tokens.length-1;0<=d;d--)if("inline"===a.tokens[d].type){var b=a.tokens[d].children;for(c=b.length-1;0<=c;c--)b[c].type===k&&e(b,c)}})}Object.defineProperty(p,"__esModule",{value:!0});p.linkAttribute=function(b,f){k(b,"url_attribute","link_open",
f)}},function(b,p){b.exports=t},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}var q=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}();p=f(0);var m=k(p);p=f(1);var n=k(p);p=f(12);var e=k(p);p=f(15);var a=k(p);p=f(2);var c=k(p);p=f(16);var d=k(p);p=f(17);var h=k(p);p=f(4);var r=k(p),l=f(7);
f=k(l);p=function(){function b(f){var r=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.options=m.default.extend({useDefaultHTMLSanitizer:!0,codeBlockLanguages:l.CodeBlockManager.getHighlightJSLanguages(),customConvertor:null},f);this.eventManager=new a.default;this.commandManager=new c.default(this);this.options.customConvertor?this.convertor=new this.options.customConvertor(this.eventManager):this.convertor=new h.default(this.eventManager);this.toMarkOptions=
null;this.options.useDefaultHTMLSanitizer&&this.convertor.initHtmlSanitizer();this.options.hooks&&n.default.forEach(this.options.hooks,function(a,c){r.addHook(c,a)});this.options.events&&n.default.forEach(this.options.events,function(a,c){r.on(c,a)});this.preview=new e.default((0,m.default)(this.options.el),this.eventManager,this.convertor,!0);this.preview.$el.on("mousedown",m.default.proxy(this._toggleTask,this));d.default.applyExtension(this,this.options.exts);this.setValue(this.options.initialValue);
this.eventManager.emit("load",this)}return q(b,[{key:"_toggleTask",value:function(a){var c=getComputedStyle(a.target,":before");a.target.hasAttribute("data-te-task")&&r.default.isInsideTaskBox(c,a.offsetX,a.offsetY)&&((0,m.default)(a.target).toggleClass("checked"),this.eventManager.emit("change",{source:"viewer",data:a}))}},{key:"setMarkdown",value:function(a){this.markdownValue=a||"";this.preview.refresh(this.markdownValue);this.eventManager.emit("setMarkdownAfter",this.markdownValue)}},{key:"setValue",
value:function(a){this.setMarkdown(a)}},{key:"on",value:function(a,c){this.eventManager.listen(a,c)}},{key:"off",value:function(a){this.eventManager.removeEventHandler(a)}},{key:"remove",value:function(){this.eventManager.emit("removeEditor");this.preview.$el.off("mousedown",m.default.proxy(this._toggleTask,this));this.preview.remove();this.preview=this.convertor=this.commandManager=this.eventManager=this.options=null}},{key:"addHook",value:function(a,c){this.eventManager.removeEventHandler(a);this.eventManager.listen(a,
c)}},{key:"isViewer",value:function(){return!0}},{key:"isMarkdownMode",value:function(){return!1}},{key:"isWysiwygMode",value:function(){return!1}}],[{key:"defineExtension",value:function(a,c){d.default.defineExtension(a,c)}}]),b}();p.isViewer=!0;p.domUtils=r.default;p.codeBlockManager=f.default;p.markdownitHighlight=h.default.getMarkdownitHighlightRenderer();p.markdownit=h.default.getMarkdownitRenderer();p.i18n=null;p.Button=null;p.WwCodeBlockManager=null;p.WwTableManager=null;p.WwTableSelectionManager=
null;b.exports=p},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=p.removeSyntax=function(b,a){a=a.length;return b.substr(a,b.length-2*a)},q=p.appendSyntax=function(b,a){return""+a+b+a},m=p.expandReplace=function(b,a,c,d,h){var e=a.start;a=a.end;var l=void 0;e.ch>=c&&(l={from:{line:e.line,ch:e.ch-c},to:{line:a.line,ch:a.ch+c}});a=l;c=!1;a&&(e=a.from,a=a.to,l=b.getRange(e,a),d(l)&&(b.setSelection(e,a),b.replaceSelection(h(l),"around"),c=!0));return c},n=p.replace=function(b,
a,c,d){var e=!1;return c(a)&&(b.replaceSelection(d(a),"around"),e=!0),e};p.changeSyntax=function(b,a,c,d,h){var e=b.getCursor(),l=e.line,f=e.ch;e=b.getSelection();var C=c.length,E=function(a){return d.test(a)};m(b,a,C,E,function(a){return k(a,c)})||n(b,e,E,function(a){return k(a,c)})||(a=e.replace(h,"$1"),b.replaceSelection(q(a,c),"around"));a=b.getSelection();e||(E(a)?f+=C:f-=C,b.setCursor(l,f))}},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(b,e){for(var a=
0;a<e.length;a++){var c=e[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(f,e,a){return e&&b(f.prototype,e),a&&b(f,a),f}}(),q=(b=f(0))&&b.__esModule?b:{default:b};b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.$el=(0,q.default)('<div class="tui-tooltip"><div class="arrow"></div><span class="text"></span></span></div>');this.$el.appendTo("body");this.hide()}
return k(b,[{key:"show",value:function(b,e){this.$el.css({top:b.offset().top+b.height()+13,left:b.offset().left+3}).find(".text").html(e).end().show()}},{key:"hide",value:function(){this.$el.hide()}},{key:"remove",value:function(){this.$el.remove()}}]),b}();p.default=new b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,
d.key,d)}}return function(e,a,c){return a&&b(e.prototype,a),c&&b(e,c),e}}(),q=(b=f(0))&&b.__esModule?b:{default:b},m=(b=f(6))&&b.__esModule?b:{default:b};f(48);f(49);f(50);f(51);f(52);f(53);f(54);f=function(){function b(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.editorContainerEl=e;this.cm=null;this._init(a)}return k(b,[{key:"_init",value:function(b){var a=document.createElement("textarea");
this.editorContainerEl.appendChild(a);b=q.default.extend(!0,{lineWrapping:!0,theme:"default",extraKeys:{"Shift-Tab":"indentLess","Alt-Up":"replaceLineTextToUpper","Alt-Down":"replaceLineTextToLower"},indentUnit:4,cursorScrollMargin:12,specialCharPlaceholder:function(){return document.createElement("span")}},b);this.cm=m.default.fromTextArea(a,b)}},{key:"getCurrentRange",value:function(){var b=this.cm.getCursor("from"),a=this.cm.getCursor("to");return{from:b,to:a,collapsed:b.line===a.line&&b.ch===
a.ch}}},{key:"focus",value:function(){this.cm.focus()}},{key:"blur",value:function(){this.cm.getInputField().blur()}},{key:"remove",value:function(){this.cm.toTextArea()}},{key:"setValue",value:function(b){var a=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.cm.setValue(b);a&&this.moveCursorToEnd();this.cm.refresh()}},{key:"getValue",value:function(){return this.cm.getValue("\n")}},{key:"getEditor",value:function(){return this.cm}},{key:"reset",value:function(){this.setValue("")}},
{key:"getCaretPosition",value:function(){return this.cm.cursorCoords()}},{key:"addWidget",value:function(b,a,c,d){d&&(b.ch+=d);this.cm.addWidget(b.end,a,!0,c)}},{key:"replaceSelection",value:function(b,a){a&&this.cm.setSelection(a.from,a.to);this.cm.replaceSelection(b);this.focus()}},{key:"replaceRelativeOffset",value:function(b,a,c){var d=this.cm.getCursor();this.replaceSelection(b,{from:{line:d.line,ch:d.ch+a},to:{line:d.line,ch:d.ch+a+c}})}},{key:"setHeight",value:function(b){this.getWrapperElement().style.height=
b+"px"}},{key:"setMinHeight",value:function(b){this.getWrapperElement().style.minHeight=b+"px"}},{key:"setPlaceholder",value:function(b){b&&this.cm.setOption("placeholder",b)}},{key:"getWrapperElement",value:function(){return this.cm.getWrapperElement()}},{key:"getCursor",value:function(b){return this.cm.getCursor(b)}},{key:"moveCursorToEnd",value:function(){var b=this.getEditor().getDoc(),a=b.lastLine();b.setCursor(a,b.getLine(a).length)}},{key:"moveCursorToStart",value:function(){var b=this.getEditor().getDoc(),
a=b.firstLine();b.setCursor(a,0)}},{key:"scrollTop",value:function(b){return b&&this.cm.scrollTo(0,b),this.cm.getScrollInfo().top}},{key:"getRange",value:function(){var b=this.cm.getCursor("from"),a=this.cm.getCursor("to");return{start:{line:b.line,ch:b.ch},end:{line:a.line,ch:a.ch}}}},{key:"on",value:function(b,a){this.cm.on(b,a)}},{key:"off",value:function(b,a){this.cm.off(b,a)}}]),b}();p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(b,f){for(var e=
0;e<f.length;e++){var a=f[e];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(f,k,e){return k&&b(f.prototype,k),e&&b(f,e),f}}();b=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._managers={};this._editor=f}return k(b,[{key:"addManager",value:function(b,f){f||(f=b,b=null);f=new f(this._editor);this._managers[b||f.name]=f}},{key:"getManager",value:function(b){return this._managers[b]}},
{key:"removeManager",value:function(b){var f=this.getManager(b);f&&(f.destroy&&f.destroy(),delete this._managers[b])}}]),b}();p.default=b},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a,c){c="<"+c+"><br /></"+c+">";for(var b="",d=0;d<a;d+=1)b+=c;return b}Object.defineProperty(p,"__esModule",{value:!0});var m=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,
d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}();b=f(0);var n=k(b);b=f(1);var e=k(b);f=f(4);var a=k(f),c=e.default.browser.msie&&10===e.default.browser.version,d=e.default.browser.msie&&(10===e.default.browser.version||11===e.default.browser.version),h=e.default.browser.msie?"":"<br>";f=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.wwe=a;this.eventManager=a.eventManager;this.name="table";this._lastCellNode=
null;this._init()}return m(b,[{key:"_init",value:function(){this._initKeyHandler();this._initEvent();this.tableID=0}},{key:"_initEvent",value:function(){var a=this;this.eventManager.listen("wysiwygRangeChangeAfter.table",function(){var c=a.wwe.getEditor().getSelection();c=a.wwe.isInTable(c);(a._unwrapBlockInTable(),a._completeTableIfNeed(),c)||a.wwe.componentManager.getManager("tableSelection").removeClassAttrbuteFromAllCellsIfNeed();a._insertDefaultBlockBetweenTable()});this.eventManager.listen("wysiwygSetValueAfter.table",
function(){a._unwrapBlockInTable();a._insertDefaultBlockBetweenTable()});this.eventManager.listen("wysiwygProcessHTMLText.table",function(a){return a.replace(/<br \/>(<\/td>|<\/th>)/g,"$1")});this.eventManager.listen("cut.table",function(){var c=a.wwe.componentManager.getManager("tableSelection"),b=c.getSelectedCells();b.length&&b.get().forEach(function(a){return(0,n.default)(a).html(h)});c.removeClassAttrbuteFromAllCellsIfNeed()});this.eventManager.listen("copyBefore.table",function(c){return a.updateTableHtmlOfClipboardIfNeed(c.$clipboardContainer)})}},
{key:"updateTableHtmlOfClipboardIfNeed",value:function(a){var c=this,b=this.wwe.componentManager.getManager("tableSelection");b.getSelectedCells().length&&(b.createRangeBySelectedCells(),b=this.wwe.getEditor().getSelection().cloneContents(),(0,n.default)(b).children().each(function(a,b){a=(0,n.default)(b);c.isTableOrSubTableElement(b.nodeName)&&("TABLE"===b.nodeName&&0===a.find("thead").length&&0===a.find("tbody").length?a.remove():b.previousSibling&&"TABLE"===b.previousSibling.nodeName?b.previousSibling.appendChild(b):
(c._completeIncompleteTable(b),"TABLE"!==b.nodeName&&"THEAD"!==b.nodeName&&(0,n.default)(b).closest("table").find("thead").remove()))}),a.append(b),a.find(".te-cell-selected").removeClass("te-cell-selected"))}},{key:"pasteTableData",value:function(a){a=(0,n.default)(a);this._expandTableIfNeed(a);this._pasteDataIntoTable(a)}},{key:"_initKeyHandler",value:function(){var a=this;this.keyEventHandlers={DEFAULT:function(c,b,d){var e=a.wwe.isInTable(b);e&&!a._isSingleModifierKey(d)?(a._recordUndoStateIfNeed(b),
a._removeContentsAndChangeSelectionIfNeed(b,d,c)):!e&&a._lastCellNode&&a._recordUndoStateAndResetCellNode(b);e&&!a._isModifierKeyPushed(c)&&a.wwe.getEditor().modifyDocument(function(){a.wwe.componentManager.getManager("tableSelection").removeClassAttrbuteFromAllCellsIfNeed()})},ENTER:function(c,b){var d=void 0;return a._isAfterTable(b)?(c.preventDefault(),b.setStart(b.startContainer,b.startOffset-1),a.wwe.breakToNewDefaultBlock(b),d=!1):a._isBeforeTable(b)?(c.preventDefault(),a.wwe.breakToNewDefaultBlock(b,
"before"),d=!1):a.wwe.isInTable(b)&&(!a._isInList(b.startContainer)&&a._isInStyledText(b)?a.wwe.defer(function(){a._removeBRinStyleText()}):a._isEmptyFirstLevelLI(b)&&a.wwe.defer(function(){var c=a.wwe.getRange().cloneRange(),b=c.startContainer,d=document.createElement("br");b.parentNode.replaceChild(d,b);c.setStartBefore(d);c.collapse(!0);a.wwe.getEditor().setSelection(c)}),a._appendBrIfTdOrThNotHaveAsLastChild(b),d=!1),d},BACK_SPACE:function(c,b,d){return a._handleBackspaceAndDeleteKeyEvent(c,b,
d)},DELETE:function(c,b,d){return a._handleBackspaceAndDeleteKeyEvent(c,b,d)},TAB:function(){return a._moveCursorTo("next","cell")},"SHIFT+TAB":function(c){return a._moveCursorTo("previous","cell",c)},UP:function(c){return a._moveCursorTo("previous","row",c)},DOWN:function(c){return a._moveCursorTo("next","row",c)}};e.default.forEach(this.keyEventHandlers,function(c,b){return a.wwe.addKeyEventHandler(b,c)})}},{key:"_isEmptyListItem",value:function(a){var c=a.childNodes;return"LI"===a.nodeName&&1===
c.length&&"BR"===c[0].nodeName}},{key:"_isEmptyFirstLevelLI",value:function(c){var b=c.startContainer,d=c.startOffset;return c.collapsed&&0===d&&this._isEmptyListItem(b)&&a.default.isFirstLevelListItem(b)}},{key:"_isInStyledText",value:function(c){var b=c.startContainer,d=void 0;return d=a.default.isTextNode(b)?b.parentNode:b,c.collapsed&&a.default.isStyledNode(d)}},{key:"_removeBRinStyleText",value:function(){var c=this.wwe.getRange(),b=c.startContainer,d=c.startOffset;b="TD"===b.nodeName?a.default.getChildNodeByOffset(b,
d-1):a.default.getParentUntil(b,"TD");d=b.querySelector("br");var e=b.parentNode,h=b.nodeName;"CODE"!==h||d.previousSibling?"CODE"!==h||d.nextSibling?(b=this._splitByBR(b,d),c.setStart(b,0)):(e.insertBefore(d,b.nextSibling),c.setStart(e,a.default.getNodeOffsetOfParent(d)+1)):(e.insertBefore(d,b),c.setStart(b,0));c.collapse(!0);this.wwe.getEditor().setSelection(c)}},{key:"_splitByBR",value:function(c,b){var d=c.cloneNode(!0),e=document.createElement("br"),h=c.parentNode;a.default.removeNodesByDirection(c,
b,!1);b.parentNode.removeChild(b);b=d.querySelector("br");a.default.removeNodesByDirection(d,b,!0);b.parentNode.removeChild(b);h.insertBefore(d,c.nextSibling);h.insertBefore(e,d);c=a.default.getLeafNode(d);return a.default.getTextLength(c)||(c.textContent="\u200b"),c}},{key:"_isBeforeTable",value:function(c){return"TABLE"===a.default.getNodeName(a.default.getChildNodeByOffset(c.startContainer,c.startOffset))}},{key:"_isAfterTable",value:function(c){var b=a.default.getPrevOffsetNodeUntil(c.startContainer,
c.startOffset);return"TABLE"===a.default.getNodeName(b)&&c.commonAncestorContainer===this.wwe.get$Body()[0]}},{key:"_handleBackspaceAndDeleteKeyEvent",value:function(c,b,d){var e="BACK_SPACE"===d,h=this.wwe.componentManager.getManager("tableSelection").getSelectedCells(),f=!0;if(b.collapsed)if(this.wwe.isInTable(b))e?this._tableHandlerOnBackspace(b,c):this._tableHandlerOnDelete(b,c),this._removeContentsAndChangeSelectionIfNeed(b,d,c),f=!1;else{if(!e&&this._isBeforeTable(b)||e&&this._isAfterTable(b))c.preventDefault(),
this._removeTable(b,a.default.getChildNodeByOffset(b.startContainer,e?b.startOffset-1:b.startOffset)),f=!1}else this.wwe.isInTable(b)&&0<h.length&&this._removeContentsAndChangeSelectionIfNeed(b,d,c)&&(c.preventDefault(),f=!1);return f}},{key:"_moveListItemToPreviousOfList",value:function(c,b){var d=c.parentNode,e=c.firstChild,h=document.createDocumentFragment();a.default.mergeNode(c,h);d.parentNode.insertBefore(h,d);b.setStart(e,0);b.collapse(!0);this.wwe.getEditor().setSelection(b);d.hasChildNodes()||
d.parentNode.removeChild(d)}},{key:"_isInList",value:function(c){return a.default.getParentUntilBy(c,function(c){return c&&(a.default.isListNode(c)||"LI"===c.nodeName)},function(a){return a&&("TD"===a.nodeName||"TH"===a.nodeName)})}},{key:"_findListItem",value:function(c){return a.default.getParentUntilBy(c,function(c){return c&&a.default.isListNode(c)},function(a){return a&&("TD"===a.nodeName||"TH"===a.nodeName)})}},{key:"_tableHandlerOnBackspace",value:function(c,b){var d=c.startContainer,e=c.startOffset,
h=this._findListItem(d);h&&0===e&&a.default.isFirstListItem(h)&&a.default.isFirstLevelListItem(h)?(this.wwe.getEditor().saveUndoState(c),this._moveListItemToPreviousOfList(h,c),b.preventDefault()):(c=a.default.getPrevOffsetNodeUntil(d,e,"TR"),"BR"===a.default.getNodeName(c)&&1!==c.parentNode.childNodes.length&&(b.preventDefault(),(0,n.default)(c).remove()))}},{key:"_isDeletingBR",value:function(c){var b=(c=this._getCurrentNodeInCell(c))&&c.nextSibling;return"BR"===a.default.getNodeName(c)&&!!b&&"BR"===
a.default.getNodeName(b)}},{key:"_getCurrentNodeInCell",value:function(c){var b=c.startContainer;c=c.startOffset;var d=void 0;return"TD"===a.default.getNodeName(b)?d=a.default.getChildNodeByOffset(b,c):a.default.getParentUntil(b,"TD")&&(d=b),d}},{key:"_isEndOfList",value:function(c,b){var d=b.startContainer;b=b.startOffset;var e=!1;c.nextSibling||(c===d?(d=a.default.getOffsetLength(c),"BR"===c.lastChild.nodeName&&--d,e=d===b):(e=a.default.getParentUntil(d,"li")||d,d=a.default.getOffsetLength(d),c=
c.lastChild,"BR"===c.nodeName&&(c=c.previousSibling),e=c===e&&d===b));return e}},{key:"_getNextLineNode",value:function(c){var b=document.createDocumentFragment();for(c=a.default.getParentUntil(c,"TD").nextSibling;c;){var d=c.nextSibling;if(b.appendChild(c),"BR"===c.nodeName)break;c=d}return b}},{key:"_tableHandlerOnDelete",value:function(c,b){var d=this._findListItem(c.startContainer);d&&this._isEndOfList(d,c)?(this.wwe.getEditor().saveUndoState(c),"BR"===d.lastChild.nodeName&&d.removeChild(d.lastChild),
a.default.mergeNode(this._getNextLineNode(d),d),b.preventDefault()):this._isDeletingBR(c)&&(c=this._getCurrentNodeInCell(c),c.parentNode.removeChild(c.nextSibling),b.preventDefault())}},{key:"_appendBrIfTdOrThNotHaveAsLastChild",value:function(c){var b=a.default.getNodeName(c.startContainer);"TD"===b||"TH"===b?c=c.startContainer:(c=(0,n.default)(c.startContainer).parentsUntil("tr"),c=c[c.length-1]);b=a.default.getNodeName(c.lastChild);"BR"===b||"DIV"===b||"UL"===b||"OL"===b||d||(0,n.default)(c).append((0,
n.default)("<br />")[0])}},{key:"_unwrapBlockInTable",value:function(){this.wwe.get$Body().find("td div,th div,tr>br,td>br,th>br").each(function(c,b){if("BR"===a.default.getNodeName(b)){c=a.default.getNodeName(b.parentNode);var d=/TD|TH/.test(c),e=0===b.parentNode.textContent.length,h=b.parentNode.lastChild===b;("TR"===c||d&&!e&&h)&&(0,n.default)(b).remove()}else(0,n.default)(b).children().unwrap()})}},{key:"_insertDefaultBlockBetweenTable",value:function(){this.wwe.get$Body().find("table").each(function(a,
c){c.nextElementSibling&&"TABLE"===c.nextElementSibling.nodeName&&(0,n.default)("<div><br /></div>").insertAfter(c)})}},{key:"_removeTable",value:function(a,c){"TABLE"===c.tagName&&(this.wwe.getEditor().saveUndoState(a),this.wwe.saveSelection(a),(0,n.default)(c).remove(),this.wwe.restoreSavedSelection())}},{key:"_recordUndoStateIfNeed",value:function(c){var b=a.default.getParentUntil(c.startContainer,"TR");c.collapsed&&b&&this._lastCellNode!==b&&(this.wwe.getEditor().saveUndoState(c),this._lastCellNode=
b)}},{key:"_recordUndoStateAndResetCellNode",value:function(a){this.wwe.getEditor().saveUndoState(a);this.resetLastCellNode()}},{key:"_pasteDataIntoTable",value:function(b){var d=this.wwe.getEditor().getSelection().startContainer;b=this._getTableDataFromTable(b);var e=c?"":"<br />",h=void 0,f=void 0,l=void 0,r=void 0;"TD"===d.tagName||"TH"===d.tagName?h=d:(h=a.default.getParentUntilBy(d,function(a){return"TD"===a.tagName||"TH"===a.tagName},function(a){return 0===(0,n.default)(a).closest("table").length}),
h=h?h.parentNode:null);for(f=h=h||(0,n.default)(d).find("th,td").get(0);b.length;){for(l=b.shift();f&&l.length;)r=l.shift(),r.length?f.textContent=r:f.innerHTML=e,f=a.default.getTableCellByDirection(f,"next");h=f=a.default.getSiblingRowCellByDirection(h,"next",!1)}}},{key:"_getTableDataFromTable",value:function(a){var c=[];return(0,n.default)(a).find("tr").each(function(a,b){var d=[];(0,n.default)(b).children().each(function(a,c){d.push(c.textContent)});d.length&&c.push(d)}),c}},{key:"_removeTableContents",
value:function(a){this.wwe.getEditor().saveUndoState();a.each(function(a,b){a=c?"":"<br />";(0,n.default)(b).html(a)})}},{key:"wrapDanglingTableCellsIntoTrIfNeed",value:function(a){a=a.children("td,th");var c=void 0;if(a.length){var b=(0,n.default)("<tr></tr>");a.each(function(a,c){b.append(c)});c=b.get(0)}return c}},{key:"wrapTrsIntoTbodyIfNeed",value:function(a){a=a.children("tr");var c=a.find("th"),b=void 0;if(c.length&&c.each(function(a,c){a=(0,n.default)(c);var b=(0,n.default)("<td></td>");b.html(a.html());
b.insertBefore(c);a.detach()}),a.length){var d=(0,n.default)("<tbody></tbody>");a.each(function(a,c){d.append(c)});b=d.get(0)}return b}},{key:"wrapTheadAndTbodyIntoTableIfNeed",value:function(a){var c=a.children("thead");a=a.children("tbody");var b=(0,n.default)("<table></table>"),d=void 0;return!a.length&&c.length?(b.append(c[0]),b.append("<tbody><tr></tr></tbody>"),d=b.get(0)):a.length&&!c.length?(b.append("<thead><tr></tr></thead>"),b.append(a[0]),d=b.get(0)):a.length&&c.length&&(b.append(c[0]),
b.append(a[0]),d=b.get(0)),d}},{key:"isTableOrSubTableElement",value:function(a){return"TABLE"===a||"TBODY"===a||"THEAD"===a||"TR"===a||"TD"===a}},{key:"_stuffTableCellsIntoIncompleteRow",value:function(c,b){c.each(function(c,d){c=(0,n.default)(d);var e=c.find("th,td");d="THEAD"===a.default.getNodeName(c.parent()[0])?"th":"td";for(e=e.length;e<b;e+=1)c.append((0,n.default)(q(1,d))[0])})}},{key:"prepareToTableCellStuffing",value:function(a){var c=a.eq(0).find("th,td").length,b=!1;return a.each(function(a,
d){a=(0,n.default)(d).find("th,td").length;c!==a&&(b=!0,c<a&&(c=a))}),{maximumCellLength:c,needTableCellStuffingAid:b}}},{key:"_addTbodyOrTheadIfNeed",value:function(a){var c=!a.find("thead").length,b=!a.find("tbody").length,d=void 0;c?(d=(0,n.default)("<thead><tr></tr></thead>").get(0),a.prepend(d)):b&&(d=(0,n.default)("<tbody><tr></tr></tbody>").get(0),a.append(d))}},{key:"tableCellAppendAidForTableElement",value:function(a){a=(0,n.default)(a);this._addTbodyOrTheadIfNeed(a);this._addTrIntoContainerIfNeed(a);
a=a.find("tr");var c=this.prepareToTableCellStuffing(a),b=c.maximumCellLength;c.needTableCellStuffingAid&&this._stuffTableCellsIntoIncompleteRow(a,b)}},{key:"_generateTheadAndTbodyFromTbody",value:function(a){var c=(0,n.default)("<tr></tr>"),b=(0,n.default)("<thead></thead>");return c.append(q((0,n.default)(a).find("tr").eq(0).find("td").length,"th")),b.append(c),{thead:b[0],tbody:a}}},{key:"_generateTheadAndTbodyFromThead",value:function(a){var c=(0,n.default)("<tr></tr>"),b=(0,n.default)("<tbody></tbody>");
return c.append(q((0,n.default)(a).find("th").length,"td")),b.append(c),{thead:a,tbody:b[0]}}},{key:"_generateTheadAndTbodyFromTr",value:function(a){var c=(0,n.default)(a),b=(0,n.default)("<thead></thead>"),d=(0,n.default)("<tbody></tbody>"),e=void 0,h=void 0;return"TH"===c.children()[0].tagName?(e=a,h=(0,n.default)("<tr>"+q(c.find("th").length,"td")+"</tr>").get(0)):(e=(0,n.default)("<tr>"+q(c.find("td").length,"th")+"</tr>").get(0),h=a),b.append(e),d.append(h),{thead:b[0],tbody:d[0]}}},{key:"_completeIncompleteTable",
value:function(a){var c=a.tagName,b=void 0,d=void 0;"TABLE"===c?b=a:(b=document.createElement("table"),a.parentNode.insertBefore(b,a.nextSibling),"TBODY"===c?d=this._generateTheadAndTbodyFromTbody(a):"THEAD"===c?d=this._generateTheadAndTbodyFromThead(a):"TR"===c&&(d=this._generateTheadAndTbodyFromTr(a)),b.appendChild(d.thead),b.appendChild(d.tbody));this._removeEmptyRows(b);this.tableCellAppendAidForTableElement(b)}},{key:"_removeEmptyRows",value:function(a){a=a.querySelectorAll("tr");e.default.forEachArray(a,
function(a){a.cells.length||a.parentNode.removeChild(a)})}},{key:"_completeTableIfNeed",value:function(){var a=this;this.wwe.getEditor().get$Body().children().each(function(c,b){c=(0,n.default)(b);a.isTableOrSubTableElement(b.nodeName)&&("TABLE"===b.nodeName&&0===c.find("tbody").length?c.remove():a._completeIncompleteTable(b))})}},{key:"resetLastCellNode",value:function(){this._lastCellNode=null}},{key:"setLastCellNode",value:function(a){this._lastCellNode=a}},{key:"_isSingleModifierKey",value:function(a){return"META"===
a||"SHIFT"===a||"ALT"===a||"CONTROL"===a}},{key:"_isModifierKeyPushed",value:function(a){return a.metaKey||a.ctrlKey||a.altKey||a.shiftKey}},{key:"_addTrIntoContainerIfNeed",value:function(a){a.children().each(function(a,c){0===(0,n.default)(c).find("tr").length&&(0,n.default)(c).append((0,n.default)("<tr></tr>")[0])})}},{key:"_expandTableIfNeed",value:function(a){var c=this.wwe.getEditor().getSelection().cloneRange(),b=(0,n.default)(c.startContainer).parents("table");a=this._getColumnAndRowDifference(a,
c);0>a.column&&this._appendCellForAllRow(b,a.column);0>a.row&&this._appendRow(b,a.row)}},{key:"_getColumnAndRowDifference",value:function(c,b){var d=this._getTableDataFromTable(c);c=d.length;d=d[0].length;var e=(0,n.default)(b.startContainer).closest("th,td");b=e.parent();var h=a.default.getNodeOffsetOfParent(e[0]);e=a.default.getNodeOffsetOfParent(e[0].parentNode);var f=b.parents("table"),l=f.find("tr").eq(0).children().length;f=f.find("tr").length;return b.parents("tbody").length&&(e+=1),{row:f-
(e+c),column:l-(h+d)}}},{key:"_appendCellForAllRow",value:function(a,b){var d=c?"":"<br />";a.find("tr").each(function(a,c){for(var e,h=b;0>h;h+=1)e=0===a?"th":"td",(0,n.default)(c).append((0,n.default)("<"+e+">"+d+"</"+e+">")[0])})}},{key:"_appendRow",value:function(a,b){var d=a.find("tr").last().clone(),e=c?"":"<br />";for(d.find("td").html(e);0>b;b+=1)a.find("tbody").append(d.clone()[0])}},{key:"_getSiblingTextNodeByDirection",value:function(a,c){var b=a.previousSibling&&"BR"===a.previousSibling.nodeName&&
a.previousSibling.previousSibling&&3===a.previousSibling.previousSibling.nodeType,d=a.nextSibling&&"BR"===a.nextSibling.nodeName&&a.nextSibling.nextSibling&&3===a.nextSibling.nextSibling.nodeType,e=void 0;return c&&d?e=a.nextSibling.nextSibling:!c&&b&&(e=a.previousSibling.previousSibling),e}},{key:"_changeSelectionToTargetCell",value:function(c,b,d,e){var h=b.startContainer,f="next"===d,l=void 0,r=void 0;if("row"===e){if(a.default.isTextNode(h)&&(l=this._getSiblingTextNodeByDirection(h,f)))return r=
l.length<b.startOffset?l.length:b.startOffset,b.setStart(l,r),void b.collapse(!0);l=a.default.getSiblingRowCellByDirection(c,d,!1)}else(l=a.default.getTableCellByDirection(c,d))||(l=a.default.getSiblingRowCellByDirection(c,d,!0));l?(b.setStart(l,0),b.collapse(!0)):(l=(0,n.default)(c).parents("table").get(0),f?b.setStart(l.nextElementSibling,0):l.previousElementSibling&&"TABLE"!==l.previousElementSibling.nodeName?b.setStart(l.previousElementSibling,1):b.setStartBefore(l),b.collapse(!0))}},{key:"_moveCursorTo",
value:function(a,c,b){var d=this.wwe.getEditor(),h=d.getSelection().cloneRange(),f=(0,n.default)(h.startContainer).closest("td,th").get(0),l=void 0;return h.collapsed&&this.wwe.isInTable(h)&&f&&!d.hasFormat("LI")&&("previous"!==a&&"row"!==c||e.default.isUndefined(b)||b.preventDefault(),this._changeSelectionToTargetCell(f,h,a,c),d.setSelection(h),l=!1),l}},{key:"_removeContentsAndChangeSelectionIfNeed",value:function(a,c,b){var d=1>=c.length;c="BACK_SPACE"===c||"DELETE"===c;var e=this.wwe.componentManager.getManager("tableSelection").getSelectedCells(),
h=e.first().get(0),f=!1;return(d||c)&&!this._isModifierKeyPushed(b)&&e.length&&(c&&this._recordUndoStateIfNeed(a),this._removeTableContents(e),this._lastCellNode=h,a.setStart(h,0),a.collapse(!0),this.wwe.getEditor().setSelection(a),f=!0),f}},{key:"getTableIDClassName",value:function(){var a="te-content-table-"+this.tableID;return this.tableID+=1,a}},{key:"destroy",value:function(){var a=this;this.eventManager.removeEventHandler("wysiwygRangeChangeAfter.table");this.eventManager.removeEventHandler("wysiwygSetValueAfter.table");
this.eventManager.removeEventHandler("wysiwygProcessHTMLText.table");this.eventManager.removeEventHandler("cut.table");this.eventManager.removeEventHandler("copyBefore.table");e.default.forEach(this.keyEventHandlers,function(c,b){return a.wwe.removeKeyEventHandler(b,c)})}}]),b}();p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||
!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){return b&&a(c.prototype,b),e&&a(c,e),c}}();b=f(0);var m=k(b);b=f(1);var n=k(b);f=f(4);var e=k(f);f=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.wwe=c;this.eventManager=c.eventManager;this.name="tableSelection";this._init()}return q(a,[{key:"_init",value:function(){this._initEvent();n.default.browser.firefox&&(document.execCommand("enableObjectResizing",
!1,"false"),document.execCommand("enableInlineTableEditing",!1,"false"))}},{key:"_initEvent",value:function(){var a=this,b=void 0,e=void 0,f=void 0;this._removeSelectionTimer=this._tableSelectionTimer=null;this._isSelectionStarted=!1;var l=function(c){e=(0,m.default)(c.data.target).closest("[contenteditable=true] td,th").get(0);var d=a.wwe.getEditor().getSelection();c=(0,m.default)(e).parents("[contenteditable=true] table").get(0);d=a._isTextSelect(d,b===e)&&!(0,m.default)(b).hasClass("te-cell-selected");
a._isSelectionStarted&&c&&!d&&(window.getSelection().removeAllRanges(),n.default.browser.firefox&&!a._removeSelectionTimer&&(a._removeSelectionTimer=setInterval(function(){window.getSelection().removeAllRanges()},10)),a.highlightTableCellsBy(b,e),f=e)},v=function(){a._isSelectionStarted&&(a._isSelectionStarted=!1,a.eventManager.removeEventHandler("mouseover.tableSelection"),a.eventManager.removeEventHandler("mouseup.tableSelection"))},k=function(c){e=(0,m.default)(c.data.target).closest("[contenteditable=true] td,th").get(0);
c=a.wwe.getEditor().getSelection();var d=a._isTextSelect(c,b===e)&&!(0,m.default)(b).hasClass("te-cell-selected");a._clearTableSelectionTimerIfNeed();a._isSelectionStarted&&(d||a._isListSelect(c)?a.removeClassAttrbuteFromAllCellsIfNeed():(a.wwe.componentManager.getManager("table").resetLastCellNode(),e=e||f,c=a.wwe.getEditor().getSelection(),c.setStart(e,0),n.default.browser.msie?c.setEnd(e,1):(c.setEnd(e,0),c.collapse(!1)),a.wwe.getEditor().setSelection(c)),a.onDragEnd&&a.onDragEnd());v()};this.eventManager.listen("mousedown.tableSelection",
function(c){b=(0,m.default)(c.data.target).closest("[contenteditable=true] td,th").get(0);var d=(0,m.default)(b).hasClass("te-cell-selected");e=null;!d||d&&2!==c.data.button?(a.removeClassAttrbuteFromAllCellsIfNeed(),b&&(a.setTableSelectionTimerIfNeed(b),a.eventManager.listen("mouseover.tableSelection",l),a.eventManager.listen("mouseup.tableSelection",k),a.onDragStart&&a.onDragStart(b))):2===c.data.button&&v()});this.eventManager.listen("copyBefore.tableSelection",v);this.eventManager.listen("pasteBefore.tableSelection",
v)}},{key:"_isTextSelect",value:function(a,b){return/TD|TH|TEXT/i.test(a.commonAncestorContainer.nodeName)&&b}},{key:"_isListSelect",value:function(a){return/UL|OL|LI/i.test(a.commonAncestorContainer.nodeName)}},{key:"setTableSelectionTimerIfNeed",value:function(a){(0,m.default)(a).parents("[contenteditable=true] table").length&&(this._isSelectionStarted=!0)}},{key:"_clearTableSelectionTimerIfNeed",value:function(){clearTimeout(this._tableSelectionTimer);n.default.browser.firefox&&this._removeSelectionTimer&&
(clearTimeout(this._removeSelectionTimer),this._removeSelectionTimer=null)}},{key:"_reArrangeSelectionIfneed",value:function(a,b){var c=(0,m.default)(a).parents("[contenteditable=true] table").length,d=(0,m.default)(b).parents("[contenteditable=true] table").length,e=!d&&c;return d&&!c?a=(0,m.default)(b).parents("[contenteditable=true] table").find("th").first().get(0):e&&(b=(0,m.default)(a).parents("[contenteditable=true] table").find("td").last().get(0)),{startContainer:a,endContainer:b}}},{key:"_applySelectionDirection",
value:function(a,b){var c=e.default.getNodeOffsetOfParent,d=a.startContainer;a=a.endContainer;var f=c((0,m.default)(d).closest("[contenteditable=true] tr")[0])-c((0,m.default)(a).closest("[contenteditable=true] tr")[0]);c=c(d)-c(a);var v=0>f;return 0===f?0<c?(b.setStart(a,0),b.setEnd(d,1)):(b.setStart(d,0),b.setEnd(a,1)):v?(b.setStart(d,0),b.setEnd(a,1)):(b.setStart(a,0),b.setEnd(d,1)),b}},{key:"getSelectionRangeFromTable",value:function(a,b){var c=e.default.getNodeOffsetOfParent,d=c(a.parentNode),
f=c(b.parentNode),v=c(a);c=c(b);var k=e.default.getParentUntil(a,"TABLE"),n=e.default.getParentUntil(b,"TABLE"),q="TBODY"===e.default.getNodeName(k)&&"THEAD"===e.default.getNodeName(n);k=k!==n;a=!!(0,m.default)(a).parents("tbody").length&&!!(0,m.default)(b).parents("tbody").length;b={row:d,cell:v};n={row:f,cell:c};var p=void 0,t=void 0;return q?b.row+=1:k?n.row+=1:a&&(b.row+=1,n.row+=1),d>f||d===f&&v>c?(p=n,t=b):(p=b,t=n),{from:p,to:t}}},{key:"highlightTableCellsBy",value:function(a,b){var c=(0,m.default)(a).parents("[contenteditable=true] table").find("tr");
a=this.getSelectionRangeFromTable(a,b);var d=a.from.row,e=a.from.cell,f=a.to.row,k=a.to.cell;c.each(function(a,c){(0,m.default)(c).find("td,th").each(function(c,b){b=(0,m.default)(b);var h=a===f;a===d&&c<e||h&&c>k||a<d||a>f?b.removeClass("te-cell-selected"):b.addClass("te-cell-selected")})})}},{key:"removeClassAttrbuteFromAllCellsIfNeed",value:function(){this.wwe.get$Body().find("td.te-cell-selected,th.te-cell-selected").each(function(a,b){a=(0,m.default)(b);a.removeClass("te-cell-selected");a.attr("class").length||
a.removeAttr("class")})}},{key:"getSelectedCells",value:function(){return this.wwe.get$Body().find(".te-cell-selected")}},{key:"createRangeBySelectedCells",value:function(){var a=this.wwe.getEditor(),b=a.getSelection().cloneRange(),e=this.getSelectedCells(),f=e.first().get(0),l=e.last().get(0);e.length&&this.wwe.isInTable(b)&&(b.setStart(f,0),b.setEnd(l,l.childNodes.length),a.setSelection(b))}},{key:"styleToSelectedCells",value:function(a,b){this.createRangeBySelectedCells();a(this.wwe.getEditor(),
b)}},{key:"destroy",value:function(){this.eventManager.removeEventHandler("mousedown.tableSelection");this.eventManager.removeEventHandler("mouseover.tableSelection");this.eventManager.removeEventHandler("mouseup.tableSelection");this.eventManager.removeEventHandler("copyBefore.tableSelection");this.eventManager.removeEventHandler("pasteBefore.tableSelection")}}]),a}();p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a){return a?a.replace(/[<>&]/g,function(a){return h[a]||
a}):""}Object.defineProperty(p,"__esModule",{value:!0});var m=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}();b=f(0);var n=k(b);b=f(1);var e=k(b);f=f(4);var a=k(f),c=e.default.browser.msie&&10===e.default.browser.version,d=c?"":"<br>",h={"&":"&amp;","<":"&lt;",">":"&gt;"},r=/\u200B/g;f=function(){function b(a){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");this.wwe=a;this.eventManager=a.eventManager;this.name="codeblock";this._init()}return m(b,[{key:"_init",value:function(){this._initKeyHandler();this._initEvent()}},{key:"_initKeyHandler",value:function(){var c=this;this._keyEventHandlers={BACK_SPACE:this._onBackspaceKeyEventHandler.bind(this),ENTER:function(b,d){!c.wwe.isInTable(d)&&c.wwe.getEditor().hasFormat("CODE")&&c.wwe.defer(function(){var b=c.wwe.getRange().startContainer;(b=c._getCodeNode(b))&&
!a.default.getTextLength(b)&&b.parentNode.removeChild(b)})}};e.default.forEach(this._keyEventHandlers,function(a,b){return c.wwe.addKeyEventHandler(b,a)})}},{key:"_getCodeNode",value:function(a){var c=void 0;return"CODE"===a.nodeName?c=a:"CODE"===a.parentNode.nodeName&&(c=a.parentNode),c}},{key:"_initEvent",value:function(){var a=this;this.eventManager.listen("wysiwygSetValueAfter.codeblock",function(){a.modifyCodeBlockForWysiwyg()});this.eventManager.listen("wysiwygProcessHTMLText.codeblock",function(c){return a._changePreToPreCode(c)})}},
{key:"prepareToPasteOnCodeblock",value:function(a){var c=this.wwe.getEditor().getDocument().createDocumentFragment();a=this.convertNodesToText(a);return a=a.replace(/\n$/,""),c.appendChild(document.createTextNode(a)),c}},{key:"convertNodesToText",value:function(c){for(var b="",d=c.shift();e.default.isTruthy(d);)d.childNodes&&a.default.isBlockNode(d)?b+=this.convertNodesToText(e.default.toArray(d.childNodes)):"BR"===d.nodeName?b+="\n":b+=d.textContent,d=c.shift();return b}},{key:"_copyCodeblockTypeFromRangeCodeblock",
value:function(c,b){b=a.default.getParentUntil(b.commonAncestorContainer,this.wwe.get$Body()[0]);"PRE"===a.default.getNodeName(b)&&(b=(0,n.default)(b).prop("attributes"),e.default.forEach(b,function(a){(0,n.default)(c).attr(a.name,a.value)}));return c}},{key:"_changePreToPreCode",value:function(a){return a.replace(/<pre( .*?)?>((.|\n)*?)<\/pre>/g,function(a,c,b){return"<pre><code"+(c||"")+">"+b+"</code></pre>"})}},{key:"modifyCodeBlockForWysiwyg",value:function(a){a||(a=this.wwe.get$Body());(0,n.default)(a).find("pre").each(function(a,
c){a=(0,n.default)(c);c=a.find("code").attr("data-language");var b=a.find("code").attr("data-backticks");1<a.children().length&&a.children().each(function(a,c){"DIV"!==c.nodeName&&"P"!==c.nodeName||(0,n.default)(c).find("br").length||(0,n.default)(c).append("\n")});a.find("br").replaceWith("\n");var e=a.text().replace(/\s+$/,"");a.empty();a.html(e?q(e):d);c&&(a.attr("data-language",c),a.addClass("lang-"+c));b&&a.attr("data-backticks",b);a.attr("data-te-codeblock","")})}},{key:"_onBackspaceKeyEventHandler",
value:function(a,c){var b=!0,d=this.wwe.getEditor(),e=c.commonAncestorContainer;if(this._isCodeBlockFirstLine(c)&&!this._isFrontCodeblock(c))this._removeCodeblockFirstLine(e),c.collapse(!0),b=!1;else if(c.collapsed&&this._isEmptyLine(e)&&this._isBetweenSameCodeblocks(e)){b=e.previousSibling;var h=e.nextSibling,f=b.textContent.length;d.saveUndoState(c);e.parentNode.removeChild(e);this._mergeCodeblocks(b,h);c.setStart(b.childNodes[0],f);c.collapse(!0);b=!1}return b||(d.setSelection(c),a.preventDefault()),
b}},{key:"_isEmptyLine",value:function(a){var b=a.childNodes;b=c?""===a.textContent:1===b.length&&"BR"===b[0].nodeName;return"DIV"===a.nodeName&&b}},{key:"_isBetweenSameCodeblocks",value:function(c){var b=c.previousSibling;c=c.nextSibling;return"PRE"===a.default.getNodeName(b)&&"PRE"===a.default.getNodeName(c)&&b.getAttribute("data-language")===c.getAttribute("data-language")}},{key:"_mergeCodeblocks",value:function(a,c){a.childNodes[0].textContent+="\n"+c.textContent;c.parentNode.removeChild(c)}},
{key:"_isCodeBlockFirstLine",value:function(a){return this.isInCodeBlock(a)&&a.collapsed&&0===a.startOffset}},{key:"_isFrontCodeblock",value:function(c){return(c=a.default.getParentUntil(c.startContainer,this.wwe.getEditor().getRoot()).previousSibling)&&"PRE"===c.nodeName}},{key:"_removeCodeblockFirstLine",value:function(a){var c=this.wwe.getEditor(),b="PRE"===a.nodeName?a:a.parentNode,e=b.textContent.replace(r,"");c.modifyBlocks(function(){var a=c.getDocument().createDocumentFragment(),h=e.split("\n"),
f=document.createElement("div"),l=h.shift();if(f.innerHTML=""+l+d,a.appendChild(f),h.length)f=b.cloneNode(),f.textContent=h.join("\n"),a.appendChild(f);return a})}},{key:"isInCodeBlock",value:function(a){var c=void 0;return c=a.collapsed?a.startContainer:a.commonAncestorContainer,!!(0,n.default)(c).closest("pre").length}},{key:"destroy",value:function(){var a=this;this.eventManager.removeEventHandler("wysiwygSetValueAfter.codeblock");this.eventManager.removeEventHandler("wysiwygProcessHTMLText.codeblock");
e.default.forEach(this._keyEventHandlers,function(c,b){return a.wwe.removeKeyEventHandler(b,c)})}}]),b}();p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}
Object.defineProperty(p,"__esModule",{value:!0});var m=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),n=function K(a,c,b){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,c);if(void 0===d)return a=Object.getPrototypeOf(a),null===a?void 0:K(a,c,b);if("value"in d)return d.value;c=d.get;
if(void 0!==c)return c.call(b)};b=f(0);var e=k(b);b=f(1);var a=k(b);b=f(8);b=k(b);var c=f(18),d=k(c);c=f(11);var h=k(c);c=f(42);var r=k(c);f=f(43);var l=k(f);f=function(c){function b(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d=(b.__proto__||Object.getPrototypeOf(b)).call(this,{tagName:"div",className:"tui-editor-defaultUI-toolbar"});if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
d=!d||"object"!=typeof d&&"function"!=typeof d?this:d;return Object.defineProperty(d,"_items",{enumerable:!0,writable:!0,value:[]}),d._eventManager=a,d.setItems(c),d._initEvent(a),d}return q(b,c),m(b,[{key:"_initEvent",value:function(a){var c=this;a.listen("stateChange",function(a){c._items.forEach(function(c){c._state&&(a[c._state]?c.$el.addClass("active"):c.$el.removeClass("active"))})});a.listen("changePreviewTabPreview",function(){return c.disableAllButton()});a.listen("changePreviewTabWrite",
function(){return c.enableAllButton()});a.listen("changeMode",function(){return c.enableAllButton()})}},{key:"disableAllButton",value:function(){this._items.forEach(function(a){a instanceof d.default&&a.disable()})}},{key:"enableAllButton",value:function(){this._items.forEach(function(a){a instanceof d.default&&a.enable()})}},{key:"getItems",value:function(){return this._items.slice(0)}},{key:"getItem",value:function(a){return this._items[a]}},{key:"setItems",value:function(a){this.removeAllItems();
a.forEach(this.addItem.bind(this))}},{key:"addItem",value:function(a){this.insertItem(this._items.length,a)}},{key:"insertItem",value:function(c,b){var d=this;a.default.isString(b)?b=l.default.create(b):a.default.isString(b.type)&&(b=l.default.create(b.type,b.options));var e=this.$el.children();0<=c&&c<e.length?(b.$el.insertBefore(e.eq(c)),this._items.splice(c,0,b)):(b.$el.appendTo(this.$el),this._items.push(b));b.onCommandHandler=function(a,c){return d._eventManager.emit("command",c)};b.onEventHandler=
function(a,c){return d._eventManager.emit(c)};b.on("command",b.onCommandHandler);b.on("event",b.onEventHandler)}},{key:"indexOfItem",value:function(c){var b=void 0;c instanceof h.default?b=this._items.indexOf(c):a.default.isString(c)&&(b=this._items.map(function(a){return a.getName()}).indexOf(c));return b}},{key:"removeItem",value:function(a){var c=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],b=void 0,d=void 0;return b=a instanceof h.default?this.indexOfItem(a):a,0<=b&&(d=this._items.splice(b,
1)[0]),d&&(c?d.destroy():(d.off("command",d.onCommandHandler),d.off("event",d.onEventHandler),d.$el.detach())),d}},{key:"removeAllItems",value:function(){for(;this._items&&0<this._items.length;)this.removeItem(0)}},{key:"destroy",value:function(){this.removeAllItems();n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this)}},{key:"addButton",value:function(c,b){if(a.default.isArray(c))for(var d=c.length-1;0<=d;--d)a.default.isNumber(b)?this._addButton(c[d],b):this._addButton(c);
else this._addButton(c,b)}},{key:"_addButton",value:function(c,b){c=this._setButton(c,b).$el;a.default.isNumber(b)?this.$el.find("."+d.default.className).eq(b-1).before(c):this.$el.append(c)}},{key:"addDivider",value:function(){var a=(0,e.default)('<div class="'+r.default.className+'"></div>');return this.$el.append(a),a}},{key:"_setButton",value:function(c,b){var e=this._eventManager;return c instanceof d.default||(c=new d.default(c)),c.on("command",function(a,c){return e.emit("command",c)}),c.on("event",
function(a,c){return e.emit(c)}),a.default.isNumber(b)?this._items.splice(b,0,c):this._items.push(c),c}}]),b}(b.default);p.default=f},function(b,p,f){function k(b,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(b,f):b.__proto__=f)}Object.defineProperty(p,"__esModule",
{value:!0});b=f(11);b=function(b){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var b=(f.__proto__||Object.getPrototypeOf(f)).call(this,{name:f.name,tagName:"div",className:f.className});if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?this:b}return k(f,b),f}((b&&b.__esModule?b:{default:b}).default);Object.defineProperty(b,"name",{enumerable:!0,writable:!0,
value:"divider"});Object.defineProperty(b,"className",{enumerable:!0,writable:!0,value:"tui-toolbar-divider"});p.default=b},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){return b&&a(c.prototype,b),e&&a(c,e),c}}();b=f(11);var m=
k(b);b=f(76);var n=k(b);b=f(42);var e=k(b);f=f(3);var a=k(f);f=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");}return q(c,null,[{key:"create",value:function(c,b){switch(c){case "heading":c=new n.default({name:"heading",className:"tui-heading",event:"openHeadingSelect",tooltip:a.default.get("Headings")});break;case "bold":c=new n.default({name:"bold",className:"tui-bold",command:"Bold",tooltip:a.default.get("Bold"),state:"bold"});break;case "italic":c=
new n.default({name:"italic",className:"tui-italic",command:"Italic",tooltip:a.default.get("Italic"),state:"italic"});break;case "strike":c=new n.default({name:"strike",className:"tui-strike",command:"Strike",tooltip:a.default.get("Strike"),state:"strike"});break;case "hr":c=new n.default({name:"hr",className:"tui-hrline",command:"HR",tooltip:a.default.get("Line")});break;case "quote":c=new n.default({name:"quote",className:"tui-quote",command:"Blockquote",tooltip:a.default.get("Blockquote"),state:"quote"});
break;case "ul":c=new n.default({name:"ul",className:"tui-ul",command:"UL",tooltip:a.default.get("Unordered list")});break;case "ol":c=new n.default({name:"ol",className:"tui-ol",command:"OL",tooltip:a.default.get("Ordered list")});break;case "task":c=new n.default({name:"task",className:"tui-task",command:"Task",tooltip:a.default.get("Task")});break;case "table":c=new n.default({name:"table",className:"tui-table",event:"openPopupAddTable",tooltip:a.default.get("Insert table")});break;case "image":c=
new n.default({name:"image",className:"tui-image",event:"openPopupAddImage",tooltip:a.default.get("Insert image"),state:""});break;case "link":c=new n.default({name:"link",className:"tui-link",event:"openPopupAddLink",tooltip:a.default.get("Insert link")});break;case "code":c=new n.default({name:"code",className:"tui-code",command:"Code",tooltip:a.default.get("Code"),state:"code"});break;case "codeblock":c=new n.default({name:"codeblock",className:"tui-codeblock",command:"CodeBlock",tooltip:a.default.get("Insert CodeBlock"),
state:"codeBlock"});break;case "indent":c=new n.default({name:"indent",className:"tui-indent",command:"Indent",tooltip:a.default.get("Indent")});break;case "outdent":c=new n.default({name:"outdent",className:"tui-outdent",command:"Outdent",tooltip:a.default.get("Outdent")});break;case "divider":c=new e.default;break;case "button":c=new n.default(b);break;default:c=new m.default(b)}return c}}]),c}();p.default=f},function(b,p,f){function k(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+
typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,a,c){return a&&b(e.prototype,a),c&&b(e,c),e}}(),m=(b=f(0))&&b.__esModule?
b:{default:b};f=f(8);f=function(b){function e(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var c=(e.__proto__||Object.getPrototypeOf(e)).call(this,{tagName:"div",className:"te-tab"});if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!=typeof c&&"function"!=typeof c?this:c;return c.sections=a.sections,c._$activeButton=null,c._render(a),c._initEvent(a),
c}return k(e,b),q(e,[{key:"_initEvent",value:function(a){(a=a.onItemClick)&&this.on("itemClick",a);this.on("click button",this._onTabButton.bind(this))}},{key:"_render",value:function(a){var c=a.items;a=a.initName;for(var b=[],e=0,f=c.length;e<f;e+=1)b.push('<button type="button" data-index="'+e+'">'+c[e]+"</button>");this.$el.html(b.join(""));this.activate(a)}},{key:"activate",value:function(a){a=this.$el.find('button:contains("'+a+'")');this._activateTabByButton(a)}},{key:"_onTabButton",value:function(a){a=
(0,m.default)(a.target);this._activateTabByButton(a);this.trigger("itemClick",a.text())}},{key:"_activateTabByButton",value:function(a){this._isActivatedButton(a)||this._updateClassByButton(a)}},{key:"_updateClassByButton",value:function(a){if(this._$activeButton){var c=this._$activeButton.attr("data-index");this._$activeButton.removeClass("te-tab-active");this.sections&&this.sections[c].removeClass("te-tab-active")}a.addClass("te-tab-active");this._$activeButton=a;a=a.attr("data-index");this.sections&&
this.sections[a].addClass("te-tab-active")}},{key:"_isActivatedButton",value:function(a){return this._$activeButton&&this._$activeButton.text()===a.text()}}]),e}((f&&f.__esModule?f:{default:f}).default);p.default=f},function(b,p,f){var k=(p=f(0))&&p.__esModule?p:{default:p},q=f(46);k.default.fn.tuiEditor=function(){var b,f=this.get(0);if(f){var e=arguments.length;var a=Array(e);for(b=0;b<e;b++)a[b]=arguments[b];if(e=a[0]||{},b=k.default.data(f,"tuiEditor")){if("string"==typeof e){var c;return(c=b)[e].apply(c,
a.slice(1))}}else e.el=f,b=q.factory(e),k.default.data(f,"tuiEditor",b)}return this};b.exports=q},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}var q=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),m=f(0),n=k(m),e=f(1),a=k(e),c=f(18),d=k(c),h=f(47),r=k(h),l=f(12),v=k(l),C=f(57),E=k(C),
H=f(71),t=k(H),V=f(15),x=k(V),w=f(2),y=k(w),z=f(16),A=k(z),B=f(10),ha=k(B),ua=f(40),T=k(ua),I=f(17),bb=k(I),Wa=f(33),la=k(Wa),Xa=f(3),va=k(Xa),wa=f(72),Q=k(wa),Vb=f(4),Pa=k(Vb),Wb=f(38),Xb=k(Wb),J=f(39),Ba=k(J),Ya=f(7),Ia=k(Ya),U=f(90),ea=k(U),eb=f(91),tb=k(eb),D=f(92),M=k(D),lb=f(93),xa=k(lb),Z=f(94),nb=k(Z),O=f(95),sc=k(O),Cb=f(96),qc=k(Cb),db=f(97),Eb=k(db),Yb=f(98),mb=k(Yb),vb=f(99),Gb=k(vb),Ca=f(100),$b=k(Ca),Za=f(101),wb=k(Za),sa=f(102),ma=k(sa),Ka=f(103),ra=k(Ka),Ja=f(104),Ea=k(Ja),fb=f(105),
$a=k(fb),Ib=f(106),La=k(Ib),Zb=f(107),Ra=k(Zb),ta=f(108),gb=k(ta),X=f(109),Kb=k(X),Lb=f(110),zb=k(Lb),bc=f(111),Rc=k(bc),Sc=f(112),Tc=k(Sc),ob=f(113),cc=k(ob),yb=f(114),Vc=k(yb),fa=f(115),Hb=k(fa),dc=f(116),ub=k(dc),vc=f(117),Fb=k(vc),wc=f(118),F=k(wc),zc=f(119),ec=k(zc),hb=f(120),Sa=k(hb),Jb=f(121),ac=k(Jb),Ma=f(122),ab=k(Ma),Mb=f(123),xb=k(Mb),Nb=f(124),ba=k(Nb),Fa=f(125),Ac=k(Fa),Cd=f(126),Dd=k(Cd),cb=f(127),rc=k(cb),Db=f(128),tc=k(Db),uc=f(129),rb=k(uc);f(130);f(131);f(132);f(133);f(134);f(135);
f(136);f(137);f(138);f(139);f(140);f(141);f(142);f(143);f(144);f(145);f(146);f(147);var sb=[],Qa=["rel","target","contenteditable","hreflang","type"],Da=function(){function c(b){var d=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");if(this.initialHtml=b.el.innerHTML,b.el.innerHTML="",this.options=n.default.extend({previewStyle:"tab",initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en_US",useDefaultHTMLSanitizer:!0,useCommandShortcut:!0,codeBlockLanguages:Ya.CodeBlockManager.getHighlightJSLanguages(),
usageStatistics:!0,toolbarItems:"heading bold italic strike divider hr quote divider ul ol task indent outdent divider table image link divider code codeblock".split(" "),hideModeSwitch:!1,customConvertor:null},b),this.eventManager=new x.default,this.importManager=new ha.default(this.eventManager),this.commandManager=new y.default(this,{useCommandShortcut:this.options.useCommandShortcut}),this.options.customConvertor?this.convertor=new this.options.customConvertor(this.eventManager):this.convertor=
new bb.default(this.eventManager),this.options.useDefaultHTMLSanitizer&&this.convertor.initHtmlSanitizer(),this.options.hooks&&a.default.forEach(this.options.hooks,function(a,c){return d.addHook(c,a)}),this.options.events&&a.default.forEach(this.options.events,function(a,c){return d.on(c,a)}),this.layout=new t.default(b,this.eventManager),this.i18n=va.default,this.i18n.setCode(this.options.language),this.setUI(this.options.UI||new Q.default(this)),this.mdEditor=r.default.factory(this.layout.getMdEditorContainerEl(),
this.eventManager,this.options),this.preview=new v.default(this.layout.getPreviewEl(),this.eventManager,this.convertor,!1,this.options.previewDelayTime),this.wwEditor=E.default.factory(this.layout.getWwEditorContainerEl(),this.eventManager),this.toMarkOptions=null,this.options.linkAttribute)b=this._sanitizeLinkAttribute(this.options.linkAttribute),this.convertor.setLinkAttribute(b),this.wwEditor.setLinkAttribute(b);this.changePreviewStyle(this.options.previewStyle);this.changeMode(this.options.initialEditType,
!0);this.minHeight(this.options.minHeight);this.height(this.options.height);this.setValue(this.options.initialValue,!1);this.options.placeholder&&this.setPlaceholder(this.options.placeholder);this.options.initialValue||this.setHtml(this.initialHtml,!1);A.default.applyExtension(this,this.options.exts);this.eventManager.emit("load",this);sb.push(this);this._addDefaultCommands();this.options.usageStatistics&&a.default.sendHostname("editor","UA-129966929-1")}return q(c,[{key:"_sanitizeLinkAttribute",
value:function(c){var b={};return Qa.forEach(function(d){a.default.isUndefined(c[d])||(b[d]=c[d])}),b}},{key:"changePreviewStyle",value:function(a){this.layout.changePreviewStyle(a);this.mdPreviewStyle=a;this.eventManager.emit("changePreviewStyle",a);this.eventManager.emit("previewNeedsRefresh")}},{key:"exec",value:function(){var a;(a=this.commandManager).exec.apply(a,arguments)}},{key:"_addDefaultCommands",value:function(){this.addCommand(ea.default);this.addCommand(tb.default);this.addCommand(xa.default);
this.addCommand(nb.default);this.addCommand(sc.default);this.addCommand(qc.default);this.addCommand(Eb.default);this.addCommand(mb.default);this.addCommand(Gb.default);this.addCommand($b.default);this.addCommand(wb.default);this.addCommand(ma.default);this.addCommand(ra.default);this.addCommand(Ea.default);this.addCommand($a.default);this.addCommand(La.default);this.addCommand(M.default);this.addCommand(Ra.default);this.addCommand(gb.default);this.addCommand(zb.default);this.addCommand(ub.default);
this.addCommand(Fb.default);this.addCommand(Rc.default);this.addCommand(Tc.default);this.addCommand(cc.default);this.addCommand(Vc.default);this.addCommand(Hb.default);this.addCommand(Ac.default);this.addCommand(Dd.default);this.addCommand(rc.default);this.addCommand(F.default);this.addCommand(ec.default);this.addCommand(Sa.default);this.addCommand(ac.default);this.addCommand(ab.default);this.addCommand(xb.default);this.addCommand(ba.default);this.addCommand(tc.default);this.addCommand(rb.default);
this.addCommand(Kb.default)}},{key:"addCommand",value:function(a,c){c?this.commandManager.addCommand(y.default.command(a,c)):this.commandManager.addCommand(a)}},{key:"afterAddedCommand",value:function(){this.eventManager.emit("afterAddedCommand",this)}},{key:"on",value:function(a,c){this.eventManager.listen(a,c)}},{key:"off",value:function(a){this.eventManager.removeEventHandler(a)}},{key:"addHook",value:function(a,c){this.eventManager.removeEventHandler(a);this.eventManager.listen(a,c)}},{key:"removeHook",
value:function(a){this.eventManager.removeEventHandler(a)}},{key:"getCodeMirror",value:function(){return this.mdEditor.getEditor()}},{key:"getSquire",value:function(){return this.wwEditor.getEditor()}},{key:"focus",value:function(){this.getCurrentModeEditor().focus()}},{key:"blur",value:function(){this.getCurrentModeEditor().blur()}},{key:"moveCursorToEnd",value:function(){this.getCurrentModeEditor().moveCursorToEnd()}},{key:"moveCursorToStart",value:function(){this.getCurrentModeEditor().moveCursorToStart()}},
{key:"setMarkdown",value:function(a){var c=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];a=a||"";this.isMarkdownMode()?this.mdEditor.setValue(a,c):this.wwEditor.setValue(this.convertor.toHTML(a),c);this.eventManager.emit("setMarkdownAfter",a)}},{key:"setHtml",value:function(a){var c=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(a=a||"",this.wwEditor.setValue(a,c),this.isMarkdownMode()){var b=this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions);this.mdEditor.setValue(b,
c);this.eventManager.emit("setMarkdownAfter",b)}}},{key:"setValue",value:function(a){this.setMarkdown(a,!(1<arguments.length&&void 0!==arguments[1])||arguments[1])}},{key:"getMarkdown",value:function(){return this.isMarkdownMode()?this.mdEditor.getValue():this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions)}},{key:"getHtml",value:function(){return this.isWysiwygMode()&&this.mdEditor.setValue(this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions)),this.convertor.toHTML(this.mdEditor.getValue())}},
{key:"getValue",value:function(){return this.getMarkdown()}},{key:"insertText",value:function(a){this.isMarkdownMode()?this.mdEditor.replaceSelection(a):this.wwEditor.insertText(a)}},{key:"addWidget",value:function(a,c,b,d){this.getCurrentModeEditor().addWidget(a,c,b,d)}},{key:"height",value:function(c){return a.default.isExisty(c)&&("auto"===c?((0,n.default)(this.options.el).addClass("auto-height"),this.minHeight(this.minHeight())):((0,n.default)(this.options.el).removeClass("auto-height"),this.minHeight(c)),
a.default.isNumber(c)&&(c+="px"),this.options.el.style.height=c,this._height=c),this._height}},{key:"minHeight",value:function(c){if(a.default.isExisty(c)){var b=this._ui.getEditorHeight(),d=this._ui.getEditorSectionHeight();b-=d;this._minHeight=c;c=parseInt(c,10);c=Math.max(c-b,0);this.wwEditor.setMinHeight(c);this.mdEditor.setMinHeight(c);this.preview.setMinHeight(c)}return this._minHeight}},{key:"getCurrentModeEditor",value:function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor}},
{key:"isMarkdownMode",value:function(){return"markdown"===this.currentMode}},{key:"isWysiwygMode",value:function(){return"wysiwyg"===this.currentMode}},{key:"isViewer",value:function(){return!1}},{key:"getCurrentPreviewStyle",value:function(){return this.mdPreviewStyle}},{key:"changeMode",value:function(a,c){this.currentMode!==a&&(this.eventManager.emit("changeModeBefore",this.currentMode),this.currentMode=a,this.isWysiwygMode()?(this.layout.switchToWYSIWYG(),this.wwEditor.setValue(this.convertor.toHTML(this.mdEditor.getValue()),
!c),this.eventManager.emit("changeModeToWysiwyg")):(this.layout.switchToMarkdown(),this.mdEditor.resetState(),this.mdEditor.setValue(this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions),!c),this.getCodeMirror().refresh(),this.eventManager.emit("changeModeToMarkdown")),this.eventManager.emit("changeMode",a),c||this.focus())}},{key:"remove",value:function(){var a=this,c=sb.length-1;this.wwEditor.remove();this.mdEditor.remove();this.layout.remove();this.preview.remove();this.getUI()&&
this.getUI().remove();this.eventManager.emit("removeEditor");this.eventManager.events.forEach(function(c,b){a.off(b)});for(this.eventManager=null;0<=c;--c)sb[c]===this&&sb.splice(c,1)}},{key:"hide",value:function(){this.eventManager.emit("hide",this)}},{key:"show",value:function(){this.eventManager.emit("show",this);this.getCodeMirror().refresh()}},{key:"scrollTop",value:function(a){return this.getCurrentModeEditor().scrollTop(a)}},{key:"setUI",value:function(a){this._ui=a}},{key:"getUI",value:function(){return this._ui}},
{key:"reset",value:function(){this.wwEditor.reset();this.mdEditor.reset()}},{key:"getRange",value:function(){return this.getCurrentModeEditor().getRange()}},{key:"getTextObject",value:function(a){return this.getCurrentModeEditor().getTextObject(a)}},{key:"getSelectedText",value:function(){var a=this.getRange();return this.getTextObject(a).getTextContent()||""}},{key:"setPlaceholder",value:function(a){this.mdEditor.setPlaceholder(a);this.wwEditor.setPlaceholder(a)}}],[{key:"getInstances",value:function(){return sb}},
{key:"defineExtension",value:function(a,c){A.default.defineExtension(a,c)}},{key:"factory",value:function(a){return a.viewer?new la.default(a):new c(a)}}]),c}();Da.isViewer=!1;Da.i18n=va.default;Da.domUtils=Pa.default;Da.codeBlockManager=Ia.default;Da.Button=d.default;Da.WwCodeBlockManager=T.default;Da.WwTableManager=Xb.default;Da.WwTableSelectionManager=Ba.default;Da.CommandManager=y.default;Da.markdownitHighlight=bb.default.getMarkdownitHighlightRenderer();Da.markdownit=bb.default.getMarkdownitRenderer();
b.exports=Da},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(p,"__esModule",{value:!0});var m=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=
c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),n=function K(a,c,b){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,c);if(void 0===d)return a=Object.getPrototypeOf(a),null===a?void 0:K(a,c,b);if("value"in d)return d.value;c=d.get;if(void 0!==c)return c.call(b)};b=f(1);var e=k(b);b=f(36);b=k(b);var a=f(19);a=k(a);var c=f(55),d=k(c);c=f(37);var h=
k(c);f=f(56);var r=k(f),l=a.default.getSharedInstance();f=function(a){function c(a,b,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a.get(0),{mode:"gfm",dragDrop:!0,allowDropFileTypes:["image"],extraKeys:{Enter:"newlineAndIndentContinueMarkdownList",Tab:"indentOrderedList","Shift-Tab":"indentLessOrderedList"},viewportMargin:e&&"auto"===e.height?1/0:10});if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!=typeof a&&"function"!=typeof a?this:a;return a.eventManager=b,a.componentManager=new h.default(a),a.componentManager.addManager(d.default),a._latestState=null,a._initEvent(),a}return q(c,a),m(c,[{key:"_initEvent",value:function(){var a=this;this.cm.getWrapperElement().addEventListener("click",function(){a.eventManager.emit("click",{source:"markdown"})});this.cm.on("beforeChange",function(c,b){"paste"===b.origin&&a.eventManager.emit("pasteBefore",{source:"markdown",data:b})});this.cm.on("change",
function(c,b){a._emitMarkdownEditorContentChangedEvent();a._emitMarkdownEditorChangeEvent(b)});this.cm.on("focus",function(){a.eventManager.emit("focus",{source:"markdown"})});this.cm.on("blur",function(){a.eventManager.emit("blur",{source:"markdown"})});this.cm.on("scroll",function(c,b){a.eventManager.emit("scroll",{source:"markdown",data:b})});this.cm.on("keydown",function(c,b){a.eventManager.emit("keydown",{source:"markdown",data:b});a.eventManager.emit("keyMap",{source:"markdown",keyMap:l.convert(b),
data:b})});this.cm.on("keyup",function(c,b){a.eventManager.emit("keyup",{source:"markdown",data:b})});this.cm.on("copy",function(c,b){a.eventManager.emit("copy",{source:"markdown",data:b})});this.cm.on("cut",function(c,b){a.eventManager.emit("cut",{source:"markdown",data:b})});this.cm.on("paste",function(c,b){a.eventManager.emit("paste",{source:"markdown",data:b})});this.cm.on("drop",function(c,b){b.preventDefault();a.eventManager.emit("drop",{source:"markdown",data:b})});this.cm.on("cursorActivity",
function(){var c=a.cm.getTokenAt(a.cm.getCursor()).state.base;c={bold:!!c.strong,italic:!!c.em,strike:!!c.strikethrough,code:0<c.code,codeBlock:-1===c.code,quote:!!c.quote,list:!!c.list,task:!!c.taskList,source:"markdown"};a._latestState&&!a._isStateChanged(a._latestState,c)||(a.eventManager.emit("stateChange",c),a._latestState=c)})}},{key:"setValue",value:function(a,b){n(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"setValue",this).call(this,a,b);this._emitMarkdownEditorContentChangedEvent()}},
{key:"getTextObject",value:function(a){return new r.default(this,a)}},{key:"_emitMarkdownEditorContentChangedEvent",value:function(){this.eventManager.emit("contentChangedFromMarkdown",this)}},{key:"_emitMarkdownEditorChangeEvent",value:function(a){"setValue"!==a.origin&&(a={source:"markdown"},this.eventManager.emit("changeFromMarkdown",a),this.eventManager.emit("change",a))}},{key:"_isStateChanged",value:function(a,c){var b=!1;return e.default.forEach(c,function(c,d){return!(b=a[d]!==c)}),b}},{key:"resetState",
value:function(){this._latestState=null}}],[{key:"factory",value:function(a,b,d){return new c(a,b,d)}}]),c}(b.default);p.default=f},function(b,p,f){function k(b,e,a,c){var d=void 0,h,f=a,l=c.getLine(b);do{var v=m.exec(l);if(d=v[1],a=v[4],v=v[5],(h=d.length)===e)c.replaceRange(""+d+f+a+v,{line:b,ch:0},{line:b,ch:l.length}),f+=1,b+=1;else{if(!(h>e))break;b=k(b,h,1,c)}l=c.getLine(b)}while(m.test(l));return b}var q=(b=f(6))&&b.__esModule?b:{default:b},m=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/;
q.default.commands.indentLessOrderedList=function(b){return b.getOption("disableInput")?q.default.Pass:(b.execCommand("indentLess"),b.execCommand("fixOrderedListNumber"),null)};q.default.commands.fixOrderedListNumber=function(b){if(b.getOption("disableInput"))return q.default.Pass;for(var e=b.listSelections(),a=0;a<e.length;a+=1){var c=e[a].head.line;for(var d=b,h=c,f=d.getLine(c);m.test(f);)--h,f=d.getLine(h);c=(c===h?h=-1:h+=1,h);0<=c&&(h=b.getLine(c),h=m.exec(h),k(c,h[1].length,parseInt(h[3],10),
b))}return null}},function(b,p,f){var k=(b=f(6))&&b.__esModule?b:{default:b};k.default.overlayMode=function(b,f,n){return{startState:function(){return{base:k.default.startState(b),overlay:k.default.startState(f),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(e){return{base:k.default.copyState(b,e.base),overlay:k.default.copyState(f,e.overlay),basePos:e.basePos,baseCur:null,overlayPos:e.overlayPos,overlayCur:null}},token:function(e,a){return(e!=a.streamSeen||
Math.min(a.basePos,a.overlayPos)<e.start)&&(a.streamSeen=e,a.basePos=a.overlayPos=e.start),e.start==a.basePos&&(a.baseCur=b.token(e,a.base),a.basePos=e.pos),e.start==a.overlayPos&&(e.pos=e.start,a.overlayCur=f.token(e,a.overlay),a.overlayPos=e.pos),e.pos=Math.min(a.basePos,a.overlayPos),null==a.overlayCur?a.baseCur:null!=a.baseCur&&a.overlay.combineTokens||n&&null==a.overlay.combineTokens?a.baseCur+" "+a.overlayCur:a.overlayCur},indent:b.indent&&function(e,a){return b.indent(e.base,a)},electricChars:b.electricChars,
innerMode:function(e){return{state:e.base,mode:b}},blankLine:function(e){b.blankLine&&b.blankLine(e.base);f.blankLine&&f.blankLine(e.overlay)}}}},function(b,p,f){var k=(b=f(6))&&b.__esModule?b:{default:b};k.default.defineMode("markdown",function(b,f){function m(a,c,b){return c.f=c.inline=b,b(a,c)}function e(b){if(b.linkTitle=!1,b.linkHref=!1,b.linkText=!1,b.em=!1,b.strong=!1,b.strikethrough=!1,b.quote=0,b.indentedCode=!1,b.f==c){var d=y;d||(d=k.default.innerMode(w,b.htmlState),d="xml"==d.mode.name&&
null===d.state.tagStart&&!d.state.context&&d.state.tokenize.isInText);d&&(b.f=l,b.block=a,b.htmlState=null)}return b.trailingSpace=0,b.trailingSpaceNewLine=!1,b.prevLine=b.thisLine,b.thisLine={stream:null},null}function a(a,c){var e=a.column()===c.indentation,l=c.prevLine.stream;var r=!l||!/\S/.test(l.string);var v=c.indentedCode,n=c.prevLine.hr,q=!1!==c.list,p=(c.listStack[c.listStack.length-1]||0)+3;c.indentedCode=!1;l=c.indentation;if(null===c.indentationDiff&&(c.indentationDiff=c.indentation,
q)){c.em=!1;c.strong=!1;c.code=!1;c.strikethrough=!1;for(c.list=null;l<c.listStack[c.listStack.length-1];)c.listStack.pop(),c.listStack.length?c.indentation=c.listStack[c.listStack.length-1]:c.list=!1;!1!==c.list&&(c.indentationDiff=l-c.listStack[c.listStack.length-1])}var C=!(r||n||c.prevLine.header||q&&v||c.prevLine.fencedCodeEnd),E=(!1===c.list||n||r)&&c.indentation<=p&&a.match(A);n=null;if(4<=c.indentationDiff&&(v||c.prevLine.fencedCodeEnd||c.prevLine.header||r))return a.skipToEnd(),c.indentedCode=
!0,G.code;if(a.eatSpace())return null;if(e&&c.indentation<=p&&(n=a.match(ua))&&6>=n[1].length)return c.quote=0,c.header=n[1].length,c.thisLine.header=!0,f.highlightFormatting&&(c.formatting="header"),c.f=c.inline,h(c);if(c.indentation<=p&&a.eat(">"))return c.quote=e?1:c.quote+1,f.highlightFormatting&&(c.formatting="quote"),a.eatSpace(),h(c);if(!E&&!c.setext&&e&&c.indentation<=p&&(n=a.match(B)))return e=n[1]?"ol":"ul",c.indentation=l+a.current().length,c.list=!0,c.quote=0,c.listStack.push(c.indentation),
f.taskLists&&a.match(ha,!1)&&(c.taskList=!0),c.f=c.inline,f.highlightFormatting&&(c.formatting=["list","list-"+e]),h(c);if(e&&c.indentation<=p&&(n=a.match(bb,!0))){c.quote=0;c.fencedEndRE=new RegExp(n[1]+"+ *$");if(a=f.fencedCodeBlockHighlighting)a=n[2],k.default.findModeByName&&(e=k.default.findModeByName(a))&&(a=e.mime||e.mimes[0]),a=k.default.getMode(b,a),a="null"==a.name?null:a;c=(c.localMode=a,c.localMode&&(c.localState=k.default.startState(c.localMode)),c.f=c.block=d,f.highlightFormatting&&
(c.formatting="code-block"),c.code=-1,h(c))}else c=c.setext||!(C&&q||c.quote||!1!==c.list||c.code||E||Wa.test(a.string))&&(n=a.lookAhead(1))&&(n=n.match(T))?(c.setext?(c.header=c.setext,c.setext=0,a.skipToEnd(),f.highlightFormatting&&(c.formatting="header")):(c.header="="==n[0].charAt(0)?1:2,c.setext=c.header),c.thisLine.header=!0,c.f=c.inline,h(c)):E?(a.skipToEnd(),c.hr=!0,c.thisLine.hr=!0,G.hr):"["===a.peek()?m(a,c,t):m(a,c,c.inline);return c}function c(c,b){var d=w.token(c,b.htmlState);if(!y){var e=
k.default.innerMode(w,b.htmlState);("xml"==e.mode.name&&null===e.state.tagStart&&!e.state.context&&e.state.tokenize.isInText||b.md_inside&&-1<c.current().indexOf(">"))&&(b.f=l,b.block=a,b.htmlState=null)}return d}function d(c,b){var d=b.listStack[b.listStack.length-1]||0,e=b.indentation<d;if(b.fencedEndRE&&b.indentation<=d+3&&(e||c.match(b.fencedEndRE))){f.highlightFormatting&&(b.formatting="code-block");var r;e||(r=h(b));b.localMode=b.localState=null;b.block=a;b.f=l;b.fencedEndRE=null;b.code=0;b.thisLine.fencedCodeEnd=
!0;e?(d=b.block,c=(b.f=b.block=d,d(c,b))):c=r;return c}return b.localMode?b.localMode.token(c,b.localState):(c.skipToEnd(),G.code)}function h(a){var c=[];if(a.formatting){c.push(G.formatting);"string"==typeof a.formatting&&(a.formatting=[a.formatting]);for(var b=0;b<a.formatting.length;b++)c.push(G.formatting+"-"+a.formatting[b]),"header"===a.formatting[b]&&c.push(G.formatting+"-"+a.formatting[b]+"-"+a.header),"quote"===a.formatting[b]&&(!f.maxBlockquoteDepth||f.maxBlockquoteDepth>=a.quote?c.push(G.formatting+
"-"+a.formatting[b]+"-"+a.quote):c.push("error"))}if(a.taskOpen)return c.push("meta"),c.length?c.join(" "):null;if(a.taskClosed)return c.push("property"),c.length?c.join(" "):null;if(a.linkHref?c.push(G.linkHref,"url"):(a.strong&&c.push(G.strong),a.em&&c.push(G.em),a.strikethrough&&c.push(G.strikethrough),a.emoji&&c.push(G.emoji),a.linkText&&c.push(G.linkText),a.code&&c.push(G.code),a.image&&c.push(G.image),a.imageAltText&&c.push(G.imageAltText,"link"),a.imageMarker&&c.push(G.imageMarker)),a.header&&
c.push(G.header,G.header+"-"+a.header),a.quote&&(c.push(G.quote),!f.maxBlockquoteDepth||f.maxBlockquoteDepth>=a.quote?c.push(G.quote+"-"+a.quote):c.push(G.quote+"-"+f.maxBlockquoteDepth)),!1!==a.list)(b=(a.listStack.length-1)%3)?1===b?c.push(G.list2):c.push(G.list3):c.push(G.list1);return a.trailingSpaceNewLine?c.push("trailing-space-new-line"):a.trailingSpace&&c.push("trailing-space-"+(a.trailingSpace%2?"a":"b")),c.length?c.join(" "):null}function r(a,c){if(a.match(I,!0))return h(c)}function l(a,
b){var d=b.text(a,b);if(void 0!==d)return d;if(b.list)return b.list=null,h(b);if(b.taskList)return" "===a.match(ha,!0)[1]?b.taskOpen=!0:b.taskClosed=!0,f.highlightFormatting&&(b.formatting="task"),b.taskList=!1,h(b);if(b.taskOpen=!1,b.taskClosed=!1,b.header&&a.match(/^#+$/,!0))return f.highlightFormatting&&(b.formatting="header"),h(b);d=a.next();if(b.linkTitle){b.linkTitle=!1;var e=d;"("===d&&(e=")");e=(e+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");if(a.match(new RegExp("^\\s*(?:[^"+e+"\\\\]+|\\\\\\\\|\\\\.)"+
e),!0))return G.linkHref}if("`"===d)return d=b.formatting,f.highlightFormatting&&(b.formatting="code"),a.eatWhile("`"),a=a.current().length,0!=b.code||b.quote&&1!=a?a==b.code?(a=h(b),b.code=0,a):(b.formatting=d,h(b)):(b.code=a,h(b));if(b.code)return h(b);if("\\"===d&&(a.next(),f.highlightFormatting))return d=h(b),b=G.formatting+"-escape",d?d+" "+b:b;if("!"===d&&a.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return b.imageMarker=!0,b.image=!0,f.highlightFormatting&&(b.formatting="image"),h(b);if("["===d&&b.imageMarker&&
a.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return b.imageMarker=!1,b.imageAltText=!0,f.highlightFormatting&&(b.formatting="image"),h(b);if("]"===d&&b.imageAltText)return f.highlightFormatting&&(b.formatting="image"),d=h(b),b.imageAltText=!1,b.image=!1,b.inline=b.f=q,d;if("["===d&&!b.image)return b.linkText&&a.match(/^.*?\]/)?h(b):(b.linkText=!0,f.highlightFormatting&&(b.formatting="link"),h(b));if("]"===d&&b.linkText)return f.highlightFormatting&&(b.formatting="link"),d=h(b),b.linkText=!1,b.inline=
b.f=a.match(/\(.*?\)| ?\[.*?\]/,!1)?q:l,d;if("<"===d&&a.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return b.f=b.inline=v,f.highlightFormatting&&(b.formatting="link"),d=h(b),d?d+=" ":d="",d+G.linkInline;if("<"===d&&a.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return b.f=b.inline=v,f.highlightFormatting&&(b.formatting="link"),d=h(b),d?d+=" ":d="",d+G.linkEmail;if(f.xml&&"<"===d&&a.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1))return d=a.string.indexOf(">",
a.pos),-1!=d&&/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(a.string.substring(a.start,d))&&(b.md_inside=!0),a.backUp(1),b.htmlState=k.default.startState(w),d=c,b.f=b.block=d,d(a,b);if(f.xml&&"<"===d&&a.match(/^\/\w*?>/))return b.md_inside=!1,"tag";if("*"===d||"_"===d){for(var r=1,m=1==a.pos?" ":a.string.charAt(a.pos-2);3>r&&a.eat(d);)r++;var n=a.peek()||" ",p=!/\s/.test(n)&&(!la.test(n)||/\s/.test(m)||la.test(m)),C=!/\s/.test(m)&&(!la.test(m)||/\s/.test(n)||la.test(n)),E=e=null;if(r%2&&(b.em||!p||
"*"!==d&&C&&!la.test(m)?b.em!=d||!C||"*"!==d&&p&&!la.test(n)||(e=!1):e=!0),1<r&&(b.strong||!p||"*"!==d&&C&&!la.test(m)?b.strong!=d||!C||"*"!==d&&p&&!la.test(n)||(E=!1):E=!0),null!=E||null!=e)return f.highlightFormatting&&(b.formatting=null==e?"strong":null==E?"em":"strong em"),!0===e&&(b.em=d),!0===E&&(b.strong=d),a=h(b),!1===e&&(b.em=!1),!1===E&&(b.strong=!1),a}else if(" "===d&&(a.eat("*")||a.eat("_"))){if(" "===a.peek())return h(b);a.backUp(1)}if(f.strikethrough)if("~"===d&&a.eatWhile(d)){if(b.strikethrough)return f.highlightFormatting&&
(b.formatting="strikethrough"),a=h(b),b.strikethrough=!1,a;if(a.match(/^[^\s]/,!1))return b.strikethrough=!0,f.highlightFormatting&&(b.formatting="strikethrough"),h(b)}else if(" "===d&&a.match(/^~~/,!0)){if(" "===a.peek())return h(b);a.backUp(2)}return f.emoji&&":"===d&&a.match(/^[a-z_\d+-]+:/)?(b.emoji=!0,f.highlightFormatting&&(b.formatting="emoji"),a=h(b),b.emoji=!1,a):(" "===d&&(a.match(/^ +$/,!1)?b.trailingSpace++:b.trailingSpace&&(b.trailingSpaceNewLine=!0)),h(b))}function v(a,c){return">"===
a.next()?(c.f=c.inline=l,f.highlightFormatting&&(c.formatting="link"),a=h(c),a?a+=" ":a="",a+G.linkInline):(a.match(/^[^>]+/,!0),G.linkInline)}function q(a,c){if(a.eatSpace())return null;a=a.next();return"("===a||"["===a?(c.f=c.inline=p("("===a?")":"]"),f.highlightFormatting&&(c.formatting="link-string"),c.linkHref=!0,h(c)):"error"}function p(a){return function(c,b){return c.next()===a?(b.f=b.inline=l,f.highlightFormatting&&(b.formatting="link-string"),c=h(b),b.linkHref=!1,c):(c.match(Xa[a]),b.linkHref=
!0,h(b))}}function t(a,c){return a.match(/^([^\]\\]|\\.)*\]:/,!1)?(c.f=K,a.next(),f.highlightFormatting&&(c.formatting="link"),c.linkText=!0,h(c)):m(a,c,l)}function K(a,c){return a.match(/^\]:/,!0)?(c.f=c.inline=x,f.highlightFormatting&&(c.formatting="link"),a=h(c),c.linkText=!1,a):(a.match(/^([^\]\\]|\\.)+/,!0),G.linkText)}function x(a,c){return a.eatSpace()?null:(a.match(/^[^\s]+/,!0),void 0===a.peek()?c.linkTitle=!0:a.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,
!0),c.f=c.inline=l,G.linkHref+" url")}var w=k.default.getMode(b,"text/html"),y="null"==w.name;void 0===f.highlightFormatting&&(f.highlightFormatting=!1);void 0===f.maxBlockquoteDepth&&(f.maxBlockquoteDepth=0);void 0===f.taskLists&&(f.taskLists=!1);void 0===f.strikethrough&&(f.strikethrough=!1);void 0===f.emoji&&(f.emoji=!1);void 0===f.fencedCodeBlockHighlighting&&(f.fencedCodeBlockHighlighting=!0);void 0===f.xml&&(f.xml=!0);void 0===f.tokenTypeOverrides&&(f.tokenTypeOverrides={});var G={header:"header",
code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"},z;for(z in G)G.hasOwnProperty(z)&&f.tokenTypeOverrides[z]&&(G[z]=f.tokenTypeOverrides[z]);var A=/^([*\-_])(?:\s*\1){2,}\s*$/,B=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,ha=/^\[(x| )\](?=\s)/i,
ua=f.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,T=/^ *(?:={1,}|-{1,})\s*$/,I=/^[^#!\[\]*_\\<>` "'(~:]+/,bb=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,Wa=/^\s*\[[^\]]+?\]:.*$/,la=/[!"#$%&'()*+,\-\.\/:;<=>?@\[\\\]^_`{|}~]/,Xa={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},va={startState:function(){return{f:a,prevLine:{stream:null},thisLine:{stream:null},block:a,htmlState:null,indentation:0,inline:l,text:r,formatting:!1,linkText:!1,
linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(a){return{f:a.f,prevLine:a.prevLine,thisLine:a.thisLine,block:a.block,htmlState:a.htmlState&&k.default.copyState(w,a.htmlState),indentation:a.indentation,localMode:a.localMode,localState:a.localMode?k.default.copyState(a.localMode,a.localState):null,inline:a.inline,text:a.text,formatting:!1,
linkText:a.linkText,linkTitle:a.linkTitle,linkHref:a.linkHref,code:a.code,em:a.em,strong:a.strong,strikethrough:a.strikethrough,emoji:a.emoji,header:a.header,setext:a.setext,hr:a.hr,taskList:a.taskList,list:a.list,listStack:a.listStack.slice(0),quote:a.quote,indentedCode:a.indentedCode,trailingSpace:a.trailingSpace,trailingSpaceNewLine:a.trailingSpaceNewLine,md_inside:a.md_inside,fencedEndRE:a.fencedEndRE}},token:function(a,b){if(b.formatting=!1,a!=b.thisLine.stream){if(b.header=0,b.hr=!1,a.match(/^\s*$/,
!0))return e(b),null;if(b.prevLine=b.thisLine,b.thisLine={stream:a},b.taskList=!1,b.trailingSpace=0,b.trailingSpaceNewLine=!1,!b.localState&&(b.f=b.block,b.f!=c)){var d=a.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(b.indentation=d,b.indentationDiff=null,0<d)return null}}return b.f(a,b)},innerMode:function(a){return a.block==c?{state:a.htmlState,mode:w}:a.localState?{state:a.localState,mode:a.localMode}:{state:a,mode:va}},indent:function(a,b,d){return a.block==c&&w.indent?w.indent(a.htmlState,
b,d):a.localState&&a.localMode.indent?a.localMode.indent(a.localState,b,d):k.default.Pass},blankLine:e,getType:h,closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return va},"xml");k.default.defineMIME("text/markdown","markdown");k.default.defineMIME("text/x-markdown","markdown")},function(b,p,f){var k=(b=f(6))&&b.__esModule?b:{default:b};k.default.defineMode("gfm",function(b,f){var m=0,e={taskLists:!0,strikethrough:!0,emoji:!0},a;for(a in f)e[a]=f[a];return e.name="markdown",k.default.overlayMode(k.default.getMode(b,
e),{startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(a){return{code:a.code,codeBlock:a.codeBlock,ateSpace:a.ateSpace}},token:function(a,b){if(b.combineTokens=null,b.codeBlock)return a.match(/^```+/)?(b.codeBlock=!1,null):(a.skipToEnd(),null);if(a.sol()&&(b.code=!1),a.sol()&&a.match(/^```+/))return a.skipToEnd(),b.codeBlock=!0,null;if("`"===a.peek()){a.next();var c=a.pos;a.eatWhile("`");a=1+a.pos-c;return b.code?a===m&&(b.code=!1):(m=a,b.code=!0),null}return b.code?
(a.next(),null):a.eatSpace()?(b.ateSpace=!0,null):(a.next(),null)},blankLine:function(a){return a.code=!1,null}})},"markdown");k.default.defineMIME("text/x-gfm","gfm")},function(b,p,f){var k=(b=f(6))&&b.__esModule?b:{default:b},q=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,m=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,n=/[*+-]\s/;k.default.commands.indentOrderedList=function(b){if(b.getOption("disableInput"))return k.default.Pass;for(var a=b.listSelections(),c=0;c<a.length;c++){var d=
a[c].head;d=b.getLine(d.line).substr(0,d.ch);q.test(d)||b.somethingSelected()?b.indentSelection("add"):b.execCommand("insertSoftTab")}b.execCommand("fixOrderedListNumber")};k.default.commands.newlineAndIndentContinueMarkdownList=function(b){if(b.getOption("disableInput"))return k.default.Pass;for(var a=b.listSelections(),c=[],d=0;d<a.length;d++){var e=a[d].head,f=b.getStateAfter(e.line),l=!1!==f.list,v=0!==f.quote,p=b.getLine(e.line);f=q.exec(p);var E=/^\s*$/.test(p.slice(0,e.ch));if(!a[d].empty()||
!l&&!v||!f||E)return void b.execCommand("newlineAndIndent");if(m.test(p))/>\s*$/.test(p)||b.replaceRange("",{line:e.line,ch:0},{line:e.line,ch:e.ch+1}),c[d]="\n";else if(l=f[1],v=f[5],f=(p=!(n.test(f[2])||0<=f[2].indexOf(">")))?parseInt(f[3],10)+1+f[4]:f[2].replace("x"," "),c[d]="\n"+l+f+v,p)a:{f=b;e=e.line;v=l=0;p=q.exec(f.getLine(e));E=p[1];do{l+=1;var t=e+l,K=f.getLine(t),w=q.exec(K);if(w){var x=w[1],y=parseInt(p[3],10)+l-v,G=parseInt(w[3],10),z=G;if(E!==x||isNaN(G)){if(E.length>x.length)break a;
if(E.length<x.length&&1===l)break a;v+=1}else y===G&&(z=G+1),y>G&&(z=y+1),f.replaceRange(K.replace(q,x+z+w[4]+w[5]),{line:t,ch:0},{line:t,ch:K.length})}}while(w)}}b.replaceSelections(c)}},function(b,p,f){function k(b){return b.anchor.line===b.head.line&&b.anchor.ch===b.head.ch}function q(b,a,c,d){var e=b.getLine(c.line),f=b.getLine(c.line+d),l={anchor:a,head:c};b.replaceRange(f,{line:c.line,ch:0},{line:c.line,ch:e.length},"+input");b.replaceRange(e,{line:c.line+d,ch:0},{line:c.line+d,ch:f.length},
"+input");k(l)?b.setCursor({line:c.line+d,ch:c.ch}):b.setSelection({line:a.line+d,ch:a.ch},{line:c.line+d,ch:c.ch})}function m(b,a,c,d){var e=b.getRange({line:a.line,ch:0},{line:c.line,ch:b.getLine(c.line).length}),f=b.getLine((0<d?c:a).line+d);var l=0<d?a:c;b.replaceRange(f,{line:l.line,ch:0},{line:l.line,ch:b.getLine(l.line).length},"+input");b.replaceRange(e,{line:a.line+d,ch:0},{line:c.line+d,ch:b.getLine(c.line+d).length},"+input");b.setSelection({line:a.line+d,ch:a.ch},{line:c.line+d,ch:c.ch})}
var n=(b=f(6))&&b.__esModule?b:{default:b};n.default.commands.replaceLineTextToUpper=function(b){if(b.getOption("disableInput"))return n.default.Pass;for(var a=b.listSelections(),c=0;c<a.length;c++){var d=a[c],e=d.anchor,f=d.head;d.anchor.line===d.head.line&&0<f.line?q(b,e,f,-1):k(d)||(d=e.line<f.line?e.line:f.line,0<d&&m(b,e.line===d?e:f,e.line===d?f:e,-1))}};n.default.commands.replaceLineTextToLower=function(b){if(b.getOption("disableInput"))return n.default.Pass;for(var a=b.listSelections(),c=
0;c<a.length;c++){var d=a[c],e=d.anchor,f=d.head,l=f.line===b.lastLine();d.anchor.line!==d.head.line||l?k(d)||(l=e.line<f.line?e.line:f.line,d=e.line===l?e:f,e=e.line===l?f:e,e.line<b.lastLine()&&m(b,d,e,1)):q(b,e,f,1)}}},function(b,p,f){function k(a){a.state.placeholder&&(a.state.placeholder.parentNode.removeChild(a.state.placeholder),a.state.placeholder=null)}function q(a){k(a);var c=a.state.placeholder=document.createElement("pre");c.style.cssText="height: 0; overflow: visible";c.className="CodeMirror-placeholder";
var b=a.getOption("placeholder");"string"==typeof b&&(b=document.createTextNode(b));c.appendChild(b);a.display.lineSpace.insertBefore(c,a.display.lineSpace.firstChild)}function m(a){e(a)&&q(a)}function n(a){var c=a.getWrapperElement(),b=e(a);c.className=c.className.replace(" CodeMirror-empty","")+(b?" CodeMirror-empty":"");b?q(a):k(a)}function e(a){return 1===a.lineCount()&&""===a.getLine(0)}var a=(b=f(6))&&b.__esModule?b:{default:b};a.default.defineOption("placeholder","",function(c,b,e){e=e&&e!=
a.default.Init;b&&!e?(c.on("blur",m),c.on("change",n),c.on("swapDoc",n),n(c)):!b&&e&&(c.off("blur",m),c.off("change",n),c.off("swapDoc",n),k(c),e=c.getWrapperElement(),e.className=e.className.replace(" CodeMirror-empty",""));b&&!c.hasFocus()&&m(c)})},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,
b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),q=/^[ \t]*([-*]|[\d]+\.)( \[[ xX]])? /,m=/^[ \t]*([*-] |[\d]+\. )(\[[ xX]] )/,n=/^[ \t]*[-*] .*/,e=/^[ \t]*[\d]+\. \[[ xX]] .*/,a=/([*-] |[\d]+\. )/,c=/([-*] |[\d]+\. )(\[[ xX]] )/,d=/([-*]|[\d]+\.)( \[[ xX]])? /,h=/([-*])( \[[ xX]]) /,r=/([\d])+\.( \[[ xX]])? /,l=/^\|([-\s\w\d\t<>?!@#$%^&*()_=+\\\/'";: \r[\]]*\|+)+/i,v=/^#+\s/,C=/^ {0,3}(```|\||>)/;b=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.cm=a.getEditor();this.doc=this.cm.getDoc();this.name="list"}return k(b,[{key:"_createSortedLineRange",value:function(a){var c=a.from.line>a.to.line;return{start:c?a.to.line:a.from.line,end:c?a.from.line:a.to.line}}},{key:"_calculateOrdinalNumber",value:function(a){var c=1;for(--a;0<=a;--a){var b=this._getListDepth(a);if(1===b&&r.exec(this.doc.getLine(a))){c=parseInt(RegExp.$1,10)+1;break}if(0===b)break}return c}},{key:"_isListLine",value:function(a){return!!q.exec(this.doc.getLine(a))}},{key:"_isCanBeList",
value:function(a){a=this.doc.getLine(a);return!C.test(a)&&!l.test(a)&&!v.test(a)}},{key:"_getChangeFn",value:function(a){var c=this,b=void 0;switch(a){case "ol":case "ul":b=function(b){return c._changeToList(b,a)};break;case "task":b=function(a){return c._changeToTask(a)}}return b}},{key:"changeSyntax",value:function(a,c){var b=[],d=this._createSortedLineRange(a);a=d.start;d=d.end;for(c=this._getChangeFn(c);a<=d&&this._isCanBeList(a);a+=1)this._isListLine(a)||b.push(a),c(a);this._insertBlankLineForNewList(b);
this.cm.focus()}},{key:"_replaceLineText",value:function(a,c){this.doc.replaceRange(a,{line:c,ch:0})}},{key:"_changeToList",value:function(a,c){var b=this;this._isListLine(a)?this._changeSameDepthList(a,"ol"===c?function(a,c){b._replaceListTypeToOL(a,c)}:function(a){b._replaceListTypeToUL(a)}):this._replaceLineText("ol"===c?this._calculateOrdinalNumber(a)+". ":"* ",a)}},{key:"_changeToTask",value:function(b){m.exec(this.doc.getLine(b))?this._replaceLineTextByRegexp(b,c,"$1"):this._isListLine(b)?this._replaceLineTextByRegexp(b,
a,"$1[ ] "):this._replaceLineText("* [ ] ",b)}},{key:"_getListDepth",value:function(a){return this.doc.getLine(a)?this.doc.cm.getStateAfter(a).base.listStack.length:0}},{key:"_findSameDepthList",value:function(a,c,b){for(var d=this.doc.lineCount(),e=[],f;b?a<d-1:0<a;)if(a=b?a+1:a-1,(f=this._getListDepth(a))===c)e.push(a);else if(f<c)break;return e}},{key:"_changeSameDepthList",value:function(a,c){var b=this._getListDepth(a),d=this._findSameDepthList(a,b,!1).reverse();b=this._findSameDepthList(a,b,
!0);d.concat([a]).concat(b).forEach(function(a,b){c(a,b+1)})}},{key:"_replaceLineTextByRegexp",value:function(a,c,b){var d=this.doc.getLine(a),e={line:a,ch:0};a={line:a,ch:d.length};d=d.replace(c,b);this.doc.replaceRange(d,e,a)}},{key:"_replaceListTypeToUL",value:function(a){var c=this.doc.getLine(a);h.exec(c)?this._replaceLineTextByRegexp(a,h,"$1 "):r.exec(c)&&this._replaceLineTextByRegexp(a,r,"* ")}},{key:"_replaceListTypeToOL",value:function(a,c){var b=this.doc.getLine(a);n.exec(b)||e.exec(b)?
this._replaceLineTextByRegexp(a,d,c+". "):r.exec(b)&&parseInt(RegExp.$1,10)!==c&&this._replaceLineTextByRegexp(a,r,c+". ")}},{key:"_insertBlankLineForNewList",value:function(a){var c=a.length;if(c){var b=a[0];a=a[c-1];this._isNotBlankNotListLine(a+1)&&this.doc.replaceRange("\n",{line:a,ch:this.doc.getLine(a).length});0<b&&this._isNotBlankNotListLine(b-1)&&this.doc.replaceRange("\n",{line:b,ch:0})}}},{key:"_isNotBlankNotListLine",value:function(a){return!!this.doc.getLine(a)&&!this._isListLine(a)}}]),
b}();p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(b,f){for(var e=0;e<f.length;e++){var a=f[e];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(f,k,e){return k&&b(f.prototype,k),e&&b(f,e),f}}();b=function(){function b(f,k){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._mde=f;this.setRange(k||f.getRange())}return k(b,[{key:"_setStart",
value:function(b){this._start=b}},{key:"_setEnd",value:function(b){this._end=b}},{key:"setRange",value:function(b){this._setStart(b.start);this._setEnd(b.end)}},{key:"setEndBeforeRange",value:function(b){this._setEnd(b.start)}},{key:"expandStartOffset",value:function(){var b=this._start;0!==b.ch&&--b.ch}},{key:"expandEndOffset",value:function(){var b=this._end;b.ch<this._mde.getEditor().getDoc().getLine(b.line).length&&(b.ch+=1)}},{key:"getTextContent",value:function(){return this._mde.getEditor().getRange(this._start,
this._end)}},{key:"replaceContent",value:function(b){this._mde.getEditor().replaceRange(b,this._start,this._end,"+input")}},{key:"deleteContent",value:function(){this._mde.getEditor().replaceRange("",this._start,this._end,"+delete")}},{key:"peekStartBeforeOffset",value:function(b){b={line:this._start.line,ch:Math.max(this._start.ch-b,0)};return this._mde.getEditor().getRange(b,this._start)}}]),b}();p.default=b},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(p,
"__esModule",{value:!0});var q=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}();b=f(0);var m=k(b);b=f(1);var n=k(b);b=f(4);var e=k(b);b=f(58);var a=k(b);b=f(61);var c=k(b);b=f(62);var d=k(b);b=f(38);var h=k(b);b=f(39);var r=k(b);b=f(63);var l=k(b);b=f(64);var v=k(b);b=f(65);var C=k(b);b=f(40);var E=k(b);b=
f(66);var t=k(b);b=f(19);b=k(b);var w=f(68),x=k(w);w=f(37);var y=k(w);f=f(69);var z=k(f),G=b.default.getSharedInstance(),A=/<([a-z]+|h\d)>(<br>|<br \/>)<\/\1>/gi,B=/(?:<br>|<br \/>)<\/(.+?)>/gi,Ub=/\b(H[\d]|LI|P|BLOCKQUOTE|TD|PRE)\b/,ha=/^(TABLE|H[1-6])$/,ua="undefined"!=typeof MutationObserver;f=function(){function b(a,c){var d=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.componentManager=new y.default(this);this.eventManager=c;this.$editorContainerEl=
a;this._height=0;this._silentChange=!1;this._keyEventHandlers={};this._managers={};this._linkAttribute={};this._initEvent();this._initDefaultKeyEventHandler();this.debouncedPostProcessForChange=n.default.debounce(function(){return d.postProcessForChange()},0)}return q(b,[{key:"init",value:function(){var c=(0,m.default)("<div />");this.$editorContainerEl.append(c);this.editor=new t.default(c[0],{blockTag:"DIV",leafNodeNames:{HR:!1}});this.editor.blockCommandShortcuts();this._clipboardManager=new a.default(this);
this._initSquireEvent();this._clipboardManager.init();this.get$Body().addClass("tui-editor-contents");this.$editorContainerEl.css("position","relative");this._togglePlaceholder();this.codeBlockGadget=new z.default({eventManager:this.eventManager,container:this.$editorContainerEl,wysiwygEditor:this})}},{key:"_preprocessForInlineElement",value:function(a){return a.replace(/<br>( *)<img/g,"<br><br>$1<img")}},{key:"_initEvent",value:function(){var a=this;this.eventManager.listen("wysiwygSetValueBefore",
function(c){return a._preprocessForInlineElement(c)});this.eventManager.listen("wysiwygKeyEvent",function(c){return a._runKeyEventHandlers(c.data,c.keyMap)});this.eventManager.listen("wysiwygRangeChangeAfter",function(){return a.scrollIntoCursor()});this.eventManager.listen("contentChangedFromWysiwyg",function(){a._togglePlaceholder()})}},{key:"addKeyEventHandler",value:function(a,c){var b=this;c||(c=a,a="DEFAULT");n.default.isArray(a)||(a=[a]);a.forEach(function(a){b._keyEventHandlers[a]||(b._keyEventHandlers[a]=
[]);b._keyEventHandlers[a].push(c)})}},{key:"removeKeyEventHandler",value:function(a,c){c||(c=a,a="DEFAULT");var b=this._keyEventHandlers[a];b&&(this._keyEventHandlers[a]=b.filter(function(a){return a!==c}))}},{key:"_runKeyEventHandlers",value:function(a,c){var b=this.getRange(),d=void 0,e=void 0;(d=this._keyEventHandlers.DEFAULT)&&n.default.forEachArray(d,function(d){return e=d(a,b,c)});(d=this._keyEventHandlers[c])&&!1!==e&&n.default.forEachArray(d,function(d){return d(a,b,c)})}},{key:"_initSquireEvent",
value:function(){var a=this,c=this.getEditor(),b=!1;c.addEventListener("copy",function(c){a.eventManager.emit("copy",{source:"wysiwyg",data:c});n.default.debounce(function(){a.isEditorValid()&&a.eventManager.emit("copyAfter",{source:"wysiwyg",data:c})})()});c.addEventListener(n.default.browser.msie?"beforecut":"cut",function(c){a.eventManager.emit("cut",{source:"wysiwyg",data:c});n.default.debounce(function(){a.isEditorValid()&&a.eventManager.emit("cutAfter",{source:"wysiwyg",data:c})})()});c.addEventListener(n.default.browser.msie?
"beforepaste":"paste",function(c){a.eventManager.emit("paste",{source:"wysiwyg",data:c})});c.addEventListener("dragover",function(a){return a.preventDefault(),!1});c.addEventListener("drop",function(c){return c.preventDefault(),a.eventManager.emit("drop",{source:"wysiwyg",data:c}),!1});c.addEventListener("input",n.default.debounce(function(){if(a.isEditorValid()){if(a._silentChange)a._silentChange=!1;else{var c={source:"wysiwyg"};a.eventManager.emit("changeFromWysiwyg",c);a.eventManager.emit("change",
c);a.eventManager.emit("contentChangedFromWysiwyg",a)}a.getEditor().preserveLastLine()}},0));c.addEventListener("keydown",function(c){a.getEditor().getSelection().collapsed||(b=!0);a.eventManager.emit("keydown",{source:"wysiwyg",data:c});a._onKeyDown(c)});n.default.browser.firefox&&(c.addEventListener("keypress",function(c){var d=c.keyCode;if(13===d||9===d)a.getEditor().getSelection().collapsed||(b=!0),a.eventManager.emit("keydown",{source:"wysiwyg",data:c}),a._onKeyDown(c)}),c.addEventListener("keyup",
function(){var c=a.getRange();if(e.default.isTextNode(c.commonAncestorContainer)&&e.default.isTextNode(c.commonAncestorContainer.previousSibling)){var b=c.commonAncestorContainer.previousSibling.length,d=c.commonAncestorContainer;c.commonAncestorContainer.previousSibling.appendData(c.commonAncestorContainer.data);c.setStart(c.commonAncestorContainer.previousSibling,b+c.startOffset);c.collapse(!0);d.parentNode.removeChild(d);a.setRange(c);c.detach()}}));c.addEventListener("keyup",function(c){b&&(a.debouncedPostProcessForChange(),
b=!1);a.eventManager.emit("keyup",{source:"wysiwyg",data:c})});this.$editorContainerEl.on("scroll",function(c){a.eventManager.emit("scroll",{source:"wysiwyg",data:c})});c.addEventListener("click",function(c){a.eventManager.emit("click",{source:"wysiwyg",data:c})});c.addEventListener("mousedown",function(c){a.eventManager.emit("mousedown",{source:"wysiwyg",data:c})});c.addEventListener("mouseover",function(c){a.eventManager.emit("mouseover",{source:"wysiwyg",data:c})});c.addEventListener("mouseout",
function(c){a.eventManager.emit("mouseout",{source:"wysiwyg",data:c})});c.addEventListener("mouseup",function(c){a.eventManager.emit("mouseup",{source:"wysiwyg",data:c})});c.addEventListener("contextmenu",function(c){a.eventManager.emit("contextmenu",{source:"wysiwyg",data:c})});c.addEventListener("focus",function(){a.eventManager.emit("focus",{source:"wysiwyg"})});c.addEventListener("blur",function(){a.fixIMERange();a.eventManager.emit("blur",{source:"wysiwyg"})});c.addEventListener("pathChange",
function(c){c={bold:/(>B|>STRONG|^B$|^STRONG$)/.test(c.path),italic:/(>I|>EM|^I$|^EM$)/.test(c.path),strike:/(^S>|>S$|>S>|^S$)/.test(c.path),code:/CODE/.test(c.path),codeBlock:/PRE/.test(c.path),quote:/BLOCKQUOTE/.test(c.path),list:/LI(?!.task-list-item)/.test(a._getLastLiString(c.path)),task:/LI.task-list-item/.test(a._getLastLiString(c.path)),source:"wysiwyg"};a.eventManager.emit("stateChange",c)});c.addEventListener("willPaste",function(c){c.fragment&&a.eventManager.emit("willPaste",{source:"wysiwyg",
data:c})})}},{key:"_togglePlaceholder",value:function(){var a=this.getEditor();a.modifyDocument(function(){var c=a.getRoot();c.textContent||1<c.childNodes.length?c.classList.remove("tui-editor-contents-placeholder"):c.classList.add("tui-editor-contents-placeholder")})}},{key:"_getLastLiString",value:function(a){return(a=/LI[^UO]*$/.exec(a))?a[0]:""}},{key:"_onKeyDown",value:function(a){var c=G.convert(a);a.keyCode&&(this.eventManager.emit("keyMap",{source:"wysiwyg",keyMap:c,data:a}),a.defaultPrevented||
this.eventManager.emit("wysiwygKeyEvent",{keyMap:c,data:a}))}},{key:"_initDefaultKeyEventHandler",value:function(){var a=this;this.addKeyEventHandler("ENTER",function(c,b){a._isInOrphanText(b)&&a.defer(function(){a._wrapDefaultBlockToOrphanTexts();a.breakToNewDefaultBlock(b,"before")});a.defer(function(){return a.scrollIntoCursor()})});this.addKeyEventHandler("TAB",function(c){var b=a.getEditor(),d=b.getSelection(),f=d.collapsed&&a._isCursorNotInRestrictedAreaOfTabAction(b);d=!d.collapsed&&e.default.isTextNode(d.commonAncestorContainer);
return c.preventDefault(),!f&&!d||(b.insertPlainText("\u00a0\u00a0\u00a0\u00a0"),!1)});this.addKeyEventHandler("BACK_SPACE",function(c,b,d){return a._handleRemoveKeyEvent(c,b,d)});this.addKeyEventHandler("DELETE",function(c,b,d){return a._handleRemoveKeyEvent(c,b,d)})}},{key:"_handleRemoveKeyEvent",value:function(a,c,b){var d=this.getEditor();return this._isStartHeadingOrTableAndContainsThem(c)?(c="BACK_SPACE"===b?"backspace":"delete",d.removeAllFormatting(),d._keyHandlers[c](d,a,d.getSelection()),
d.removeLastUndoStack(),!1):!0}},{key:"_isStartHeadingOrTableAndContainsThem",value:function(a){var c=a.startContainer,b=a.startOffset,d=a.commonAncestorContainer;a=a.collapsed;var f=this.getEditor().getRoot();if(!a&&d===f){if(c===f)return ha.test(e.default.getChildNodeByOffset(c,b).nodeName);if(0===b)return ha.test(e.default.getParentUntil(c,f).nodeName)}return!1}},{key:"_wrapDefaultBlockToOrphanTexts",value:function(){this.get$Body().contents().filter(this.findTextNodeFilter).each(function(a,c){c.nextSibling&&
"BR"===c.nextSibling.tagName&&(0,m.default)(c.nextSibling).remove();(0,m.default)(c).wrap("<div />")})}},{key:"_isInOrphanText",value:function(a){return a.startContainer.nodeType===Node.TEXT_NODE&&a.startContainer.parentNode===this.get$Body()[0]}},{key:"_wrapDefaultBlockTo",value:function(a){this.saveSelection(a);this._joinSplitedTextNodes();this.restoreSavedSelection();a=this.getRange();var c=a.startContainer,b=a.startOffset,d=this.getEditor().createDefaultBlock([a.startContainer]),f=e.default.getChildNodeByOffset(a.startContainer,
a.startOffset);f?a.setStartBefore(f):a.selectNodeContents(a.startContainer);a.collapse(!0);a.insertNode(d);a.setStart(c,b);a.collapse(!0);this.setRange(a)}},{key:"findTextNodeFilter",value:function(){return this.nodeType===Node.TEXT_NODE}},{key:"_joinSplitedTextNodes",value:function(){var a=void 0,c=void 0,b=[];this.get$Body().contents().filter(this.findTextNodeFilter).each(function(d,e){a===e.previousSibling?(c.nodeValue+=e.nodeValue,b.push(e)):c=e;a=e});(0,m.default)(b).remove()}},{key:"saveSelection",
value:function(a){a||(a=this.getRange());this.getEditor()._saveRangeToBookmark(a)}},{key:"setSelectionByContainerAndOffset",value:function(a,c,b,d){var e=this.getEditor(),f=e.getSelection();return f.setStart(a,c),f.setEnd(b,d),e.setSelection(f),f}},{key:"restoreSavedSelection",value:function(){this.setRange(this.getEditor()._getRangeAndRemoveBookmark())}},{key:"reset",value:function(){this.setValue("")}},{key:"changeBlockFormatTo",value:function(a){this.getEditor().changeBlockFormatTo(a);this.eventManager.emit("wysiwygRangeChangeAfter",
this)}},{key:"makeEmptyBlockCurrentSelection",value:function(){var a=this;this.getEditor().modifyBlocks(function(c){return c.textContent||(c=a.getEditor().createDefaultBlock()),c})}},{key:"focus",value:function(){var a=this.scrollTop();this.editor.focus();a!==this.scrollTop()&&this.scrollTop(a)}},{key:"blur",value:function(){this.editor.blur()}},{key:"remove",value:function(){this.$editorContainerEl.off("scroll");this.getEditor().destroy();this.eventManager=this.$body=this.editor=null}},{key:"setHeight",
value:function(a){this._height=a;this.$editorContainerEl.css("overflow","auto");this.$editorContainerEl.css("height","100%");this.$editorContainerEl.parent().height(a);var c=parseInt(this.$editorContainerEl.css("padding-top"),10)-parseInt(this.$editorContainerEl.css("padding-bottom"),10),b=parseInt(this.get$Body().css("margin-top"),10)-parseInt(this.get$Body().css("margin-bottom"),10);this.get$Body().css("min-height",a-b-c+"px")}},{key:"setMinHeight",value:function(a){this.get$Body().get(0).style.minHeight=
a+"px"}},{key:"setPlaceholder",value:function(a){a&&this.getEditor().getRoot().setAttribute("data-placeholder",a)}},{key:"setLinkAttribute",value:function(a){this._linkAttribute=a}},{key:"getLinkAttribute",value:function(){return this._linkAttribute}},{key:"setValue",value:function(a){var c=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];a=this.eventManager.emitReduce("wysiwygSetValueBefore",a);this.editor.setHTML(a);this.eventManager.emit("wysiwygSetValueAfter",this);this.eventManager.emit("contentChangedFromWysiwyg",
this);c&&this.moveCursorToEnd();this.getEditor().preserveLastLine();this.getEditor().removeLastUndoStack();this.getEditor().saveUndoState()}},{key:"insertText",value:function(a){this.editor.insertPlainText(a)}},{key:"getValue",value:function(){this._prepareGetHTML();var a=this.editor.getHTML();return a=a.replace(A,function(a,c){return"li"===c?a:"td"===c||"th"===c?"<"+c+"></"+c+">":"<br />"}),a=a.replace(B,"</$1>"),a=a.replace(/<div[^>]*>/g,""),a=a.replace(/<\/div>/g,"<br />"),a=this.eventManager.emitReduce("wysiwygProcessHTMLText",
a)}},{key:"_prepareGetHTML",value:function(){var a=this;this.getEditor().modifyDocument(function(){a._joinSplitedTextNodes();a.eventManager.emit("wysiwygGetValueBefore",a)})}},{key:"postProcessForChange",value:function(){var a=this;this.isEditorValid()&&this.getEditor().modifyDocument(function(){a.eventManager.emit("wysiwygRangeChangeAfter",a)})}},{key:"readySilentChange",value:function(){ua&&!this.getEditor().isIgnoreChange()&&(this._silentChange=!0)}},{key:"getEditor",value:function(){return this.editor}},
{key:"replaceSelection",value:function(a,c){this.getEditor().replaceSelection(a,c)}},{key:"replaceRelativeOffset",value:function(a,c,b){this.getEditor().replaceRelativeOffset(a,c,b)}},{key:"addWidget",value:function(a,c,b,d){a=this.getEditor().getSelectionPosition(a,b,d);b=this.$editorContainerEl.offset();this.$editorContainerEl.append(c);(0,m.default)(c).css({position:"absolute",top:a.top-b.top+this.scrollTop(),left:a.left-b.left})}},{key:"get$Body",value:function(){return this.getEditor().get$Body()}},
{key:"hasFormatWithRx",value:function(a){return this.getEditor().getPath().match(a)}},{key:"breakToNewDefaultBlock",value:function(a,c){var b=this.editor.createDefaultBlock(),d=e.default.getChildNodeByOffset(a.startContainer,a.startOffset)||e.default.getChildNodeByOffset(a.startContainer,a.startOffset-1);d=e.default.getParentUntil(d,this.get$Body()[0]);"before"===c?(0,m.default)(d).before(b):(0,m.default)(d).after(b);a.setStart(b,0);a.collapse(!0);this.setRange(a)}},{key:"replaceContentText",value:function(a,
c,b){var d=(0,m.default)(a).html();(0,m.default)(a).html(d.replace(c,b))}},{key:"unwrapBlockTag",value:function(a){a||(a=function(a){return Ub.test(a)});this.getEditor().changeBlockFormat(a);this.eventManager.emit("wysiwygRangeChangeAfter",this)}},{key:"scrollIntoCursor",value:function(){var a=this.scrollTop(),c=this.getEditor().getCursorPosition(),b=c.top,d=c.height,e=this.$editorContainerEl.get(0).getBoundingClientRect(),f=e.top;c=b-f;b=b+d-(f+e.height);0>c?this.scrollTop(a+c):0<b&&this.scrollTop(Math.ceil(a+
b))}},{key:"moveCursorToEnd",value:function(){this.getEditor().moveCursorToEnd();this.scrollIntoCursor();this._correctRangeAfterMoveCursor("end")}},{key:"moveCursorToStart",value:function(){this.getEditor().moveCursorToStart();this.scrollTop(0)}},{key:"scrollTop",value:function(a){return n.default.isUndefined(a)?this.$editorContainerEl.scrollTop():this.$editorContainerEl.scrollTop(a)}},{key:"_correctRangeAfterMoveCursor",value:function(a){var c=this.getRange(),b=this.get$Body().get(0);if("start"===
a)for(;b.firstChild;)b=b.firstChild;else for(;b.lastChild;)b=b.lastChild;"BR"===b.tagName?c.setStartBefore(b):c.setStartAfter(b);c.collapse(!0);this.setRange(c)}},{key:"getRange",value:function(){return this.getEditor().getSelection().cloneRange()}},{key:"getIMERange",value:function(){var a=void 0,c=getSelection();return c&&c.rangeCount&&(a=c.getRangeAt(0).cloneRange()),a}},{key:"fixIMERange",value:function(){var a=this.getIMERange();a&&(0,m.default)(a.commonAncestorContainer).closest(this.$editorContainerEl).length&&
this.setRange(a)}},{key:"setRange",value:function(a){this.getEditor().setSelection(a)}},{key:"isInTable",value:function(a){a=a.collapsed?a.startContainer:a.commonAncestorContainer;return!!(0,m.default)(a).closest("[contenteditable=true] table").length}},{key:"getTextObject",value:function(a){return new x.default(this,a)}},{key:"defer",value:function(a,c){var b=this;setTimeout(function(){b.isEditorValid()&&a(b)},c||0)}},{key:"isEditorValid",value:function(){return this.getEditor()&&m.default.contains(this.$editorContainerEl[0].ownerDocument,
this.$editorContainerEl[0])}},{key:"_isCursorNotInRestrictedAreaOfTabAction",value:function(a){return!a.hasFormat("li")&&!a.hasFormat("blockquote")&&!a.hasFormat("table")}}],[{key:"factory",value:function(a,e,f){a=new b(a,e,f);return a.init(),a.componentManager.addManager(c.default),a.componentManager.addManager(d.default),a.componentManager.addManager(r.default),a.componentManager.addManager(h.default),a.componentManager.addManager(l.default),a.componentManager.addManager(v.default),a.componentManager.addManager(C.default),
a.componentManager.addManager(E.default),a}}]),b}();p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}();b=f(0);var m=k(b);b=f(1);var n=k(b);b=f(4);var e=k(b);b=f(59);var a=k(b);
f=f(60);var c=k(f);f=function(){function b(d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.wwe=d;this._pch=new a.default(this.wwe);this._tablePasteHelper=new c.default(this.wwe);this._selectedSellCount=0;this._$clipboardArea=null}return q(b,[{key:"init",value:function(){var a=this;this.wwe.eventManager.listen("willPaste",function(c){return a._executeHandler(a._onWillPaste.bind(a),c)});this.wwe.eventManager.listen("copy",function(c){return a._executeHandler(a._onCopyCut.bind(a),
c)});this.wwe.eventManager.listen("copyAfter",function(c){return a._executeHandler(a._onCopyAfter.bind(a),c)});this.wwe.eventManager.listen("cut",function(c){return a._executeHandler(a._onCopyCut.bind(a),c)});this.wwe.eventManager.listen("cutAfter",function(c){return a._executeHandler(a._onCutAfter.bind(a),c)});this.wwe.eventManager.listen("paste",function(c){return a._executeHandler(a._onPasteIntoTable.bind(a),c)})}},{key:"_executeHandler",value:function(a,c){"wysiwyg"===c.source&&a(c)}},{key:"_onCopyCut",
value:function(a){var c=this.wwe.componentManager.getManager("tableSelection");if(c.getSelectedCells().length){if(!c.mergedTableSelectionManager)return c.createRangeBySelectedCells(),void c.removeClassAttrbuteFromAllCellsIfNeed();c=this.wwe.getEditor();a=a.data;c=c.getSelection().cloneRange();var b=(0,m.default)("<div />");this._extendRange(c);b.append(c.cloneContents());this._updateCopyDataForListTypeIfNeed(c,b);this.wwe.eventManager.emit("copyBefore",{source:"wysiwyg",$clipboardContainer:b});this._setClipboardData(a,
b.html(),b.text())}}},{key:"_clearClipboardArea",value:function(){this._$clipboardArea&&(this._$clipboardArea.remove(),this._$clipboardArea=null)}},{key:"_onCopyAfter",value:function(){this.wwe.getEditor().get$Body().focus();this._clearClipboardArea()}},{key:"_onCutAfter",value:function(){this.wwe.getEditor().getSelection().deleteContents();this.wwe.getEditor().focus();this._clearClipboardArea()}},{key:"_onPasteIntoTable",value:function(a){a=a.data;var c=this.wwe.getEditor().getSelection();this.wwe.isInTable(c)&&
this._isSingleCellSelected(c)&&this._tablePasteHelper.pasteClipboard(a)}},{key:"_isSingleCellSelected",value:function(a){var c=a.endContainer;return this._getCell(a.startContainer)===this._getCell(c)}},{key:"_getCell",value:function(a){return"TD"===a.nodeName?a:e.default.getParentUntil(a,"TR")}},{key:"_onWillPaste",value:function(a){var c=this,b=a.data;a=(0,m.default)("<div>").append(b.fragment.cloneNode(!0));this._preparePaste(a);this._setTableBookmark(a);b.fragment=document.createDocumentFragment();
a.contents().each(function(a,c){b.fragment.appendChild(c)});this.wwe.getEditor().addEventListener("input",function C(){c.wwe.getEditor().removeEventListener("input",C);c.wwe.eventManager.emit("wysiwygRangeChangeAfter",c);c._focusTableBookmark()})}},{key:"_setClipboardData",value:function(a,c,b){n.default.browser.msie?(a.squirePrevented=!0,this._$clipboardArea=this._createClipboardArea(),this._$clipboardArea.html(c),this._$clipboardArea.focus(),window.getSelection().selectAllChildren(this._$clipboardArea[0])):
(a.preventDefault(),a.stopPropagation(),a.clipboardData.setData("text/html",c),a.clipboardData.setData("text/plain",b))}},{key:"_createClipboardArea",value:function(){return(0,m.default)("<DIV>").attr({contenteditable:"true",style:"position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;"}).appendTo(document.body)}},{key:"_updateCopyDataForListTypeIfNeed",value:function(a,c){a=a.commonAncestorContainer.nodeName;if("UL"===a||"OL"===a)a=(0,m.default)("<"+a+" />"),a.append(c.html()),
c.html(""),c.append(a)}},{key:"_removeEmptyFontElement",value:function(a){a.children("font").each(function(a,c){a=(0,m.default)(c);a.text().trim()||a.remove()})}},{key:"_preparePaste",value:function(a){this._removeEmptyFontElement(a);this._pch.preparePaste(a);this.wwe.eventManager.emit("pasteBefore",{source:"wysiwyg",$clipboardContainer:a})}},{key:"_setTableBookmark",value:function(a){a=(0,m.default)(a[0].childNodes).last();a[0]&&"TABLE"===a[0].nodeName&&a.addClass("tui-paste-table-bookmark")}},{key:"_focusTableBookmark",
value:function(){var a=this.wwe.getEditor(),c=a.getSelection().cloneRange(),b=a.get$Body().find(".tui-paste-table-bookmark"),d=a.get$Body().find(".tui-paste-table-cell-bookmark");b.length&&(b.removeClass("tui-paste-table-bookmark"),c.setEndAfter(b[0]),c.collapse(!1),a.setSelection(c));d.length&&(d.removeClass("tui-paste-table-cell-bookmark"),c.selectNodeContents(d[0]),c.collapse(!1),a.setSelection(c))}},{key:"_extendRange",value:function(a){(!e.default.isTextNode(a.commonAncestorContainer)||0===a.startOffset&&
a.commonAncestorContainer.textContent.length===a.endOffset||"TD"===a.commonAncestorContainer.nodeName)&&(0===a.startOffset&&(a=this._extendStartRange(a)),a.endOffset===e.default.getOffsetLength(a.endContainer)&&(a=this._extendEndRange(a)),this._isWholeCommonAncestorContainerSelected(a)&&a.selectNode(a.commonAncestorContainer),this.wwe.getEditor().setSelection(a))}},{key:"_extendStartRange",value:function(a){for(var c=a.startContainer;c.parentNode!==a.commonAncestorContainer&&c.parentNode!==this.wwe.get$Body()[0]&&
!c.previousSibling;)c=c.parentNode;return a.setStart(c.parentNode,e.default.getNodeOffsetOfParent(c)),a}},{key:"_extendEndRange",value:function(a){for(var c=a.endContainer,b=c.nextSibling;c.parentNode!==a.commonAncestorContainer&&c.parentNode!==this.wwe.get$Body()[0]&&(!b||"BR"===e.default.getNodeName(b)&&c.parentNode.lastChild===b);)c=c.parentNode,b=c.nextSibling;return a.setEnd(c.parentNode,e.default.getNodeOffsetOfParent(c)+1),a}},{key:"_isWholeCommonAncestorContainerSelected",value:function(a){return a.commonAncestorContainer.nodeType===
Node.ELEMENT_NODE&&a.commonAncestorContainer!==this.wwe.get$Body()[0]&&0===a.startOffset&&a.endOffset===a.commonAncestorContainer.childNodes.length&&a.commonAncestorContainer===a.startContainer&&a.commonAncestorContainer===a.endContainer}}]),b}();p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in
d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){return b&&a(c.prototype,b),e&&a(c,e),c}}();b=f(0);var m=k(b);b=f(1);var n=k(b);b=f(4);var e=k(b);f=f(9);var a=k(f);f=function(){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.wwe=a}return q(c,[{key:"preparePaste",value:function(a){var c=this.wwe.getEditor().getSelection().cloneRange(),b=this.wwe.componentManager.getManager("codeblock"),d=!1,f=(0,m.default)("<div />");this._pasteFirstAid(a);
for(var k=n.default.toArray(a[0].childNodes);k.length;){var q=k[0];q=e.default.getNodeName(q);q="LI"===q||"UL"===q||"OL"===q;b.isInCodeBlock(c)?f.append(b.prepareToPasteOnCodeblock(k)):q?(f.append(this._prepareToPasteList(k,c,d)),d=!0):f.append(k.shift())}a.html(f.html())}},{key:"_wrapOrphanNodeWithDiv",value:function(a){var c=(0,m.default)("<div />");a=n.default.toArray(a[0].childNodes);var b=void 0;return n.default.forEachArray(a,function(a){var d=3===a.nodeType,e=/^(SPAN|A|CODE|EM|I|STRONG|B|S|U|ABBR|ACRONYM|CITE|DFN|KBD|SAMP|VAR|BDO|Q|SUB|SUP)$/gi.test(a.tagName),
f="BR"===a.nodeName;d||e||f?(b||(b=document.createElement("div"),c.append(b)),b.appendChild(a),f&&(b=null)):(b&&"BR"!==b.lastChild.tagName&&b.appendChild((0,m.default)("<br/>")[0]),b=null,c.append(a))}),c.html()}},{key:"_pasteFirstAid",value:function(c){var b=this;c.html((0,a.default)(c.html(),!0));c.find("*").each(function(a,c){b._removeStyles(c)});this._unwrapIfNonBlockElementHasBr(c);this._unwrapNestedBlocks(c,"div, section, article, aside, nav, menus, p");this._removeUnnecessaryBlocks(c,"div, section, article, aside, nav, menus, p");
c.html(this._wrapOrphanNodeWithDiv(c));this._preElementAid(c);this._tableElementAid(c);c.children("br").remove()}},{key:"_preElementAid",value:function(a){this.wwe.componentManager.getManager("codeblock").modifyCodeBlockForWysiwyg(a)}},{key:"_unwrapIfNonBlockElementHasBr",value:function(a){a.find("span, a, b, em, i, s").each(function(a,c){a=(0,m.default)(c).children("br");a.length&&"LI"!==c.nodeName&&"UL"!==c.nodeName&&a.eq(0).unwrap()})}},{key:"_unwrapNestedBlocks",value:function(a,c){a.find(":not(:has(*))").not("b,s,i,em,code,span").each(function(b,
d){for(b="BR"===d.nodeName?(0,m.default)(d.parentNode):(0,m.default)(d);b.parents(c).length;)d=b.parent(c),d.length&&d[0]!==a[0]?b.unwrap():b=b.parent()})}},{key:"_removeUnnecessaryBlocks",value:function(a,c){a.find(c).each(function(a,b){a=(0,m.default)(b);var d="DIV"===b.tagName,e=0!==a.parent("li").length,f=0!==a.parent("blockquote").length,h=a.children(c).length;d&&(e||f||!h)||(b.lastChild&&"BR"!==b.lastChild.nodeName&&a.append(document.createElement("br")),a.replaceWith(a.html()))})}},{key:"_removeStyles",
value:function(a){a=(0,m.default)(a);var c=void 0;"SPAN"!==e.default.getNodeName(a[0])?a.removeAttr("style"):(a.attr("style")&&(c=a.css("color")),a.removeAttr("style"),c?a.css("color",c):a.contents().unwrap())}},{key:"_prepareToPasteList",value:function(a,c,b){var d=e.default.getNodeName(a[0]),f=a.shift(),h=this.wwe.getEditor().getDocument().createDocumentFragment();if("LI"!==d&&a.length&&"LI"===a[0].tagName&&(d="LI",f=this._makeNodeAndAppend({tagName:d},f)),"OL"===d||"UL"===d)!b&&this.wwe.getEditor().hasFormat("LI")?
(0,m.default)(h).append(this._wrapCurrentFormat(f)):(0,m.default)(h).append(f);else if("LI"===d){d=this.wwe.getEditor().getDocument().createDocumentFragment();for(d.appendChild(f);a.length&&"LI"===a[0].tagName;)d.appendChild(a.shift());!b&&this.wwe.getEditor().hasFormat("LI")?(0,m.default)(h).append(this._wrapCurrentFormat(d)):!c||"UL"!==c.commonAncestorName&&"OL"!==c.commonAncestorName?(0,m.default)(h).append(this._makeNodeAndAppend({tagName:"UL"},d)):(0,m.default)(h).append(this._makeNodeAndAppend({tagName:c.commonAncestorName},
d))}return h}},{key:"_unwrapFragmentFirstChildForPasteAsInline",value:function(a){return(0,m.default)(a).find("br").remove(),a.childNodes}},{key:"_wrapCurrentFormat",value:function(a){var c=this,b=void 0;return this._eachCurrentPath(function(d){"DIV"!==d.tagName&&(b=e.default.isElemNode(a)?a.tagName:a.firstChild.tagName,d.tagName!==b&&(a=c._makeNodeAndAppend(d,a)))}),a}},{key:"_eachCurrentPath",value:function(a){for(var c=e.default.getPath(this.wwe.getEditor().getSelection().startContainer,this.wwe.get$Body()[0]),
b=c.length-1;-1<b;--b)a(c[b])}},{key:"_makeNodeAndAppend",value:function(a,c){var b=(0,m.default)("<"+a.tagName+"/>");return b.append(c),a.id&&b.attr("id",a.id),a.className&&b.addClass(a.className),b[0]}},{key:"_tableElementAid",value:function(a){this._removeColgroup(a);this._completeTableIfNeed(a);this._updateTableIDClassName(a)}},{key:"_removeColgroup",value:function(a){a.find("colgroup").remove()}},{key:"_completeTableIfNeed",value:function(a){var c=this.wwe.componentManager.getManager("table"),
b=c.wrapDanglingTableCellsIntoTrIfNeed(a);b&&a.append(b);(b=c.wrapTrsIntoTbodyIfNeed(a))&&a.append(b);(c=c.wrapTheadAndTbodyIntoTableIfNeed(a))&&a.append(c)}},{key:"_updateTableIDClassName",value:function(a){var c=this.wwe.componentManager.getManager("table");a.find("table").each(function(a,c){(0,m.default)(c).removeClass(function(a,c){return c.replace(/.*\s*(te-content-table-\d+)\s*.*/,"$1")})});a.find("table").each(function(a,b){(0,m.default)(b).addClass(c.getTableIDClassName())})}}]),c}();p.default=
f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){return b&&a(c.prototype,b),e&&a(c,e),c}}();b=f(1);var m=k(b);b=f(4);var n=k(b);f=f(9);var e=k(f);f=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.wwe=c}return q(a,[{key:"pasteClipboard",value:function(a){var c=a.clipboardData||window.clipboardData;(c=c&&c.items)?(this._pasteClipboardItem(c),a.preventDefault()):(this._pasteClipboardUsingPasteArea(),a.squirePrevented=!0)}},{key:"_pasteClipboardUsingPasteArea",value:function(){var a=this,b=this.wwe.getEditor(),e=b.getSelection(),f=e.startContainer,l=e.startOffset,k=e.endContainer,m=e.endOffset,n=document.createElement("div"),q=document.body;n.setAttribute("contenteditable",!0);n.setAttribute("style",
"position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;");q.appendChild(n);e.selectNodeContents(n);b.setSelection(e);setTimeout(function(){var c=q.removeChild(n);e.setStart(f,l);e.setEnd(k,m);b.focus();b.setSelection(e);a._pasteClipboardHtml(c.innerHTML)})}},{key:"_pasteClipboardItem",value:function(a){var c=this,b=null,e=null;m.default.forEachArray(a,function(a){"text/html"===a.type?e=a:"text/plain"===a.type&&(b=a)});e?e.getAsString(function(a){c._pasteClipboardHtml(a)}):b&&b.getAsString(function(a){c._pasteClipboardContainer(document.createTextNode(a))})}},
{key:"_pasteClipboardHtml",value:function(a){var c=document.createDocumentFragment(),b=a.indexOf("\x3c!--StartFragment--\x3e"),f=a.lastIndexOf("\x3c!--EndFragment--\x3e");-1<b&&-1<f&&(a=a.slice(b+20,f));/<\/td>((?!<\/tr>)[\s\S])*$/i.test(a)&&(a="<TR>"+a+"</TR>");/<\/tr>((?!<\/table>)[\s\S])*$/i.test(a)&&(a="<TABLE>"+a+"</TABLE>");c.appendChild((0,e.default)(a));this._pasteClipboardContainer(c)}},{key:"_pasteClipboardContainer",value:function(a){var c=this.wwe.getEditor(),b=a.childNodes;1===b.length&&
"TABLE"===b[0].nodeName?this.wwe.componentManager.getManager("table").pasteTableData(a):(b=c.getSelection().cloneRange(),a=this._preparePasteDocumentFragment(a),c.saveUndoState(b),b.collapsed||this._deleteContentsRange(b),n.default.isTextNode(b.startContainer)?this._pasteIntoTextNode(b,a):this._pasteIntoElements(b,a),c.setSelection(b))}},{key:"_preparePasteDocumentFragment",value:function(a){var c=a.childNodes,b=document.createDocumentFragment();return c.length?b.appendChild(this._unwrapBlock(a)):
this._isPossibleInsertToTable(a)&&b.appendChild(a),b}},{key:"_unwrapBlock",value:function(a){var c=document.createDocumentFragment();for(a=m.default.toArray(a.childNodes);a.length;){var b=a.shift();this._isPossibleInsertToTable(b)?c.appendChild(b):(c.appendChild(this._unwrapBlock(b)),b=c.lastChild,a.length&&b&&"BR"!==b.nodeName&&c.appendChild(document.createElement("br")))}return c}},{key:"_isPossibleInsertToTable",value:function(a){var c=a.nodeName;return!("CODE"===c&&1<a.childNodes.length)&&("UL"===
c||"OL"===c||n.default.isMDSupportInlineNode(a)||n.default.isTextNode(a))}},{key:"_pasteIntoElements",value:function(a,b){var c=a.startContainer,d=n.default.getChildNodeByOffset(c,a.startOffset);d?(c.insertBefore(b,d),a.setStart(d,0)):"TD"===c.nodeName?(c.appendChild(b),a.setStart(c,c.childNodes.length)):(d=c.parentNode,c=c.nextSibling,d.insertBefore(b,c),c?a.setStart(c,0):a.setStartAfter(d.lastChild));a.collapse(!0)}},{key:"_pasteIntoTextNode",value:function(a,b){var c=a.startContainer,d=a.startOffset,
e=c.parentNode,f=c.textContent,k=f.slice(0,d),q=f.slice(d,f.length);f=b.childNodes;d=f[0];f=1===f.length&&n.default.isTextNode(d);if(k)if(q)if(f)b=d.textContent,c.textContent=""+k+b+q,a.setStart(c,k.length+b.length);else{d=document.createDocumentFragment();d.appendChild(document.createTextNode(k));d.appendChild(b);d.appendChild(document.createTextNode(q));e.replaceChild(d,c);var p=0;m.default.toArray(e.childNodes).forEach(function(a,c){a.textContent===q&&(p=c)});a.setStart(e.childNodes[p],0)}else c=
c.nextSibling,e.insertBefore(b,c),a.setStartAfter(c);else e.insertBefore(b,c),a.setStart(c,0);a.collapse(!0)}},{key:"_deleteContentsRange",value:function(a){var c=a.startContainer,b=a.startOffset,e=a.endOffset;c===a.endContainer?(this._deleteContentsByOffset(c,b,e),a.setStart(c,b),a.collapse(!0)):this._deleteNotCollapsedRangeContents(a)}},{key:"_deleteNotCollapsedRangeContents",value:function(a){var c=a.startContainer,b=a.startOffset,e=a.endContainer,f=a.endOffset,k=a.commonAncestorContainer,m=this._getBlock(c,
k,b),q=this._getBlock(e,k,f-1);if(m===q)this._removeInSameBlock(m,c,e,b,f),q=e!==q?null:q;else{var p=m.nextSibling;"TD"===c.nodeName?p=this._removeOneLine(m):(this._deleteContentsByOffset(c,b,n.default.getOffsetLength(c)),n.default.removeNodesByDirection(m,c,!1));"TD"===e.nodeName?q=this._removeOneLine(q):(this._deleteContentsByOffset(e,0,f),n.default.removeNodesByDirection(q,e,!0));n.default.removeChildFromStartToEndNode(k,p,q)}q?a.setStart(q,0):a.setStartAfter(m);a.collapse(!0)}},{key:"_removeInSameBlock",
value:function(a,b,e,f,l){b=b===a?f:0;e=e===a?l:n.default.getOffsetLength(a);this._deleteContentsByOffset(a,b,e)}},{key:"_removeOneLine",value:function(a){var c=a.nextSibling,b=a.parentNode,e=c;return b.removeChild(a),c&&"BR"===c.nodeName&&(e=c.nextSibling,b.removeChild(c)),e}},{key:"_getBlock",value:function(a,b,e){return n.default.getParentUntil(a,b)||n.default.getChildNodeByOffset(a,e)}},{key:"_deleteContentsByOffset",value:function(a,b,e){if(n.default.isTextNode(a)){var c=a.textContent;b=c.slice(0,
b);e=c.slice(e,c.length);a.textContent=""+b+e}else c=n.default.getChildNodeByOffset(a,b),e=n.default.getChildNodeByOffset(a,e),c&&n.default.removeChildFromStartToEndNode(a,c,e||null)}}]),a}();p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}
return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}();b=f(0);var m=k(b);b=f(1);var n=k(b);f=f(4);var e=k(f),a=/<li/i,c=/(<td[^>]*>)(.*?)(<\/td>)/g,d=/<(ul|ol)([^>]*)>(.*?)(<\/\1>)/g;f=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.wwe=a;this.eventManager=a.eventManager;this.name="list";this._init()}return q(b,[{key:"_init",value:function(){this._initEvent();this._initKeyHandler()}},{key:"_initEvent",value:function(){var a=
this;this.eventManager.listen("wysiwygSetValueBefore",function(c){return a._convertToArbitraryNestingList(c)});this.eventManager.listen("wysiwygRangeChangeAfter",function(){a._findAndRemoveEmptyList();a._removeBranchListAll()});this.eventManager.listen("wysiwygSetValueAfter",function(){a._removeBranchListAll()});this.eventManager.listen("wysiwygProcessHTMLText",function(c){return c=a._insertBlankToBetweenSameList(c),a._convertFromArbitraryNestingList(c)});this.eventManager.listen("convertorBeforeHtmlToMarkdownConverted",
function(c){return a._insertDataToMarkPassForListInTable(c)});this.eventManager.listen("convertorAfterHtmlToMarkdownConverted",function(a){return a.replace(/:BLANK_LINE:\n/g,"")})}},{key:"_initKeyHandler",value:function(){var a=this;this.wwe.addKeyEventHandler(["TAB","CTRL+]","META+]"],function(c){var b=void 0;return a.wwe.getEditor().hasFormat("LI")&&(c.preventDefault(),a.eventManager.emit("command","Indent"),b=!1),b});this.wwe.addKeyEventHandler(["SHIFT+TAB","CTRL+[","META+["],function(c,b){var d=
void 0;a.wwe.getEditor().hasFormat("LI")&&(c.preventDefault(),c=(0,m.default)(b.startContainer).closest("li").children("OL,UL"),a.eventManager.emit("command","Outdent"),c.length&&!c.prev().length&&a._removeBranchList(c),d=!1);return d});this.wwe.addKeyEventHandler("ENTER",function(c,b){b.collapsed&&a.wwe.getEditor().hasFormat("LI")&&a.wwe.defer(function(){var c=a.wwe.getRange();c=(0,m.default)(c.startContainer).parents("li").eq(0);a._removeBranchListAll(c)})});this.wwe.addKeyEventHandler("BACK_SPACE",
function(c,b){b.collapsed&&a.wwe.getEditor().hasFormat("LI")&&a.wwe.defer(function(){a._removeBranchListAll()})})}},{key:"_findAndRemoveEmptyList",value:function(){this.wwe.get$Body().find("OL,UL").each(function(c,b){a.test(b.innerHTML)||(0,m.default)(b).remove()})}},{key:"_removeBranchListAll",value:function(a){var c=this;a=a?(0,m.default)(a):this.wwe.get$Body();a.find("li ul, li ol").each(function(a,b){b&&!b.previousSibling&&c._removeBranchList(b)})}},{key:"_removeBranchList",value:function(a){for(var c=
a=(0,m.default)(a);!c[0].previousSibling&&c[0].parentElement.tagName.match(/UL|OL|LI/g);)c=c.parent();var b=c.children("li").eq(0);c.prepend(a.children().unwrap());b.remove()}},{key:"_insertBlankToBetweenSameList",value:function(a){return a.replace(/<\/(ul|ol)>(<br \/>|<br>){0,}<\1>/g,"</$1>:BLANK_LINE:<$1>")}},{key:"_convertToArbitraryNestingList",value:function(a){var c=document.createElement("div");c.innerHTML=a;for(a=c.querySelector("li > ul, li > ol");null!==a;){var b=a.parentNode;b.parentNode.insertBefore(a,
b.nextElementSibling);a=c.querySelector("li > ul, li > ol")}return c.innerHTML}},{key:"_convertFromArbitraryNestingList",value:function(a){var c=document.createElement("div");c.innerHTML=a;for(a=c.querySelector("ol > ol, ol > ul, ul > ol, ul > ul");null!==a;){for(var b=a.previousElementSibling;b&&"LI"!==b.tagName;)b=b.previousElementSibling;b?b.appendChild(a):this._unwrap(a);a=c.querySelector("ol > ol, ol > ul, ul > ol, ul > ul")}return c.innerHTML}},{key:"_unwrap",value:function(a){for(var c=document.createDocumentFragment();a.firstChild;)c.appendChild(a.firstChild);
a.parentNode.replaceChild(c,a)}},{key:"_insertDataToMarkPassForListInTable",value:function(a){return a.replace(c,function(a,c,b,e){return""+c+b.replace(d,'<$1 data-tomark-pass="" $2>$3$4')+e})}},{key:"getLinesOfSelection",value:function(a,c){var b=[],d=!1,f=!0,h=void 0;e.default.isTextNode(a)&&(a=(0,m.default)(a).parents("DIV,LI").first().get(0));for(e.default.isTextNode(c)&&(c=(0,m.default)(c).parents("DIV,LI").first().get(0));f&&(0,m.default)(a).is("DIV,LI");a=h)b.push(a),a===c?d=!0:h=this._getNextLine(a,
c),f=h&&!d;return b}},{key:"_getNextLine",value:function(a,c){var b=a.nextElementSibling;return b?(0,m.default)(b).is("OL,UL")&&(b=b.querySelector("li")):b=a.parentNode.nextElementSibling,(0,m.default)(b).is("DIV,LI")||b===c?b:this._getNextLine(b)}},{key:"mergeList",value:function(a){var c=a.parentNode,b=c.previousElementSibling,d=c.nextElementSibling;c.firstElementChild===a&&b&&(0,m.default)(b).is("OL,UL")&&(this._mergeList(c,b),c=b);c.lastElementChild===a&&d&&(0,m.default)(d).is("OL,UL")&&this._mergeList(d,
c)}},{key:"_mergeList",value:function(a,c){var b=a.firstElementChild;if(c&&(0,m.default)(c).is("OL,UL")){for(;b;){var d=b.nextElementSibling;c.appendChild(b);b=d}a.parentNode.removeChild(a)}}},{key:"isAvailableMakeListInTable",value:function(){var a=this.wwe.componentManager.getManager("tableSelection").getSelectedCells(),c=this.wwe.getEditor();return 0===a.length&&c.hasFormat("table")&&!c.hasFormat("OL")&&!c.hasFormat("UL")}},{key:"_getParentNodeBeforeTD",value:function(a,c){var b=e.default.getParentUntil(a,
"TD");b||(b=(b=a.childNodes)?b.length:0,b=e.default.getChildNodeByOffset(a,0<c&&c===b?c-1:c));return b}},{key:"_findLINodeInsideTD",value:function(a,c){var b=null,d=e.default.getParentUntilBy(a,function(a){return a&&e.default.isListNode(a)},function(a){return a&&"TD"===a.nodeName});d?b=d:"LI"===a.nodeName?b=a:e.default.isListNode(a)&&(b=a.childNodes.length,b=a.childNodes[c>=b?b-1:c]);return b}},{key:"_getFirstNodeInLineOfTable",value:function(a,c){var b=this._findLINodeInsideTD(a,c);if(!b)for(b=this._getParentNodeBeforeTD(a,
c),a=b.previousSibling;a&&"BR"!==a.nodeName&&!e.default.isListNode(a);)b=a,a=b.previousSibling;return b}},{key:"_getLastNodeInLineOfTable",value:function(a,c){var b=this._findLINodeInsideTD(a,c);if(!b)for(b=this._getParentNodeBeforeTD(a,c);b.nextSibling&&"BR"!==b.nodeName&&!e.default.isListNode(b);)b=b.nextSibling;return b}},{key:"_isLastNodeInLineOfTable",value:function(a){a=a.nodeName;return"LI"===a||"BR"===a}},{key:"_getNextNodeInLineOfTable",value:function(a){var c=a.nextSibling;if("LI"!==a.nodeName||
c)e.default.isListNode(c)&&(c=c.firstChild);else for(a=a.parentNode;"TD"!==a.nodeName;){if(a.nextSibling){c=a.nextSibling;break}a=a.parentNode}return c}},{key:"_getLinesOfSelectionInTable",value:function(a){var c=a.endContainer,b=a.endOffset;a=this._getFirstNodeInLineOfTable(a.startContainer,a.startOffset);c=this._getLastNodeInLineOfTable(c,b);b=[];for(var d=[];a;){if(d.push(a),this._isLastNodeInLineOfTable(a)&&(b.push(d),d=[]),a===c){d.length&&b.push(d);break}a=this._getNextNodeInLineOfTable(a)}return b}},
{key:"_createListElement",value:function(a){return document.createElement("TASK"===a?"UL":a)}},{key:"_createListItemElement",value:function(a,c){var b=document.createElement("li");(a.forEach(function(a){b.appendChild(a)}),"TASK"===c)&&this.wwe.componentManager.getManager("task").formatTask(b);return b}},{key:"_mergeListWithPreviousSibiling",value:function(a){var c=a.previousSibling,b=a;return c&&a.nodeName===c.nodeName&&(this._mergeList(a,c),b=c),b}},{key:"_mergeListWithNextSibiling",value:function(a){var c=
a.nextSibling;return c&&a.nodeName===c.nodeName&&this._mergeList(c,a),a}},{key:"createListInTable",value:function(a,c){var b=this;a=this._getLinesOfSelectionInTable(a);var d=a[a.length-1],e=d[d.length-1];d=e.nextSibling;e=e.parentNode;var f=this._createListElement(c),h=f.nodeName,l=[];return a.forEach(function(a){var d=a[0],e=void 0;if("LI"===d.nodeName){var r=d.parentNode;if(e=d,r.nodeName!==h)n.default.forEachArray(r.childNodes,function(){f.appendChild(r.firstChild)}),r.parentNode.replaceChild(f,
r);f=e.parentNode}else e=b._createListItemElement(a,c),f.appendChild(e);l.push(e)}),f.parentNode||e.insertBefore(f,d),f=this._mergeListWithPreviousSibiling(f),this._mergeListWithNextSibiling(f),l}},{key:"adjustRange",value:function(a,c,b,d,f){var h=e.default.containsNode(f[0],a)?a:f[0];f=e.default.containsNode(f[f.length-1],c)?c:f[f.length-1];this.wwe.setSelectionByContainerAndOffset(h,"TD"===a.nodeName?0:b,f,"TD"===c.nodeName?0:d)}}]),b}();p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",
{value:!0});var k=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,a,c){return a&&b(e.prototype,a),c&&b(e,c),e}}(),q=(b=f(0))&&b.__esModule?b:{default:b},m=(f=f(4))&&f.__esModule?f:{default:f};f=function(){function b(e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.wwe=e;this.eventManager=e.eventManager;this.name=
"task";this._init()}return k(b,[{key:"_init",value:function(){this._initKeyHandler();this._initEvent();this.wwe.getEditor().addEventListener("mousedown",function(b){var a=getComputedStyle(b.target,":before");b.target.hasAttribute("data-te-task")&&m.default.isInsideTaskBox(a,b.offsetX,b.offsetY)&&(b.preventDefault(),(0,q.default)(b.target).toggleClass("checked"))})}},{key:"_initEvent",value:function(){var b=this;this.eventManager.listen("wysiwygSetValueAfter",function(){b._removeTaskListClass()})}},
{key:"_initKeyHandler",value:function(){var b=this;this.wwe.addKeyEventHandler("ENTER",function(a,c){b.isInTaskList(c)&&b.wwe.defer(function(){var a=b.wwe.getRange();(0,q.default)(a.startContainer).closest("li").removeClass("checked")})})}},{key:"isInTaskList",value:function(b){var a=void 0;return b||(b=this.wwe.getEditor().getSelection().cloneRange()),a=b.startContainer.nodeType===Node.ELEMENT_NODE&&"LI"===b.startContainer.tagName?b.startContainer:(0,q.default)(b.startContainer).parents("li").get(0),
(0,q.default)(a).hasClass("task-list-item")}},{key:"unformatTask",value:function(b){b=(0,q.default)(b).closest("li");b.removeClass("task-list-item");b.removeClass("checked");b.removeAttr("data-te-task");b.attr("class")||b.removeAttr("class")}},{key:"formatTask",value:function(b){b=(0,q.default)(b).closest("li");b.addClass("task-list-item");b.attr("data-te-task","")}},{key:"_formatTaskIfNeed",value:function(){var b=this.wwe.getEditor().getSelection().cloneRange();this.isInTaskList(b)&&this.formatTask(b.startContainer)}},
{key:"_removeTaskListClass",value:function(){this.wwe.get$Body().find(".task-list").each(function(b,a){(0,q.default)(a).removeClass("task-list")})}}]),b}();p.default=f},function(b,p,f){function k(){return this.nodeType===Node.TEXT_NODE}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function b(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,c,d){return c&&
b(a.prototype,c),d&&b(a,d),a}}(),m=(b=f(0))&&b.__esModule?b:{default:b},n=(f=f(4))&&f.__esModule?f:{default:f};f=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.wwe=a;this.eventManager=a.eventManager;this.name="hr";this._init()}return q(b,[{key:"_init",value:function(){this._initKeyHandler();this._initEvent()}},{key:"_initEvent",value:function(){var a=this;this.eventManager.listen("wysiwygSetValueAfter",function(){a._unwrapDivOnHr()});
this.eventManager.listen("wysiwygGetValueBefore",function(){a._wrapDefaultBlockToOrphanTexts()})}},{key:"_initKeyHandler",value:function(){var a=this;this.wwe.addKeyEventHandler(function(c,b){return a._onTypedInHr(b)});this.wwe.addKeyEventHandler("ENTER",function(c,b){return!b.collapsed||a._removeHrOnEnter(b,c)});this.wwe.addKeyEventHandler("BACK_SPACE",function(c,b){return!b.collapsed||a._removeHrOnBackspace(b,c)})}},{key:"_isInHr",value:function(a){return"HR"===n.default.getNodeName(a.startContainer.childNodes[a.startOffset])}},
{key:"_isNearHr",value:function(a){a=n.default.getChildNodeByOffset(a.startContainer,a.startOffset-1);return"HR"===n.default.getNodeName(a)}},{key:"_onTypedInHr",value:function(a){var c=this;(this._isInHr(a)||this._isNearHr(a))&&this.wwe.defer(function(a){a.saveSelection();c._wrapDefaultBlockToOrphanTexts();a.restoreSavedSelection()})}},{key:"_removeHrOnEnter",value:function(a,c){var b=void 0,e=void 0;return this._isInHr(a)?b=n.default.getChildNodeByOffset(a.startContainer,a.startOffset):this._isNearHr(a)&&
(b=n.default.getChildNodeByOffset(a.startContainer,a.startOffset-1),e="before"),this._changeHrToNewDefaultBlock(b,a,c,e)}},{key:"_removeHrOnBackspace",value:function(a,c){var b=void 0,e=void 0;return this._isInHr(a)?b=n.default.getChildNodeByOffset(a.startContainer,a.startOffset):0===a.startOffset?(b=n.default.getTopPrevNodeUnder(a.startContainer,this.wwe.get$Body()[0]),e="none"):this._isNearHr(a)&&(b=n.default.getChildNodeByOffset(a.startContainer,a.startOffset-1),e="before"),this._changeHrToNewDefaultBlock(b,
a,c,e)}},{key:"_changeHrToNewDefaultBlock",value:function(a,c,b,e){return!a||"HR"!==n.default.getNodeName(a)||(b.preventDefault(),"none"!==e&&this.wwe.breakToNewDefaultBlock(c,e),(0,m.default)(a).remove(),!1)}},{key:"_unwrapDivOnHr",value:function(){var a=this.wwe.get$Body().get(0);this.wwe.get$Body().find("hr").each(function(c,b){c=(0,m.default)(b).parent("div");c[0]!==a&&(c.find("br").remove(),(0,m.default)(b).unwrap())})}},{key:"_wrapDefaultBlockToOrphanTexts",value:function(){this.wwe.get$Body().contents().filter(k).each(function(a,
c){(0,m.default)(c).wrap("<div />")})}}]),b}();p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(b,e){for(var a=0;a<e.length;a++){var c=e[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(f,e,a){return e&&b(f.prototype,e),a&&b(f,a),f}}(),q=(b=f(0))&&b.__esModule?b:{default:b};b=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.wwe=f;this.eventManager=f.eventManager;this.name="p";this._initEvent()}return k(b,[{key:"_initEvent",value:function(){var b=this;this.eventManager.listen("wysiwygSetValueBefore",function(e){return b._splitPtagContentLines(e)});this.eventManager.listen("wysiwygSetValueAfter",function(){b._ensurePtagContentWrappedWithDiv();b._unwrapPtags()})}},{key:"_splitPtagContentLines",value:function(b){if(b){var e=(0,q.default)("<div />");e.html(b);e.find("p").each(function(a,c){a=c.innerHTML.split(/<br>/gi);
var b=a.length-1,e=c.nextElementSibling||c.nextSibling,f="";f=a.map(function(a,c){var d="";return 0<c&&c<b&&(a=a||"<br>"),a&&(d="<div>"+a+"</div>"),d});e&&"P"===e.nodeName&&f.push("<div><br></div>");(0,q.default)(c).replaceWith((0,q.default)(f.join("")))});b=e.html()}return b}},{key:"_ensurePtagContentWrappedWithDiv",value:function(){this.wwe.get$Body().find("p").each(function(b,e){0>=(0,q.default)(e).find("div").length&&(0,q.default)(e).wrapInner("<div />");(0,q.default)(e).next().is("p")&&(0,q.default)(e).append("<div><br></div>")})}},
{key:"_unwrapPtags",value:function(){this.wwe.get$Body().find("div").each(function(b,e){(0,q.default)(e).parent().is("p")&&(0,q.default)(e).unwrap()})}}]),b}();p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,c,d){return c&&b(a.prototype,c),d&&b(a,d),a}}(),q=(b=f(0))&&b.__esModule?
b:{default:b},m=(f=f(4))&&f.__esModule?f:{default:f},n=/h[\d]/i;f=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.wwe=a;this.eventManager=a.eventManager;this.name="heading";this._init()}return k(b,[{key:"_init",value:function(){this._initEvent();this._initKeyHandler()}},{key:"_initEvent",value:function(){var a=this;this.eventManager.listen("wysiwygSetValueAfter",function(){a._wrapDefaultBlockToHeadingInner()})}},{key:"_initKeyHandler",
value:function(){var a=this;this.wwe.addKeyEventHandler("ENTER",function(c,b){return!a.wwe.hasFormatWithRx(n)||(a._onEnter(c,b),!1)});this.wwe.addKeyEventHandler("BACK_SPACE",function(c,b){return!a.wwe.hasFormatWithRx(n)||(a._removePrevTopNodeIfNeed(c,b),!1)})}},{key:"_wrapDefaultBlockToHeadingInner",value:function(){this.wwe.get$Body().find("h1, h2, h3, h4, h5, h6").each(function(a,c){0>=(0,q.default)(c).children("div, p").length&&(0,q.default)(c).wrapInner("<div />")})}},{key:"_unwrapHeading",value:function(){this.wwe.unwrapBlockTag(function(a){return n.test(a)})}},
{key:"_onEnter",value:function(a,c){var b=this;0<c.startOffset?this.wwe.defer(function(a){b._unwrapHeading();a.getEditor().removeLastUndoStack()}):(a.preventDefault(),this._insertEmptyBlockToPrevious(c))}},{key:"_insertEmptyBlockToPrevious",value:function(a){this.wwe.getEditor().saveUndoState(a);(0,q.default)("<div><br></div>").insertBefore(m.default.getParentUntil(a.startContainer,this.wwe.get$Body()[0]))}},{key:"_removePrevTopNodeIfNeed",value:function(a,c){var b=!1;if(c.collapsed&&0===c.startOffset){var e=
c.startContainer,f=m.default.getTopPrevNodeUnder(e,this.wwe.get$Body()[0]),l=f&&0===f.textContent.length,k=this.wwe.getEditor();0===e.textContent.length?b=this._removeHedingAndChangeSelection(a,c,f):l&&(a.preventDefault(),k.saveUndoState(c),(0,q.default)(f).remove(),b=!0)}return b}},{key:"_removeHedingAndChangeSelection",value:function(a,c,b){var d=c.startContainer,e=this.wwe.getEditor(),f=this.wwe.get$Body();d=n.test(m.default.getNodeName(d))?d:(0,q.default)(d).parents("h1,h2,h3,h4,h5,h6")[0];var k=
b,p=1;return a.defaultPrevented||(a.preventDefault(),e.saveUndoState(c)),(0,q.default)(d).remove(),b||(k=f.children("div").first().get(0),p=0),c.setStart(k,p),c.collapse(!0),e.setSelection(c),!0}}]),b}();p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?a:c}function m(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(p,"__esModule",{value:!0});var n=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}();b=f(0);var e=k(b);
b=f(1);var a=k(b);b=f(67);var c=k(b);b=f(4);var d=k(b),h=f(14),r=/\b(H[\d]|LI|P|BLOCKQUOTE|TD)\b/,l=/Trident\/[456]\./.test(navigator.userAgent);f=function(b){function f(){var a;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");for(var c=arguments.length,b=Array(c),d=0;d<c;d++)b[d]=arguments[d];var h=q(this,(a=f.__proto__||Object.getPrototypeOf(f)).call.apply(a,[this].concat(b)));return h._decorateHandlerToCancelable("copy"),h._decorateHandlerToCancelable(l?"beforecut":
"cut"),h._decorateHandlerToCancelable(l?"beforepaste":"paste"),h.get$Body=function(){return h.$body=h.$body||(0,e.default)(h.getRoot()),h.$body},h}return m(f,b),n(f,[{key:"_decorateHandlerToCancelable",value:function(a){var c=this._events[a];if(1<c.length)throw Error("too many"+a+"handlers in squire");var b=c[0].bind(this);c[0]=function(a){a.defaultPrevented||a.squirePrevented||b(a)}}},{key:"changeBlockFormat",value:function(c,b){var e=this;this.modifyBlocks(function(f){var h=void 0,l=void 0,k=void 0,
r=void 0,m=k=void 0,n=void 0;if(f.childNodes.length?h=f.childNodes.item(0):(h=e.createDefaultBlock(),f.appendChild(h)),c){for(;h.firstChild;)h=h.firstChild;for(n=function(a){r.appendChild(a)};h!==f;){if(k=h.tagName,a.default.isFunction(c)?c(k):k===c){r=h.childNodes.item(0);(!d.default.isElemNode(r)||1<h.childNodes.length)&&(r=e.createDefaultBlock(),a.default.forEachArray(a.default.toArray(h.childNodes),n),(m=r.lastChild)&&"BR"===d.default.getNodeName(m)&&r.removeChild(m));k=b?e.createElement(b,[r]):
r;l=e.getDocument().createDocumentFragment();l.appendChild(k);f=l;break}h=h.parentNode}}return l&&c||!b||"DIV"!==d.default.getNodeName(f.childNodes[0])||(f=e.createElement(b,[f.childNodes[0]])),f})}},{key:"changeBlockFormatTo",value:function(a){this.changeBlockFormat(function(a){return r.test(a)},a)}},{key:"getCaretPosition",value:function(){return this.getCursorPosition()}},{key:"replaceSelection",value:function(a,c){c&&this.setSelection(c);this._ignoreChange=!0;this.insertHTML(a)}},{key:"replaceRelativeOffset",
value:function(a,c,b){var d=this.getSelection().cloneRange();this._replaceRelativeOffsetOfSelection(a,c,b,d)}},{key:"_replaceRelativeOffsetOfSelection",value:function(a,c,b,e){var f=void 0,h=void 0,l=void 0,k=e.endContainer,r=e.endOffset;"TEXT"!==d.default.getNodeName(k)&&(k=this._getClosestTextNode(k,r))&&(r=d.default.isTextNode(k)?k.nodeValue.length:k.textContent.length);k?(f=this.getSelectionInfoByOffset(k,r+c),e.setStart(f.element,f.offset),l=r+(c+b),h=this.getSelectionInfoByOffset(k,l),e.setEnd(h.element,
h.offset),this.replaceSelection(a,e)):this.replaceSelection(a)}},{key:"_getClosestTextNode",value:function(a,c){a=d.default.getChildNodeByOffset(a,c-1);return"TEXT"!==d.default.getNodeName(a)&&(a=a.previousSibling),a}},{key:"getSelectionInfoByOffset",value:function(a,c){var b=void 0,e,f=0<=c?"next":"previous";c=Math.abs(c);var h=void 0;a="next"===f?a:a.previousSibling;var l=c;for(e=0;a&&(b=d.default.isTextNode(a)?a.nodeValue.length:a.textContent.length,e+=b,!(c<=e));)l-=b,0<d.default.getTextLength(a)&&
(h=a),a=a[f+"Sibling"];return a||(a=h,l=d.default.getTextLength(a)),"previous"===f&&(l=d.default.getTextLength(a)-l),{element:a,offset:l}}},{key:"getSelectionPosition",value:function(a,c,b){var d=this.createElement("INPUT"),f=a.cloneRange();b=this.getSelectionInfoByOffset(a.endContainer,a.endOffset+(b||0));f.setStart(f.startContainer,f.startOffset);f.setEnd(b.element,b.offset);this._ignoreChange=!0;this.insertElement(d,f);f=(0,e.default)(d).offset();return"over"!==c&&(f.top+=(0,e.default)(d).outerHeight()),
d.parentNode.removeChild(d),a.setStart(a.endContainer,a.endOffset),a.collapse(!0),this.setSelection(a),f}},{key:"removeLastUndoStack",value:function(){this._undoStack.length&&(--this._undoStackLength,--this._undoIndex,this._undoStack.pop(),this._isInUndoState=!1)}},{key:"replaceParent",value:function(a,c,b){a=(0,e.default)(a).closest(c);a.length&&(a.wrapInner("<"+b+"/>"),a.children().unwrap())}},{key:"preserveLastLine",value:function(){var a=this.get$Body().children().last();"DIV"!==d.default.getNodeName(a[0])&&
(this._ignoreChange=!0,(0,e.default)(this.createDefaultBlock()).insertAfter(a))}},{key:"scrollTop",value:function(c){return a.default.isUndefined(c)?this.get$Body().scrollTop():this.get$Body().scrollTop(c)}},{key:"isIgnoreChange",value:function(){return this._ignoreChange}},{key:"focus",value:function(){c.default.prototype.focus.call(this)}},{key:"blockCommandShortcuts",value:function(){var a=this,c=h.isMac?"meta":"ctrl";"b i u shift-7 shift-5 shift-6 shift-8 shift-9 [ ] d".split(" ").forEach(function(b){a.setKeyHandler(c+
"-"+b,function(a,c){c.preventDefault()})})}}]),f}(c.default);p.default=f},function(b,p){b.exports=w},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,a,c){return a&&b(e.prototype,a),c&&b(e,c),e}}();b=(b=f(1))&&b.__esModule?b:{default:b};var q=(f=f(4))&&f.__esModule?f:{default:f};f=b.default.browser.msie&&
11===b.default.browser.version;b=-1!==navigator.appVersion.indexOf("Win")&&b.default.browser.chrome;var m=f||b;f=function(){function b(e,a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._wwe=e;m&&(this.isComposition=!1,this._initCompositionEvent());this.setRange(a||this._wwe.getRange())}return k(b,[{key:"_initCompositionEvent",value:function(){var b=this;this._wwe.getEditor().addEventListener("compositionstart",function(){b.isComposition=!0});this._wwe.getEditor().addEventListener("compositionend",
function(){b.isComposition=!1})}},{key:"setRange",value:function(b){this._range&&this._range.detach();this._range=b}},{key:"expandStartOffset",value:function(){var b=this._range;q.default.isTextNode(b.startContainer)&&0<b.startOffset&&b.setStart(b.startContainer,b.startOffset-1)}},{key:"expandEndOffset",value:function(){var b=this._range;q.default.isTextNode(b.endContainer)&&b.endOffset<b.endContainer.nodeValue.length&&b.setEnd(b.endContainer,b.endOffset+1)}},{key:"setEndBeforeRange",value:function(b){var a=
b.startOffset;this.isComposition&&(a+=1);this._range.setEnd(b.startContainer,a)}},{key:"getTextContent",value:function(){return this._range.cloneContents().textContent}},{key:"replaceContent",value:function(b){this._wwe.getEditor().setSelection(this._range);this._wwe.getEditor().insertHTML(b);this._range=this._wwe.getRange()}},{key:"deleteContent",value:function(){this._wwe.getEditor().setSelection(this._range);this._wwe.getEditor().insertHTML("");this._range=this._wwe.getRange()}},{key:"peekStartBeforeOffset",
value:function(b){var a=this._range.cloneRange();return a.setStart(a.startContainer,Math.max(a.startOffset-b,0)),a.setEnd(this._range.startContainer,this._range.startOffset),a.cloneContents().textContent}}]),b}();p.default=f},function(b,p,f){function k(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?
Object.setPrototypeOf(b,a):b.__proto__=a)}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function b(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,c,d){return c&&b(a.prototype,c),d&&b(a,d),a}}(),m=function h(a,c,b){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,c);if(void 0===d)return a=Object.getPrototypeOf(a),null===a?void 0:h(a,
c,b);if("value"in d)return d.value;c=d.get;if(void 0!==c)return c.call(b)},n=(b=f(0))&&b.__esModule?b:{default:b};f=f(70);f=function(a){function c(a){var b=a.eventManager,d=a.container;a=a.wysiwygEditor;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");b=(c.__proto__||Object.getPrototypeOf(c)).call(this,{eventManager:b,container:d,attachedSelector:"pre"});if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!=typeof b&&
"function"!=typeof b?this:b;return b._wysiwygEditor=a,b._popupCodeBlockLanguages=null,b._initDOM(),b._initDOMEvent(),b}return k(c,a),q(c,[{key:"_initDOM",value:function(){var a=this;this.$el.addClass("code-block-header");this._$languageLabel=(0,n.default)("<span>text</span>");this.$el.append(this._$languageLabel);this._$buttonOpenModalEditor=(0,n.default)('<button type="button">Editor</button>');this.$el.append(this._$buttonOpenModalEditor);this._eventManager.emit("removeEditor",function(){a._$buttonOpenModalEditor.off("click");
a._$buttonOpenModalEditor=null})}},{key:"_initDOMEvent",value:function(){var a=this;this._$buttonOpenModalEditor.on("click",function(){return a._openPopupCodeBlockEditor()})}},{key:"_openPopupCodeBlockEditor",value:function(){this._eventManager.emit("openPopupCodeBlockEditor",this.getAttachedElement())}},{key:"_updateLanguage",value:function(){var a=this.getAttachedElement();a=a?a.getAttribute("data-language"):null;this._$languageLabel.text(a||"text")}},{key:"syncLayout",value:function(){var a=(0,
n.default)(this.getAttachedElement()),c=a.offset();c.left+=a.outerWidth()-250;this.$el.offset(c);this.$el.height(30);this.$el.width(250)}},{key:"onShow",value:function(){var a=this;m(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"onShow",this).call(this);this._onAttachedElementChange=function(){return a._updateLanguage()};(0,n.default)(this.getAttachedElement()).on("language-changed",this._onAttachedElementChange);this._updateLanguage()}},{key:"onHide",value:function(){(0,n.default)(this.getAttachedElement()).off("language-changed",
this._onAttachedElementChange);m(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"onHide",this).call(this)}}]),c}((f&&f.__esModule?f:{default:f}).default);p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(b,e){for(var a=0;a<e.length;a++){var c=e[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(f,e,a){return e&&b(f.prototype,e),a&&b(f,a),f}}(),q=(b=f(0))&&
b.__esModule?b:{default:b};b=function(){function b(f){var e=f.eventManager,a=f.container;f=f.attachedSelector;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._eventManager=e;this._attachedSelector="[contenteditable=true] "+f;this._$container=(0,q.default)(a);this._$attachedElement=null;this.active=!1;this._createElement();this._initEvent()}return k(b,[{key:"_createElement",value:function(){this.$el=(0,q.default)('<div class="te-ww-block-overlay">');this.$el.css({position:"absolute",
display:"none","z-index":1});this._$container.append(this.$el)}},{key:"_initEvent",value:function(){var b=this;this._eventManager.listen("change",this._onChange.bind(this));this._eventManager.listen("mouseover",this._onMouseOver.bind(this));this._eventManager.listen("focus",function(){b.setVisibility(!1)});this._eventManager.listen("mousedown",function(){b.setVisibility(!1)})}},{key:"_onChange",value:function(){this._$attachedElement&&q.default.contains(document,this._$attachedElement[0])?this.syncLayout():
this.setVisibility(!1)}},{key:"_onMouseOver",value:function(b){b=b.data;b=(0,q.default)(b.target);var e=b.closest(this._attachedSelector);e.length?(this._$attachedElement=e,this.setVisibility(!0)):b.closest(this.$el).length?this.setVisibility(!0):this.active||this.setVisibility(!1)}},{key:"syncLayout",value:function(){this.$el.offset(this._$attachedElement.offset());this.$el.width(this._$attachedElement.outerWidth());this.$el.height(this._$attachedElement.outerHeight())}},{key:"getAttachedElement",
value:function(){return this._$attachedElement?this._$attachedElement.get(0):null}},{key:"getVisibility",value:function(){return"block"===this.$el.css("display")}},{key:"setVisibility",value:function(b){b&&this._$attachedElement?this.getVisibility()||(this.$el.css("display","block"),this.syncLayout(),this.onShow()):b||this.getVisibility()&&(this.$el.css("display","none"),this.onHide())}},{key:"onShow",value:function(){}},{key:"onHide",value:function(){this.active=!1;this._$attachedElement=null}}]),
b}();p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(b,e){for(var a=0;a<e.length;a++){var c=e[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(f,e,a){return e&&b(f.prototype,e),a&&b(f,a),f}}(),q=(b=f(0))&&b.__esModule?b:{default:b};b=function(){function b(f,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.$el=(0,q.default)(f.el);
this.height=f.height;this.type=f.initialEditType;this.eventManager=e;this.init();this._initEvent()}return k(b,[{key:"init",value:function(){this._renderLayout();this._initMarkdownAndPreviewSection();this._initWysiwygSection()}},{key:"_initEvent",value:function(){this.eventManager.listen("hide",this.hide.bind(this));this.eventManager.listen("show",this.show.bind(this))}},{key:"_renderLayout",value:function(){this.$el.css("box-sizing","border-box");this.$containerEl=(0,q.default)('<div class="tui-editor"><div class="te-md-container"><div class="te-editor" /><div class="te-md-splitter" /><div class="te-preview" /></div><div class="te-ww-container"><div class="te-editor" /></div></div>').appendTo(this.$el)}},
{key:"switchToWYSIWYG",value:function(){this.$containerEl.removeClass("te-md-mode");this.$containerEl.addClass("te-ww-mode")}},{key:"switchToMarkdown",value:function(){this.$containerEl.removeClass("te-ww-mode");this.$containerEl.addClass("te-md-mode")}},{key:"_initMarkdownAndPreviewSection",value:function(){this.$mdEditorContainerEl=this.$containerEl.find(".te-md-container .te-editor");this.$previewEl=this.$containerEl.find(".te-md-container .te-preview")}},{key:"_initWysiwygSection",value:function(){this.$wwEditorContainerEl=
this.$containerEl.find(".te-ww-container .te-editor")}},{key:"_verticalSplitStyle",value:function(){this.$containerEl.find(".te-md-container").removeClass("te-preview-style-tab");this.$containerEl.find(".te-md-container").addClass("te-preview-style-vertical")}},{key:"_tabStyle",value:function(){this.$containerEl.find(".te-md-container").removeClass("te-preview-style-vertical");this.$containerEl.find(".te-md-container").addClass("te-preview-style-tab")}},{key:"changePreviewStyle",value:function(b){"tab"===
b?this._tabStyle():"vertical"===b&&this._verticalSplitStyle()}},{key:"hide",value:function(){this.$el.find(".tui-editor").addClass("te-hide")}},{key:"show",value:function(){this.$el.find(".tui-editor").removeClass("te-hide")}},{key:"remove",value:function(){this.$el.find(".tui-editor").remove()}},{key:"getEditorEl",value:function(){return this.$containerEl}},{key:"getPreviewEl",value:function(){return this.$previewEl}},{key:"getMdEditorContainerEl",value:function(){return this.$mdEditorContainerEl}},
{key:"getWwEditorContainerEl",value:function(){return this.$wwEditorContainerEl}}]),b}();p.default=b},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}();b=f(0);var m=k(b);b=f(73);var n=k(b);
b=f(44);var e=k(b);b=f(5);var a=k(b);b=f(78);var c=k(b);b=f(79);var d=k(b);b=f(80);var h=k(b);b=f(81);var r=k(b);b=f(82);var l=k(b);b=f(83);var v=k(b);b=f(84);var C=k(b);b=f(85);var t=k(b);b=f(3);var H=k(b);f=f(35);var w=k(f);f=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");Object.defineProperty(this,"name",{enumerable:!0,writable:!0,value:"default"});Object.defineProperty(this,"_popups",{enumerable:!0,writable:!0,value:[]});this._editor=
a;this._initialEditType=a.options.initialEditType;this._init(a.options);this._initEvent()}return q(b,[{key:"_init",value:function(a){var c=a.el,b=a.toolbarItems;a=a.hideModeSwitch;this.$el=(0,m.default)('\n    <div class="tui-editor-defaultUI">\n        <div class="te-toolbar-section"><div class="te-markdown-tab-section"></div></div>\n        <div class="te-editor-section"></div>\n        <div class="te-mode-switch-section"></div>\n    </div>\n').appendTo(c);this._container=c;this._editorSection=
this.$el.find(".te-editor-section").get(0);this._editorSection.appendChild(this._editor.layout.getEditorEl().get(0));this._initToolbar(this._editor.eventManager,b);this._initModeSwitch(a);this._initPopupAddLink();this._initPopupAddImage();this._initPopupAddTable();this._initPopupAddHeading();this._initPopupTableUtils();this._initPopupCodeBlockLanguages();this._initPopupCodeBlockEditor();this._initMarkdownTab()}},{key:"_initEvent",value:function(){this._editor.eventManager.listen("hide",this.hide.bind(this));
this._editor.eventManager.listen("show",this.show.bind(this));this._editor.eventManager.listen("changeMode",this._markdownTabControl.bind(this));this._editor.eventManager.listen("changePreviewStyle",this._markdownTabControl.bind(this))}},{key:"_initToolbar",value:function(a,c){this._toolbar=a=new n.default(a,c);this.$el.find(".te-toolbar-section").append(a.$el)}},{key:"_initModeSwitch",value:function(a){var b=this,d=this.$el.find(".te-mode-switch-section");this._modeSwitch=d=new c.default(d,"markdown"===
this._initialEditType?c.default.TYPE.MARKDOWN:c.default.TYPE.WYSIWYG);a&&d.hide();d.on("modeSwitched",function(a,c){return b._editor.changeMode(c)})}},{key:"_initMarkdownTab",value:function(){var a=this._editor;this._markdownTab=new e.default({initName:H.default.get("Write"),items:[H.default.get("Write"),H.default.get("Preview")],sections:[a.layout.getMdEditorContainerEl(),a.layout.getPreviewEl()]});this._$markdownTabSection=this.$el.find(".te-markdown-tab-section");this._$markdownTabSection.append(this._markdownTab.$el);
this._markdownTab.on("itemClick",function(c,b){b===H.default.get("Preview")?(a.eventManager.emit("previewNeedsRefresh"),a.eventManager.emit("changePreviewTabPreview"),a.eventManager.emit("closeAllPopup")):(a.getCodeMirror().focus(),a.eventManager.emit("changePreviewTabWrite"))})}},{key:"_markdownTabControl",value:function(){this._editor.isMarkdownMode()&&"tab"===this._editor.getCurrentPreviewStyle()?(this._$markdownTabSection.show(),this._markdownTab.activate(H.default.get("Write"))):this._$markdownTabSection.hide()}},
{key:"_initPopupAddLink",value:function(){this._popups.push(new d.default({$target:this.$el,editor:this._editor}))}},{key:"_initPopupAddImage",value:function(){this._popups.push(new h.default({$target:this.$el,eventManager:this._editor.eventManager}))}},{key:"_initPopupAddTable",value:function(){this._popups.push(new l.default({$target:this._toolbar.$el,eventManager:this._editor.eventManager,$button:this.$el.find("button.tui-table"),css:{position:"absolute"}}))}},{key:"_initPopupAddHeading",value:function(){this._popups.push(new v.default({$target:this._toolbar.$el,
eventManager:this._editor.eventManager,$button:this.$el.find("button.tui-heading"),css:{position:"absolute"}}))}},{key:"_initPopupTableUtils",value:function(){var a=this;this._editor.eventManager.listen("contextmenu",function(c){0<(0,m.default)(c.data.target).parents("[contenteditable=true] table").length&&(c.data.preventDefault(),a._editor.eventManager.emit("openPopupTableUtils",c.data))});this._popups.push(new r.default({$target:this.$el,eventManager:this._editor.eventManager}))}},{key:"_initPopupCodeBlockLanguages",
value:function(){var a=this._editor;this._popups.push(new C.default({$target:this.$el,eventManager:a.eventManager,languages:a.options.codeBlockLanguages}))}},{key:"_initPopupCodeBlockEditor",value:function(){this._popups.push(new t.default({$target:this.$el,eventManager:this._editor.eventManager,convertor:this._editor.convertor}))}},{key:"getToolbar",value:function(){return this._toolbar}},{key:"setToolbar",value:function(a){this._toolbar.destroy();this._toolbar=a}},{key:"getModeSwitch",value:function(){return this._modeSwitch}},
{key:"getEditorSectionHeight",value:function(){var a=this._editorSection.getBoundingClientRect();return a.bottom-a.top}},{key:"getEditorHeight",value:function(){var a=this._container.getBoundingClientRect();return a.bottom-a.top}},{key:"getPopupTableUtils",value:function(){var a=void 0;return this._popups.forEach(function(c){c instanceof r.default&&(a=c)}),a}},{key:"hide",value:function(){this.$el.addClass("te-hide")}},{key:"show",value:function(){this.$el.removeClass("te-hide")}},{key:"remove",value:function(){this.$el.remove();
this._markdownTab.remove();this._modeSwitch.remove();this._toolbar.destroy();this._popups.forEach(function(a){return a.remove()});this._popups=[];w.default.hide()}},{key:"createPopup",value:function(c){return new a.default(c)}}]),b}();p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(p,"__esModule",{value:!0});var m=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),n=function E(a,c,b){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,
c);if(void 0===d)return a=Object.getPrototypeOf(a),null===a?void 0:E(a,c,b);if("value"in d)return d.value;c=d.get;if(void 0!==c)return c.call(b)};b=f(74);var e=k(b);b=f(3);var a=k(b);b=f(41);b=k(b);var c=f(77),d=k(c);f=f(43);var h=k(f);f=function(c){function b(a,c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=
!c||"object"!=typeof c&&"function"!=typeof c?this:c;return c._init(a),c._bindWidthChangedEvent(),c}return q(b,c),m(b,[{key:"insertItem",value:function(a,c){n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertItem",this).call(this,a,c);this._arrangeMoreButton()}},{key:"_init",value:function(c){var b=h.default.create("button",{name:"more",className:"tui-more",tooltip:a.default.get("More"),event:d.default.OPEN_EVENT});this._moreButton=b;this._popupDropdownToolbar=new d.default({eventManager:c,
$target:this.$el,$button:b.$el});this.addItem(b)}},{key:"_bindWidthChangedEvent",value:function(){var a=this;this._observer=new e.default(function(){a._popupDropdownToolbar.hide();a._balanceButtons()});this._observer.observe(this.$el.get(0))}},{key:"_balanceButtons",value:function(){var a=this;this._popupDropdownToolbar.getItems().forEach(function(c){a._popupDropdownToolbar.removeItem(c,!1);var d=a.getItems().length;n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertItem",a).call(a,
d,c)});this.removeItem(this._moreButton,!1);n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertItem",this).call(this,0,this._moreButton);var c=this.$el.height();this.getItems().filter(function(a){return a.$el.position().top>c}).forEach(function(c){a.removeItem(c,!1);a._popupDropdownToolbar.addItem(c)});this._arrangeMoreButton()}},{key:"_arrangeMoreButton",value:function(){if(this._popupDropdownToolbar){this.removeItem(this._moreButton,!1);var a=0<this._popupDropdownToolbar.getItems().length,
c=this.getItems().length;a&&n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertItem",this).call(this,c,this._moreButton)}}},{key:"destroy",value:function(){this._observer&&(this._observer.disconnect(),this._observer=null)}}]),b}(b.default);p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});(function(b){function f(a){for(var c=[],b=arguments.length-1;0<b--;)c[b]=arguments[b+1];return c.reduce(function(c,b){return c+(parseFloat(a["border-"+b+"-width"])||0)},
0)}var k=function(){function a(a,c){var b=-1;return a.some(function(a,d){return a[0]===c&&(b=d,!0)}),b}return"undefined"!=typeof Map?Map:function(){function c(){this.__entries__=[]}var b={size:{configurable:!0}};return b.size.get=function(){return this.__entries__.length},c.prototype.get=function(c){c=a(this.__entries__,c);return(c=this.__entries__[c])&&c[1]},c.prototype.set=function(c,b){var d=a(this.__entries__,c);~d?this.__entries__[d][1]=b:this.__entries__.push([c,b])},c.prototype.delete=function(c){var b=
this.__entries__;c=a(b,c);~c&&b.splice(c,1)},c.prototype.has=function(c){return!!~a(this.__entries__,c)},c.prototype.clear=function(){this.__entries__.splice(0)},c.prototype.forEach=function(a,c){void 0===c&&(c=null);for(var b=0,d=this.__entries__;b<d.length;b+=1){var e=d[b];a.call(c,e[1],e[0])}},Object.defineProperties(c.prototype,b),c}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,e=void 0!==b&&b.Math===Math?b:"undefined"!=typeof self&&self.Math===Math?
self:"undefined"!=typeof window&&Math===Math?window:Function("return this")(),a=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(e):function(a){return setTimeout(function(){return a(Date.now())},1E3/60)}}(),c=function(c,b){function d(){h&&(h=!1,c());l&&f()}function e(){a(d)}function f(){var a=Date.now();if(h){if(2>a-k)return;l=!0}else h=!0,l=!1,setTimeout(e,b);k=a}var h=!1,l=!1,k=0;return f},d="top right bottom left width height size weight".split(" "),h="undefined"!=
typeof MutationObserver,r=function(){this.mutationEventsAdded_=this.connected_=!1;this.mutationsObserver_=null;this.observers_=[];this.onTransitionEnd_=this.onTransitionEnd_.bind(this);this.refresh=c(this.refresh.bind(this),20)};r.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a);this.connected_||this.connect_()};r.prototype.removeObserver=function(a){var c=this.observers_;a=c.indexOf(a);~a&&c.splice(a,1);!c.length&&this.connected_&&this.disconnect_()};r.prototype.refresh=
function(){this.updateObservers_()&&this.refresh()};r.prototype.updateObservers_=function(){var a=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});return a.forEach(function(a){return a.broadcastActive()}),0<a.length};r.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),h?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,
{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)};r.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=
null,this.mutationEventsAdded_=!1,this.connected_=!1)};r.prototype.onTransitionEnd_=function(a){var c=a.propertyName;void 0===c&&(c="");d.some(function(a){return!!~c.indexOf(a)})&&this.refresh()};r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_};r.instance_=null;var l=function(a,c){for(var b=0,d=Object.keys(c);b<d.length;b+=1){var e=d[b];Object.defineProperty(a,e,{value:c[e],enumerable:!1,writable:!1,configurable:!0})}return a},v=function(a){return a&&a.ownerDocument&&
a.ownerDocument.defaultView||e},C={x:0,y:0,width:0,height:0},t=function(){return"undefined"!=typeof SVGGraphicsElement?function(a){return a instanceof v(a).SVGGraphicsElement}:function(a){return a instanceof v(a).SVGElement&&"function"==typeof a.getBBox}}(),H=function(a){this.broadcastHeight=this.broadcastWidth=0;this.contentRect_={x:0,y:0,width:0,height:0};this.target=a};H.prototype.isActive=function(){var a=this.target;if(n)if(t(a)){var c=a.getBBox();c={x:0,y:0,width:c.width,height:c.height}}else{var b=
a.clientWidth,d=a.clientHeight;if(b||d){var e=v(a).getComputedStyle(a);c={};for(var h=0,l=["top","right","bottom","left"];h<l.length;h+=1){var k=l[h];c[k]=parseFloat(e["padding-"+k])||0}var r=c.left+c.right;k=c.top+c.bottom;h=parseFloat(e.width)||0;l=parseFloat(e.height)||0;if("border-box"===e.boxSizing&&(Math.round(h+r)!==b&&(h-=f(e,"left","right")+r),Math.round(l+k)!==d&&(l-=f(e,"top","bottom")+k)),a!==v(a).document.documentElement)a=Math.round(h+r)-b,d=Math.round(l+k)-d,1!==Math.abs(a)&&(h-=a),
1!==Math.abs(d)&&(l-=d);c={x:c.left,y:c.top,width:h,height:l}}else c=C}else c=C;return this.contentRect_=c,c.width!==this.broadcastWidth||c.height!==this.broadcastHeight};H.prototype.broadcastRect=function(){var a=this.contentRect_;return this.broadcastWidth=a.width,this.broadcastHeight=a.height,a};var w=function(a,c){var b=c.x;var d=c.y,e=c.width;c=c.height;var f=Object.create(("undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype);b=(l(f,{x:b,y:d,width:e,height:c,top:d,right:b+e,
bottom:c+d,left:b}),f);l(this,{target:a,contentRect:b})},x=function(a,c,b){if(this.activeObservations_=[],this.observations_=new k,"function"!=typeof a)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a;this.controller_=c;this.callbackCtx_=b};x.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof v(a).Element))throw new TypeError('parameter 1 is not of type "Element".');
var c=this.observations_;c.has(a)||(c.set(a,new H(a)),this.controller_.addObserver(this),this.controller_.refresh())}};x.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof v(a).Element))throw new TypeError('parameter 1 is not of type "Element".');var c=this.observations_;c.has(a)&&(c.delete(a),c.size||this.controller_.removeObserver(this))}};x.prototype.disconnect=
function(){this.clearActive();this.observations_.clear();this.controller_.removeObserver(this)};x.prototype.gatherActive=function(){var a=this;this.clearActive();this.observations_.forEach(function(c){c.isActive()&&a.activeObservations_.push(c)})};x.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,c=this.activeObservations_.map(function(a){return new w(a.target,a.broadcastRect())});this.callback_.call(a,c,a);this.clearActive()}};x.prototype.clearActive=function(){this.activeObservations_.splice(0)};
x.prototype.hasActive=function(){return 0<this.activeObservations_.length};var y="undefined"!=typeof WeakMap?new WeakMap:new k,z=function(a){if(!(this instanceof z))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var c=r.getInstance();c=new x(a,c,this);y.set(this,c)};["observe","unobserve","disconnect"].forEach(function(a){z.prototype[a]=function(){return(c=y.get(this))[a].apply(c,arguments);var c}});p.default=
void 0!==e.ResizeObserver?e.ResizeObserver:z}).call(p,f(75))},function(b,p){p=function(){return this}();try{p=p||Function("return this")()||(0,eval)("this")}catch(f){"object"==typeof window&&(p=window)}b.exports=p},function(b,p,f){function k(b,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?
Object.setPrototypeOf(b,f):b.__proto__=f)}Object.defineProperty(p,"__esModule",{value:!0});b=f(18);b=function(b){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var b=(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?this:b}return k(f,b),f}((b&&b.__esModule?b:{default:b}).default);p.default=b},function(b,
p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(p,"__esModule",{value:!0});var m=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=
d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){return b&&a(c.prototype,b),e&&a(c,e),c}}(),n=function l(a,b,e){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d)return a=Object.getPrototypeOf(a),null===a?void 0:l(a,b,e);if("value"in d)return d.value;b=d.get;if(void 0!==b)return b.call(e)};b=f(1);var e=k(b);b=f(5);b=k(b);f=f(41);var a=k(f);f=function(b){function d(a){if(!(this instanceof
d))throw new TypeError("Cannot call a class as a function");a=e.default.extend({header:!1,className:"te-dropdown-toolbar"},a);a=(d.__proto__||Object.getPrototypeOf(d)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?this:a}return q(d,b),m(d,[{key:"getToolbar",value:function(){return this._toolbar}},{key:"getItems",value:function(){return this.getToolbar().getItems()}},{key:"getItem",value:function(a){return this.getToolbar().getItem(a)}},
{key:"setItems",value:function(a){this.getToolbar().setItems(a)}},{key:"addItem",value:function(a){this.getToolbar().addItem(a)}},{key:"insertItem",value:function(a,b){this.getToolbar().insertItem(a,b)}},{key:"indexOfItem",value:function(a){return this.getToolbar().indexOfItem(a)}},{key:"removeItem",value:function(a,b){return this.getToolbar().removeItem(a,b)}},{key:"removeAllItems",value:function(){this.getToolbar().removeAllItems()}},{key:"_initInstance",value:function(b){n(d.prototype.__proto__||
Object.getPrototypeOf(d.prototype),"_initInstance",this).call(this,b);var e=b.eventManager;this._$button=b.$button;this._eventManager=e;this._toolbar=new a.default(e)}},{key:"_initDOM",value:function(){n(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"_initDOM",this).call(this);this.setContent(this._toolbar.$el)}},{key:"_initEditorEvent",value:function(){var a=this;n(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"_initEditorEvent",this).call(this);this._eventManager.listen("focus",
function(){return a.hide()});this._eventManager.listen("closeAllPopup",function(){return a.hide()});this._eventManager.listen(d.OPEN_EVENT,function(){var b=a.isShow();a._eventManager.emit("closeAllPopup");b||a.show();a.$el.css({left:"-1000px"});b=a._$button;var d=b.position(),e=b.outerHeight(!0),f=(e-b.outerHeight())/2;e=d.top+e-f;b=d.left+b.outerWidth(!0)-a.$el.outerWidth(!0);a.$el.css({top:e,left:b})})}}]),d}(b.default);Object.defineProperty(f,"OPEN_EVENT",{enumerable:!0,writable:!0,value:"openDropdownToolbar"});
p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(p,"__esModule",{value:!0});var m=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=
c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){return b&&a(c.prototype,b),e&&a(c,e),c}}();b=f(0);var n=k(b);b=f(1);var e=k(b);b=f(8);b=k(b);f=f(3);var a=k(f);f=function(c){function b(a,c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d=(b.__proto__||Object.getPrototypeOf(b)).call(this,{tagName:"div",className:"te-mode-switch"});if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
d=!d||"object"!=typeof d&&"function"!=typeof d?this:d;return Object.defineProperty(d,"_buttons",{enumerable:!0,writable:!0,value:{}}),d._render(a),d._switchType(e.default.isExisty(c)?c:"markdown"),d}return q(b,c),m(b,[{key:"isShown",value:function(){return"block"===this._$rootElement.css("display")}},{key:"show",value:function(){this._$rootElement.css("display","block")}},{key:"hide",value:function(){this._$rootElement.css("display","none")}},{key:"_render",value:function(c){this._buttons.$markdown=
(0,n.default)('<button class="te-switch-button markdown" type="button">'+a.default.get("Markdown")+"</button>");this._buttons.$wysiwyg=(0,n.default)('<button class="te-switch-button wysiwyg" type="button">'+a.default.get("WYSIWYG")+"</button>");this.$el.append(this._buttons.$markdown);this.$el.append(this._buttons.$wysiwyg);c&&(c.append(this.$el),this._$rootElement=c);this.on("click .markdown",this._changeMarkdown.bind(this));this.on("click .wysiwyg",this._changeWysiwyg.bind(this));this.show()}},
{key:"_changeMarkdown",value:function(){this._switchType("markdown")}},{key:"_changeWysiwyg",value:function(){this._switchType("wysiwyg")}},{key:"_setActiveButton",value:function(a){this._buttons.$markdown.removeClass("active");this._buttons.$wysiwyg.removeClass("active");this._buttons["$"+a].addClass("active")}},{key:"_switchType",value:function(a){this._type!==a&&(this._type=a,this._setActiveButton(a),this.trigger("modeSwitched",this._type))}}]),b}(b.default);Object.defineProperty(f,"TYPE",{enumerable:!0,
writable:!0,value:{MARKDOWN:"markdown",WYSIWYG:"wysiwyg"}});p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(p,"__esModule",{value:!0});
var m=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),n=function C(a,c,b){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,c);if(void 0===d)return a=Object.getPrototypeOf(a),null===a?void 0:C(a,c,b);if("value"in d)return d.value;c=d.get;if(void 0!==c)return c.call(b)};b=f(0);var e=
k(b);b=f(1);var a=k(b);b=f(5);b=k(b);f=f(3);var c=k(f),d=/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})(\/([^\s]*))?$/;f=function(b){function f(b){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var d='\n            <label for="linkText">'+c.default.get("Link text")+'</label>\n            <input type="text" class="te-link-text-input" />\n            <label for="url">'+c.default.get("URL")+'</label>\n            <input type="text" class="te-url-input" />\n            <div class="te-button-section">\n                <button type="button" class="te-ok-button">'+
c.default.get("OK")+'</button>\n                <button type="button" class="te-close-button">'+c.default.get("Cancel")+"</button>\n            </div>\n        ";b=a.default.extend({header:!0,title:c.default.get("Insert link"),className:"te-popup-add-link tui-editor-popup",content:d},b);b=(f.__proto__||Object.getPrototypeOf(f)).call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?this:b}return q(f,
b),m(f,[{key:"_initInstance",value:function(a){n(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"_initInstance",this).call(this,a);this._editor=a.editor;this._eventManager=a.editor.eventManager}},{key:"_initDOM",value:function(){n(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"_initDOM",this).call(this);var a=this.$el.get(0);this._inputText=a.querySelector(".te-link-text-input");this._inputURL=a.querySelector(".te-url-input")}},{key:"_initDOMEvent",value:function(){var a=this;
n(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"_initDOMEvent",this).call(this);this.on("click .te-close-button",function(){return a.hide()});this.on("click .te-ok-button",function(){return a._addLink()});this.on("shown",function(){var c=a._inputText,b=a._inputURL,e=a._editor.getSelectedText().trim();c.value=e;d.exec(e)&&(b.value=e);0<e.length&&1>b.value.length?b.focus():(c.focus(),c.setSelectionRange(0,e.length))});this.on("hidden",function(){a._resetInputs()})}},{key:"_initEditorEvent",
value:function(){var a=this;n(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"_initEditorEvent",this).call(this);var c=this._eventManager;c.listen("focus",function(){return a.hide()});c.listen("closeAllPopup",function(){return a.hide()});c.listen("openPopupAddLink",function(){c.emit("closeAllPopup");a.show()})}},{key:"_addLink",value:function(){var a=this._getValue(),c=a.url;a=a.linkText;return this._clearValidationStyle(),1>a.length?void(0,e.default)(this._inputText).addClass("wrong"):
1>c.length?void(0,e.default)(this._inputURL).addClass("wrong"):(this._eventManager.emit("command","AddLink",{linkText:a,url:c}),void this.hide())}},{key:"_getValue",value:function(){return{url:this._inputURL.value,linkText:this._inputText.value}}},{key:"_clearValidationStyle",value:function(){(0,e.default)(this._inputURL).removeClass("wrong");(0,e.default)(this._inputText).removeClass("wrong")}},{key:"_resetInputs",value:function(){this._inputText.value="";this._inputURL.value="";this._clearValidationStyle()}}]),
f}(b.default);p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(p,"__esModule",{value:!0});var m=function(){function a(a,c){for(var b=
0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),n=function C(a,c,b){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,c);if(void 0===d)return a=Object.getPrototypeOf(a),null===a?void 0:C(a,c,b);if("value"in d)return d.value;c=d.get;if(void 0!==c)return c.call(b)};b=f(1);var e=k(b);b=f(5);b=k(b);var a=f(44),c=k(a);f=f(3);
var d=k(f);f=function(a){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c='\n            <div class="te-tab-section"></div>\n            <div class="te-url-type">\n                <label for="">'+d.default.get("Image URL")+'</label>\n                <input type="text" class="te-image-url-input" />\n            </div>\n            <form enctype="multipart/form-data" class="te-file-type">\n                <label for="">'+d.default.get("Select image file")+
'</label>\n                <input type="file" class="te-image-file-input" accept="image/*" />\n            </form>\n            <label for="url">'+d.default.get("Description")+'</label>\n            <input type="text" class="te-alt-text-input" />\n            <div class="te-button-section">\n                <button type="button" class="te-ok-button">'+d.default.get("OK")+'</button>\n                <button type="button" class="te-close-button">'+d.default.get("Cancel")+"</button>\n            </div>\n        ";
a=e.default.extend({header:!0,title:d.default.get("Insert image"),className:"te-popup-add-image tui-editor-popup",content:c},a);a=(b.__proto__||Object.getPrototypeOf(b)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?this:a}return q(b,a),m(b,[{key:"_initInstance",value:function(a){n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_initInstance",this).call(this,a);this.eventManager=
a.eventManager}},{key:"_initDOM",value:function(){n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_initDOM",this).call(this);var a=this.$el;this._$imageUrlInput=a.find(".te-image-url-input");this._$imageFileInput=a.find(".te-image-file-input");this._$altTextInput=a.find(".te-alt-text-input");var e=a.find(".te-file-type");a=a.find(".te-url-type");var f=this.$body.find(".te-tab-section");this.tab=new c.default({initName:d.default.get("File"),items:[d.default.get("File"),d.default.get("URL")],
sections:[e,a]});f.append(this.tab.$el)}},{key:"_initDOMEvent",value:function(){var a=this;n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_initDOMEvent",this).call(this);this.on("shown",function(){return a._$imageUrlInput.focus()});this.on("hidden",function(){return a._resetInputs()});this.on("change .te-image-file-input",function(){var c=a._$imageFileInput.val().split("\\").pop();a._$altTextInput.val(c)});this.on("click .te-close-button",function(){return a.hide()});this.on("click .te-ok-button",
function(){var c=a._$imageUrlInput.val(),b=a._$altTextInput.val();c?a._applyImage(c,b):(c=a._$imageFileInput.get(0).files,c.length&&(c=c.item(0),a.eventManager.emit("addImageBlobHook",c,function(c,d){return a._applyImage(c,b||d)},"ui")));a.hide()});this.tab.on("itemClick",function(){return a._resetInputs()})}},{key:"_initEditorEvent",value:function(){var a=this;n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_initEditorEvent",this).call(this);this.eventManager.listen("focus",function(){return a.hide()});
this.eventManager.listen("closeAllPopup",function(){return a.hide()});this.eventManager.listen("openPopupAddImage",function(){a.eventManager.emit("closeAllPopup");a.show()})}},{key:"_applyImage",value:function(a,c){this.eventManager.emit("command","AddImage",{imageUrl:a,altText:c||"image"});this.hide()}},{key:"_resetInputs",value:function(){this.$el.find("input").val("")}},{key:"remove",value:function(){this.tab.remove();n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this)}}]),
b}(b.default);p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(p,"__esModule",{value:!0});var m=function(){function a(a,c){for(var b=
0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),n=function v(a,c,b){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,c);if(void 0===e)return a=Object.getPrototypeOf(a),null===a?void 0:v(a,c,b);if("value"in e)return e.value;c=e.get;if(void 0!==c)return c.call(b)};b=f(0);var e=k(b);b=f(1);var a=k(b);b=f(5);b=k(b);f=f(3);
var c=k(f);f=function(b){function f(b){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var e='\n            <button type="button" class="te-table-add-row">'+c.default.get("Add row")+'</button>\n            <button type="button" class="te-table-add-col">'+c.default.get("Add col")+'</button>\n            <button type="button" class="te-table-remove-row">'+c.default.get("Remove row")+'</button>\n            <button type="button" class="te-table-remove-col">'+c.default.get("Remove col")+
'</button>\n            <hr/>\n            <button type="button" class="te-table-col-align-left">'+c.default.get("Align left")+'</button>\n            <button type="button" class="te-table-col-align-center">'+c.default.get("Align center")+'</button>\n            <button type="button" class="te-table-col-align-right">'+c.default.get("Align right")+'</button>\n            <hr/>\n            <button type="button" class="te-table-remove">'+c.default.get("Remove table")+"</button>\n        ";b=a.default.extend({header:!1,
className:"te-popup-table-utils",content:e},b);b=(f.__proto__||Object.getPrototypeOf(f)).call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?this:b}return q(f,b),m(f,[{key:"_initInstance",value:function(a){n(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"_initInstance",this).call(this,a);this.eventManager=a.eventManager}},{key:"_initDOMEvent",value:function(){var a=this;n(f.prototype.__proto__||
Object.getPrototypeOf(f.prototype),"_initDOMEvent",this).call(this);this.on("click .te-table-add-row",function(){return a.eventManager.emit("command","AddRow")});this.on("click .te-table-add-col",function(){return a.eventManager.emit("command","AddCol")});this.on("click .te-table-remove-row",function(){return a.eventManager.emit("command","RemoveRow")});this.on("click .te-table-col-align-left",function(){return a.eventManager.emit("command","AlignCol","left")});this.on("click .te-table-col-align-center",
function(){return a.eventManager.emit("command","AlignCol","center")});this.on("click .te-table-col-align-right",function(){return a.eventManager.emit("command","AlignCol","right")});this.on("click .te-table-remove-col",function(){return a.eventManager.emit("command","RemoveCol")});this.on("click .te-table-remove",function(){return a.eventManager.emit("command","RemoveTable")})}},{key:"_initEditorEvent",value:function(){var a=this;n(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"_initEditorEvent",
this).call(this);this.eventManager.listen("focus",function(){return a.hide()});this.eventManager.listen("mousedown",function(){return a.hide()});this.eventManager.listen("closeAllPopup",function(){return a.hide()});this.eventManager.listen("openPopupTableUtils",function(c){var b=a.$el.parent().offset(),f=c.clientX-b.left;c=c.clientY-b.top+(0,e.default)(window).scrollTop();a.$el.css({position:"absolute",top:c+5,left:f+10});a.eventManager.emit("closeAllPopup");a.show()})}}]),f}(b.default);p.default=
f},function(b,p,f){function k(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function b(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;
"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,c,d){return c&&b(a.prototype,c),d&&b(a,d),a}}(),m=function h(a,c,b){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,c);if(void 0===d)return a=Object.getPrototypeOf(a),null===a?void 0:h(a,c,b);if("value"in d)return d.value;c=d.get;if(void 0!==c)return c.call(b)},n=(b=f(1))&&b.__esModule?b:{default:b};f=f(5);f=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
a=n.default.extend({header:!1,className:"te-popup-add-table",content:'\n    <div class="te-table-selection">\n        <div class="te-table-header"></div>\n        <div class="te-table-body"></div>\n        <div class="te-selection-area"></div>\n    </div>\n    <p class="te-description"></p>\n'},a);a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?this:
a}return k(c,a),q(c,[{key:"_initInstance",value:function(a){m(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"_initInstance",this).call(this,a);this._selectedBound={};this._tableBound={};this._eventManager=a.eventManager;this._$button=a.$button}},{key:"_initDOM",value:function(){m(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"_initDOM",this).call(this);this._cacheElements();this._setTableSizeByBound(5,7)}},{key:"_initDOMEvent",value:function(a){var b=this;m(c.prototype.__proto__||
Object.getPrototypeOf(c.prototype),"_initDOMEvent",this).call(this,a);this.on("mousemove .te-table-selection",function(a){a=b._getSelectionBoundByOffset(a.pageX-b._selectionOffset.left,a.pageY-b._selectionOffset.top);b._resizeTableBySelectionIfNeed(a.col,a.row);b._setSelectionAreaByBound(a.col,a.row);b._setDisplayText(a.col,a.row);b._setSelectedBound(a.col,a.row)});this.on("click .te-table-selection",function(){var a=b._getSelectedTableSize();b._eventManager.emit("command","Table",a.col,a.row)})}},
{key:"_initEditorEvent",value:function(){var a=this;m(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"_initEditorEvent",this).call(this);this._eventManager.listen("focus",function(){return a.hide()});this._eventManager.listen("closeAllPopup",function(){return a.hide()});this._eventManager.listen("openPopupAddTable",function(){var c=a._$button,b=c.get(0),d=b.offsetLeft;a.$el.css({top:b.offsetTop+c.outerHeight(),left:d});a._eventManager.emit("closeAllPopup");a.show();a._selectionOffset=a.$el.find(".te-table-selection").offset()})}},
{key:"_cacheElements",value:function(){this.$header=this.$el.find(".te-table-header");this.$body=this.$el.find(".te-table-body");this.$selection=this.$el.find(".te-selection-area");this.$desc=this.$el.find(".te-description")}},{key:"_resizeTableBySelectionIfNeed",value:function(a,c){(a=this._getResizedTableBound(a,c))&&this._setTableSizeByBound(a.col,a.row)}},{key:"_getResizedTableBound",value:function(a,c){var b=void 0,d=void 0,f=void 0;return 5<=a&&9>a?b=a+1:5>a&&(b=5),7<=c&&14>c?d=c+1:7>c&&(d=
7),this._isNeedResizeTable(b,d)&&(f={row:d||this._tableBound.row,col:b||this._tableBound.col}),f}},{key:"_isNeedResizeTable",value:function(a,c){return a&&a!==this._tableBound.col||c&&c!==this._tableBound.row}},{key:"_getBoundByOffset",value:function(a,c){return{row:parseInt(c/17,10),col:parseInt(a/25,10)}}},{key:"_getOffsetByBound",value:function(a,c){return{x:25*a+25,y:17*c+17}}},{key:"_setTableSizeByBound",value:function(a,c){var b=this._getOffsetByBound(a,c-1);this._setTableSize(b.x,b.y);this._tableBound.row=
c;this._tableBound.col=a}},{key:"_getSelectionBoundByOffset",value:function(a,c){a=this._getBoundByOffset(a,c);return 1>a.row?a.row=1:a.row>this._tableBound.row&&(a.row=this._tableBound.row),1>a.col?a.col=1:a.col>this._tableBound.col&&(a.col=this._tableBound.col),a}},{key:"_setSelectionAreaByBound",value:function(a,c){a=this._getOffsetByBound(a,c);this._setSelectionArea(a.x,a.y)}},{key:"_setSelectedBound",value:function(a,c){this._selectedBound.col=a;this._selectedBound.row=c}},{key:"_getSelectedTableSize",
value:function(){return{row:this._selectedBound.row+1,col:this._selectedBound.col+1}}},{key:"_setDisplayText",value:function(a,c){this.$desc.html(a+1+" x "+(c+1))}},{key:"_setTableSize",value:function(a,c){a+=1;c+=1;this.$header.css({height:17,width:a});this.$body.css({height:c,width:a});this.$el.css({width:a+30})}},{key:"_setSelectionArea",value:function(a,c){this.$selection.css({height:c+1,width:a+1})}}]),c}((f&&f.__esModule?f:{default:f}).default);f.CELL_WIDTH=25;f.CELL_HEIGHT=17;f.MIN_ROW_SELECTION_INDEX=
1;f.MIN_COL_SELECTION_INDEX=1;p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(p,"__esModule",{value:!0});var m=function(){function a(a,
c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),n=function v(a,c,b){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,c);if(void 0===e)return a=Object.getPrototypeOf(a),null===a?void 0:v(a,c,b);if("value"in e)return e.value;c=e.get;if(void 0!==c)return c.call(b)};b=f(0);var e=k(b);b=f(1);var a=k(b);b=f(5);
b=k(b);f=f(3);var c=k(f);f=function(b){function f(b){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var e='\n            <ul>\n                <li data-value="1" data-type="Heading"><h1>'+c.default.get("Heading")+' 1</h1></li>\n                <li data-value="2" data-type="Heading"><h2>'+c.default.get("Heading")+' 2</h2></li>\n                <li data-value="3" data-type="Heading"><h3>'+c.default.get("Heading")+' 3</h3></li>\n                <li data-value="4" data-type="Heading"><h4>'+
c.default.get("Heading")+' 4</h4></li>\n                <li data-value="5" data-type="Heading"><h5>'+c.default.get("Heading")+' 5</h5></li>\n                <li data-value="6" data-type="Heading"><h6>'+c.default.get("Heading")+' 6</h6></li>\n                <li data-type="Paragraph"><div>'+c.default.get("Paragraph")+"</div></li>\n            </ul>\n        ";b=a.default.extend({header:!1,className:"te-heading-add",content:e},b);b=(f.__proto__||Object.getPrototypeOf(f)).call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?this:b}return q(f,b),m(f,[{key:"_initInstance",value:function(a){n(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"_initInstance",this).call(this,a);this._eventManager=a.eventManager;this._$button=a.$button}},{key:"_initDOMEvent",value:function(){var a=this;n(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"_initDOMEvent",this).call(this);this.on("click li",function(c){c=(0,e.default)(c.target).closest("li");a._eventManager.emit("command",
c.data("type"),c.data("value"))})}},{key:"_initEditorEvent",value:function(){var a=this;n(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"_initEditorEvent",this).call(this);this._eventManager.listen("focus",this.hide.bind(this));this._eventManager.listen("closeAllPopup",this.hide.bind(this));this._eventManager.listen("openHeadingSelect",function(){var c=a._$button,b=c.get(0),e=b.offsetLeft;a.$el.css({top:b.offsetTop+c.outerHeight(),left:e});a._eventManager.emit("closeAllPopup");a.show()})}}]),
f}(b.default);p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?a:c}function m(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});
c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(p,"__esModule",{value:!0});var n=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),e=function v(a,c,b){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,c);if(void 0===e)return a=Object.getPrototypeOf(a),
null===a?void 0:v(a,c,b);if("value"in e)return e.value;c=e.get;if(void 0!==c)return c.call(b)};b=f(0);var a=k(b);b=f(1);var c=k(b);f=f(5);f=function(b){function f(a){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var b=[];return a.languages.forEach(function(a){return b.push('<button type="button" class="te-popup-code-block-lang-'+a+'" data-lang="'+a+'">'+a+"</button>")}),a=c.default.extend({header:!1,className:"te-popup-code-block-languages",content:b.join("")},a),
q(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,a))}return m(f,b),n(f,[{key:"_initInstance",value:function(a){e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"_initInstance",this).call(this,a);this._$buttons=this._currentButton=this._onDismissed=this._onSelectedLanguage=null;this._languages=a.languages;this.eventManager=a.eventManager}},{key:"_initDOM",value:function(a){e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"_initDOM",this).call(this,a);this.$el.css("z-index",
1E4);this._$buttons=this.$el.find("button");this._activateButtonByIndex(0)}},{key:"_initDOMEvent",value:function(){var c=this;e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"_initDOMEvent",this).call(this);var b=function(b){b=(0,a.default)(b.target).data("lang");c._onSelectedLanguage&&c._onSelectedLanguage(b);c.hide()};this._languages.forEach(function(a){return c.on("mousedown .te-popup-code-block-lang-"+a,b)})}},{key:"_initEditorEvent",value:function(){var a=this;e(f.prototype.__proto__||
Object.getPrototypeOf(f.prototype),"_initEditorEvent",this).call(this);this.eventManager.listen("openPopupCodeBlockLanguages",function(c){a.show(c.callback);var b=a.$el.get(0).style;return b.top=c.offset.top+"px",b.left=c.offset.left+"px",a.setCurrentLanguage(c.language),a});this.eventManager.listen("focus",function(){return a.hide()});this.eventManager.listen("mousedown",function(){return a.hide()});this.eventManager.listen("closeAllPopup",function(){return a.hide()});this.eventManager.listen("closePopupCodeBlockLanguages",
function(){return a.hide()});this.eventManager.listen("scroll",function(){return a.hide()})}},{key:"_activateButtonByIndex",value:function(c){this._currentButton&&(0,a.default)(this._currentButton).removeClass("active");this._currentButton=this._$buttons.get(c);(0,a.default)(this._currentButton).addClass("active");this._currentButton.scrollIntoView()}},{key:"prev",value:function(){var a=this._$buttons.index(this._currentButton)-1;0>a&&(a=this._$buttons.length-1);this._activateButtonByIndex(a)}},{key:"next",
value:function(){var a=this._$buttons.index(this._currentButton)+1;a>=this._$buttons.length&&(a=0);this._activateButtonByIndex(a)}},{key:"getCurrentLanguage",value:function(){return(0,a.default)(this._currentButton).data("lang")}},{key:"setCurrentLanguage",value:function(a){a=this._$buttons.filter(".te-popup-code-block-lang-"+a);0<a.length&&(a=this._$buttons.index(a),this._activateButtonByIndex(a))}},{key:"show",value:function(a){this._onSelectedLanguage=a.selected;this._onDismissed=a.dismissed;e(f.prototype.__proto__||
Object.getPrototypeOf(f.prototype),"show",this).call(this)}},{key:"hide",value:function(){this._onDismissed&&this._onDismissed();this._onDismissed=this._onSelectedLanguage=null;e(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"hide",this).call(this)}}]),f}(k(f).default);p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);
a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(p,"__esModule",{value:!0});var m=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),n=function V(a,c,b){null===
a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,c);if(void 0===d)return a=Object.getPrototypeOf(a),null===a?void 0:V(a,c,b);if("value"in d)return d.value;c=d.get;if(void 0!==c)return c.call(b)};b=f(0);var e=k(b);b=f(1);var a=k(b);b=f(5);b=k(b);var c=f(86),d=k(c);c=f(87);var h=k(c);c=f(88);var r=k(c);c=f(89);var l=k(c);f=f(3);var v=k(f);f=function(c){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d='\n            <div class="popup-editor-body"></div>\n            <div class="te-button-section">\n                <button type="button" class="te-ok-button">'+
v.default.get("OK")+'</button>\n                <button type="button" class="te-close-button">'+v.default.get("Cancel")+"</button>\n            </div>\n        ";c=a.default.extend({header:!0,title:"CodeBlock Editor",content:d,className:"tui-popup-code-block-editor",headerButtons:'\n    <button type="button" class="popup-editor-toggle-scroll"></button>\n    <button type="button" class="popup-editor-toggle-preview"></button>\n    <button type="button" class="popup-editor-toggle-fit"></button>\n    <button type="button" class="tui-popup-close-button"></button>\n',
modal:!0},c);c=(b.__proto__||Object.getPrototypeOf(b)).call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?this:c}return q(b,c),m(b,[{key:"_initInstance",value:function(a){n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_initInstance",this).call(this,a);this.eventManager=a.eventManager;this.convertor=a.convertor}},{key:"_initDOM",value:function(a){n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),
"_initDOM",this).call(this,a);a=this.$el.get(0);this._body=a.querySelector(".popup-editor-body");this._toggleFitButton=a.querySelector(".popup-editor-toggle-fit");this._togglePreviewButton=a.querySelector(".popup-editor-toggle-preview");this._toggleScrollButton=a.querySelector(".popup-editor-toggle-scroll");this._okButton=a.querySelector(".te-ok-button");this._closeButton=a.querySelector(".te-close-button");this._codeMirrorWrapper=this._createCodeBlockEditor();this._previewWrapper=this._createPreview();
this._scrollSyncSplit=new d.default(this._body,this._codeMirrorWrapper,this._previewWrapper);this._updateFitWindowButton();this._updatePreviewButton();this._updateScrollButton();this._codeBlockLanguagesCombo=this._createCodeBlockLanguagesCombo()}},{key:"_initDOMEvent",value:function(){var a=this;n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_initDOMEvent",this).call(this);this.on("scroll",function(a){return a.preventDefault()});this.on("click .popup-editor-toggle-fit",function(){return a._toggleFitToWindow()});
this.on("click .popup-editor-toggle-preview",function(){return a._togglePreview()});this.on("click .popup-editor-toggle-scroll",function(){return a._toggleScroll()});this.on("click .te-ok-button",function(){return a._save()});this.on("click .te-close-button",function(){return a.hide()});this.on("click .popup-editor-close",function(){return a.hide()});this.on("click .popup-editor-editor-wrapper",function(c){c.target===a._codeMirrorWrapper&&a._focusEditor(!0)})}},{key:"_initEditorEvent",value:function(){var a=
this;n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_initEditorEvent",this).call(this);this.eventManager.listen("openPopupCodeBlockEditor",function(c){return a.eventManager.emit("closeAllPopup"),a.show(c),a});this.eventManager.listen("closeAllPopup",this.hide.bind(this));this.eventManager.listen("closePopupCodeBlockEditor",this.hide.bind(this))}},{key:"_createCodeBlockEditor",value:function(){var a=document.createElement("div");return a.className="popup-editor-editor-wrapper",this._codeBlockEditor=
new h.default(a,this.eventManager),a}},{key:"_createPreview",value:function(){var a=document.createElement("div");return this._codeBlockPreview=new r.default((0,e.default)(a),this.eventManager,this.convertor,this._codeBlockEditor),a}},{key:"_createCodeBlockLanguagesCombo",value:function(){var a=this,c=this.getTitleElement(),b=new l.default(this.eventManager);return b.setOnLanguageSelected(function(c){a._codeBlockEditor.setLanguage(c);a._codeBlockEditor.refresh();a._focusEditor()}),c.innerHTML="CodeBlock Editor",
c.appendChild(b.getElement()),b}},{key:"_updateFitWindowButton",value:function(){(0,e.default)(this._toggleFitButton).toggleClass("active",this.isFitToWindow())}},{key:"_updatePreviewButton",value:function(){(0,e.default)(this._togglePreviewButton).toggleClass("active",this._scrollSyncSplit.isSplitView())}},{key:"_updateScrollButton",value:function(){this._scrollSyncSplit.isSplitView()?this._toggleScrollButton.style.display="inline-block":this._toggleScrollButton.style.display="none";(0,e.default)(this._toggleScrollButton).toggleClass("active",
this._scrollSyncSplit.isScrollSynced())}},{key:"_focusEditor",value:function(a){this._codeBlockEditor.focus();a?this._codeBlockEditor.moveCursorToEnd():this._codeBlockEditor.moveCursorToStart()}},{key:"_togglePreview",value:function(){this._scrollSyncSplit.toggleSplitView();this._updatePreviewButton();this._updateScrollButton();this._codeBlockEditor.refresh()}},{key:"_toggleFitToWindow",value:function(){this.toggleFitToWindow();this._updateFitWindowButton();this._codeBlockEditor.refresh()}},{key:"_toggleScroll",
value:function(){this._scrollSyncSplit.toggleScrollSync();this._updateScrollButton()}},{key:"_save",value:function(){this._codeBlockEditor.save(this._codeBlockElement);this.hide()}},{key:"_load",value:function(a){this._codeBlockElement=a;this._codeBlockEditor.load(a);this._codeBlockLanguagesCombo.setLanguage(this._codeBlockEditor.getLanguage());this._focusEditor();this._codeBlockPreview.refresh()}},{key:"show",value:function(a){if(n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"show",
this).call(this),!a)throw Error("should be called with codeBlockElement");this._load(a)}},{key:"hide",value:function(){this.setFitToWindow(!1);this._codeBlockEditor&&this._codeBlockEditor.clear();this._codeBlockPreview&&this._codeBlockPreview.clear();this._codeBlockElement=null;n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"hide",this).call(this)}}]),b}(b.default);p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=function(){function b(a,c){for(var b=
0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,c,d){return c&&b(a.prototype,c),d&&b(a,d),a}}(),q=(b=f(0))&&b.__esModule?b:{default:b},m=(f=f(1))&&f.__esModule?f:{default:f},n={left:"tui-split-content-left",right:"tui-split-content-right"};f=function(){function b(a,c,d){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
e=m.default.extend({showScrollSyncButton:!1,scrollSync:!0,splitView:!0},e);this._baseElement=a;this._contentElements=[];this._initDom(c,d,e);this._initDomEvent()}return k(b,[{key:"_initDom",value:function(a,c,b){var d=document.createElement("div");d.className="tui-split-scroll";this._el=d;var e=document.createElement("div");e.className="tui-split-scroll-wrapper";this._scrollWrapper=e;this._setScrollSync(b.scrollSync);this.setSplitView(b.splitView);b=document.createElement("div");b.className="tui-split-scroll-content";
this._contentWrapper=b;var f=document.createElement("div");f.className="tui-splitter";this._baseElement.appendChild(d);d.appendChild(e);e.appendChild(b);e.appendChild(f);this._setLeft(a);this._setRight(c)}},{key:"_initDomEvent",value:function(){this._contentWrapper.addEventListener("scroll",this.sync.bind(this))}},{key:"_requireScrollIntoView",value:function(a){var c=a.target,b=c.getBoundingClientRect();a=b.top;b=b.bottom;if(this.isScrollSynced())var e=this._contentWrapper;else if((0,q.default)(c).parents(this._contentElements.left).length)e=
this._contentElements.left;else{if(!(0,q.default)(c).parents(this._contentElements.right).length)return;e=this._contentElements.right}var f=e.getBoundingClientRect();c=f.top;f=f.bottom;a<c?e.scrollTop=e.scrollTop+a-c:b>f&&(e.scrollTop=e.scrollTop+b-f);this.sync()}},{key:"_setContentElement",value:function(a,c){var b=this,e=this._contentElements[c];e&&((0,q.default)(e).off("requireScrollIntoView"),this._contentWrapper.removeChild(e));(0,q.default)(a).addClass(n[c]);this._contentWrapper.appendChild(a);
(0,q.default)(a).on("requireScrollIntoView",function(a){return b._requireScrollIntoView(a)});(0,q.default)(a).on("requireScrollSync",function(){return b.sync()});this._contentElements[c]=a;this.sync()}},{key:"_setLeft",value:function(a){this._setContentElement(a,"left")}},{key:"_setRight",value:function(a){this._setContentElement(a,"right")}},{key:"_setScrollSync",value:function(a){(0,q.default)(this._el).toggleClass("scroll-sync",a)}},{key:"toggleScrollSync",value:function(){(0,q.default)(this._el).toggleClass("scroll-sync")}},
{key:"setSplitView",value:function(a){(0,q.default)(this._el).toggleClass("single-content",!a)}},{key:"toggleSplitView",value:function(){(0,q.default)(this._el).toggleClass("single-content")}},{key:"isScrollSynced",value:function(){return(0,q.default)(this._el).hasClass("scroll-sync")}},{key:"isSplitView",value:function(){return!(0,q.default)(this._el).hasClass("single-content")}},{key:"sync",value:function(){if(this._contentElements.left&&this._contentElements.right){var a=this._contentWrapper.clientHeight,
c=this._contentWrapper.scrollTop,b=this._contentElements.left,e=this._contentElements.right,f=0<b.offsetHeight-a?b:e;b=f===b?e:b;e=f.offsetHeight;var l=Math.max(e-a,0);a=Math.max(b.offsetHeight,a);f.style.top="0px";b.style.top=c/l*(e-a)+"px"}}},{key:"scrollTop",value:function(a){this._contentWrapper.scrollTop=a}}]),b}();p.default=f},function(b,p,f){function k(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=
Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,a,c){return a&&b(e.prototype,a),c&&b(e,c),e}}(),m=(b=f(0))&&b.__esModule?b:{default:b};
f=f(36);f=function(b){function e(a,c){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");a=(e.__proto__||Object.getPrototypeOf(e)).call(this,a,{singleCursorHeightPerLine:!1,theme:"none"});if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!=typeof a&&"function"!=typeof a?this:a;return a._language="",a._eventManager=c,a._initEvent(),a}return k(e,b),q(e,[{key:"_initEvent",value:function(){var a=this;this.on("cursorActivity",
this._onRequireScrollIntoView.bind(this));this.on("beforeChange",function(c,b){"paste"===b.origin&&a._eventManager.emit("pasteBefore",{source:"codeblock",data:b})})}},{key:"_onRequireScrollIntoView",value:function(){var a=this.getCursor(),c=this.getWrapperElement();setTimeout(function(){var b=c.querySelector("pre:nth-child("+(a.line+1)+")");(0,m.default)(b).trigger("requireScrollIntoView")},0)}},{key:"load",value:function(a){a=a.cloneNode(!0);this.setLanguage(a.getAttribute("data-language")||"");
this.setEditorCodeText(a.textContent)}},{key:"save",value:function(a){a.innerHTML="";a.textContent=this.getEditorCodeText();a.setAttribute("data-language",this._language);(0,m.default)(a).trigger("language-changed")}},{key:"clear",value:function(){this.setLanguage("");this.setEditorCodeText("")}},{key:"getLanguage",value:function(){return this._language}},{key:"setLanguage",value:function(){this._language=0<arguments.length&&void 0!==arguments[0]?arguments[0]:""}},{key:"getEditorCodeText",value:function(){return this.getValue()}},
{key:"setEditorCodeText",value:function(){this.setValue(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")}},{key:"refresh",value:function(){this.cm.refresh()}}]),e}((f&&f.__esModule?f:{default:f}).default);p.default=f},function(b,p,f){function k(b,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?
Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,a,c){return a&&b(e.prototype,a),c&&b(e,c),e}}(),m=function d(b,a,c){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,a);if(void 0===e)return b=Object.getPrototypeOf(b),null===b?void 0:d(b,
a,c);if("value"in e)return e.value;a=e.get;if(void 0!==a)return a.call(c)};b=f(13);b=function(b){function a(c,b,e,f){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");c=(a.__proto__||Object.getPrototypeOf(a)).call(this,c,b,e,!0);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!=typeof c&&"function"!=typeof c?this:c;return c._codeBlockEditor=f,c._initEvent(),c}return k(a,b),q(a,[{key:"_initEvent",value:function(){var a=
this;this._codeBlockEditor.on("update",function(){return a.lazyRunner.run("refresh")})}},{key:"refresh",value:function(){var c=this._codeBlockEditor.getLanguage(),b=this._codeBlockEditor.getEditorCodeText();m(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"refresh",this).call(this,"```"+c+"\n"+b+"\n```");this.$el.trigger("requireScrollSync")}},{key:"clear",value:function(){m(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"render",this).call(this,"")}}]),a}((b&&b.__esModule?b:
{default:b}).default);p.default=b},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(p,"__esModule",{value:!0});var q=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){return b&&a(c.prototype,b),e&&a(c,e),c}}();b=f(0);var m=k(b);b=f(3);var n=k(b);f=f(19);var e=k(f);f=function(){function a(c){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this._eventManager=c;this._initDOM();this._initDOMEvent()}return q(a,[{key:"_initDOM",value:function(){this._inputLanguage=(0,m.default)('<input type="text" maxlength="20" placeholder="'+n.default.get("Choose language")+'">').get(0);this._wrapper=(0,m.default)('<span class="te-input-language">').get(0);this._wrapper.appendChild(this._inputLanguage)}},{key:"_initDOMEvent",value:function(){var a=this;this._inputLanguage.addEventListener("keydown",
function(c){return a._onKeyEvent(c)});this._inputLanguage.addEventListener("focus",function(){return a._showPopupCodeBlockLanguages()});this._inputLanguage.addEventListener("focusout",function(){return a._onFocusOut()});this._wrapper.addEventListener("mousedown",function(c){c.target===a._wrapper&&(c.preventDefault(),a._toggleFocus())})}},{key:"_showPopupCodeBlockLanguages",value:function(){var a=this,b=this._inputLanguage.getBoundingClientRect();(0,m.default)(this._wrapper).toggleClass("active",!0);
this.active=!0;this._popupCodeBlockLanguages=this._eventManager.emitReduce("openPopupCodeBlockLanguages",{language:this._prevStoredLanguage,offset:{left:b.left,top:b.bottom},callback:{selected:function(c){return a._onLanguageSelectedFromList(c)},dismissed:function(){a._popupCodeBlockLanguages=null}}})}},{key:"_toggleFocus",value:function(){var a=this._inputLanguage;(0,m.default)(this._wrapper).hasClass("active")?a.blur():a.focus()}},{key:"_onFocusOut",value:function(){(0,m.default)(this._wrapper).toggleClass("active",
!1);this._inputLanguage.value=this._prevStoredLanguage;this._hidePopupCodeBlockLanguages()}},{key:"_onKeyEvent",value:function(a){if(this._popupCodeBlockLanguages)switch(a.which){case e.default.keyCode("UP"):this._popupCodeBlockLanguages.prev();a.preventDefault();break;case e.default.keyCode("DOWN"):this._popupCodeBlockLanguages.next();a.preventDefault();break;case e.default.keyCode("ENTER"):case e.default.keyCode("TAB"):var c=this._popupCodeBlockLanguages.getCurrentLanguage();this._inputLanguage.value=
c;this._storeInputLanguage();a.preventDefault();break;default:this._popupCodeBlockLanguages.hide()}else a.which!==e.default.keyCode("ENTER")&&a.which!==e.default.keyCode("TAB")||(this._storeInputLanguage(),a.preventDefault())}},{key:"_onLanguageSelectedFromList",value:function(a){this._inputLanguage.value=a;this._storeInputLanguage()}},{key:"setOnLanguageSelected",value:function(a){this._onLanguageSelected=a}},{key:"_hidePopupCodeBlockLanguages",value:function(){this._eventManager.emit("closePopupCodeBlockLanguages")}},
{key:"setLanguage",value:function(a){this._prevStoredLanguage=a;this._inputLanguage.value=a}},{key:"_storeInputLanguage",value:function(){var a=this._inputLanguage.value;this.setLanguage(a);this._onLanguageSelected&&this._onLanguageSelected(a);this._hidePopupCodeBlockLanguages()}},{key:"getElement",value:function(){return this._wrapper}}]),a}();p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=(b=f(2))&&b.__esModule?b:{default:b};var k=f(34),q=/^(\*{2}|_{2}).*\1$/,m=
/[*_]{2,}([^*_]*)[*_]{2,}/g;f=b.default.command("markdown",{name:"Bold",keyMap:["CTRL+B","META+B"],exec:function(b){var e=b.getEditor(),a=e.getDoc();b=b.getRange();(0,k.changeSyntax)(a,b,"**",q,m);e.focus()}});p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=(b=f(2))&&b.__esModule?b:{default:b};var k=f(34),q=/^(\*{3}|_{3}).*\1$/,m=/^(\*{2}|_{2}).*\1$/,n=/^(\*|_).*\1$/,e=/([^*_])[*_]([^*_]+)[*_]([^*_])/g,a=function(a){return q.test(a)},c=function(a){return m.test(a)},
d=function(a){return n.test(a)},h=function(a){return a?a.replace(e,"$1$2$3"):""},r=function(b,e,f){f=k.expandReplace.bind(this,b,f);return f(3,a,function(a){return(0,k.removeSyntax)(a,"*")})||f(2,c,function(a){return(0,k.appendSyntax)(h(a),"*")})||f(1,d,function(a){return(0,k.removeSyntax)(a,"*")})||(0,k.replace)(b,e,a,function(a){return(0,k.removeSyntax)(a,"*")})||(0,k.replace)(b,e,c,function(a){return(0,k.appendSyntax)(h(a),"*")})||(0,k.replace)(b,e,d,function(a){return(0,k.removeSyntax)(a,"*")})},
l=function(b,e){return(0,k.expandReplace)(b,e,3,a,function(a){return(0,k.removeSyntax)(a,"*")})||(0,k.expandReplace)(b,e,2,c,function(a){return(0,k.appendSyntax)(a,"*")})||(0,k.expandReplace)(b,e,1,d,function(){return""})||b.replaceSelection("**","around")};f=b.default.command("markdown",{name:"Italic",keyMap:["CTRL+I","META+I"],exec:function(b){var e=b.getEditor(),f=e.getDoc(),m=f.getCursor(),q=m.line;m=m.ch;b=b.getRange();var n=f.getSelection();n?r(f,n,b)||f.replaceSelection((0,k.appendSyntax)(h(n),
"*"),"around"):(l(f,b),b=f.getSelection(),a(b)||d(b)&&!c(b)?m+=1:--m,f.setCursor(q,m));e.focus()}});p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=(b=f(2))&&b.__esModule?b:{default:b};var k=f(34),q=/^~~.*~~$/,m=/~~([^~]*)~~/g;f=b.default.command("markdown",{name:"Strike",keyMap:["CTRL+S","META+S"],exec:function(b){var e=b.getEditor(),a=e.getDoc();b=b.getRange();(0,k.changeSyntax)(a,b,"~~",q,m);e.focus()}});p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",
{value:!0});b=f(2);var k=/^> ?/;b=(b&&b.__esModule?b:{default:b}).default.command("markdown",{name:"Blockquote",keyMap:["ALT+Q","ALT+Q"],exec:function(b){var f=b.getEditor(),k=f.getDoc();b=b.getCurrentRange();var e={line:b.from.line,ch:0},a={line:b.to.line,ch:k.getLineHandle(b.to.line).text.length},c=k.getRange(e,a).split("\n"),d=this._haveBlockquote(c),h=void 0;(h=d?this._removeBlockquote(c):this._addBlockquote(c),k.replaceRange(h.join("\n"),e,a),d)?this._isBlockquoteWithSpace(c[c.length-1])?b.to.ch-=
2:--b.to.ch:b.to.ch+=2;k.setCursor(b.to);f.focus()},_haveBlockquote:function(b){for(var f=0;f<b.length;f+=1)if(!k.test(b[f]))return!1;return!0},_addBlockquote:function(b){return b.map(function(b){return"> "+b})},_removeBlockquote:function(b){return b.map(function(b){return b.replace(k,"")})},_isBlockquoteWithSpace:function(b){return/^> /.test(b)}});p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=(b=f(1))&&b.__esModule?b:{default:b};f=f(2);var q=/^#+\s/g;f=(f&&f.__esModule?
f:{default:f}).default.command("markdown",{name:"Heading",exec:function(b,f){var e=b.getEditor(),a=e.getDoc();b=b.getCurrentRange();var c={line:b.from.line,ch:0},d={line:b.to.line,ch:a.getLineHandle(b.to.line).text.length},h=a.getLine(d.line).length,m=a.getRange(c,d).split("\n");k.default.forEachArray(m,function(a,c){var b=f,d=a.match(q),e="";do e+="#",--b;while(0<b);d&&(a=a.split(d[0])[1]);m[c]=e+" "+a});a.replaceRange(m.join("\n"),c,d);b.to.ch+=a.getLine(d.line).length-h;a.setSelection(c,b.to);
e.focus()}});p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=(b=f(1))&&b.__esModule?b:{default:b};f=f(2);f=(f&&f.__esModule?f:{default:f}).default.command("markdown",{name:"Paragraph",exec:function(b){var f=b.getEditor(),n=f.getDoc();b=b.getCurrentRange();var e={line:b.from.line,ch:0},a={line:b.to.line,ch:n.getLineHandle(b.to.line).text.length},c=n.getLine(a.line).length,d=n.getRange(e,a).split("\n");k.default.forEachArray(d,function(a,c){a=a.replace(/^(#{1,6}| *((?:\*|-|\d\.)(?: \[[ xX]])?)) /,
"");d[c]=a});n.replaceRange(d.join("\n"),e,a);b.to.ch+=n.getLine(a.line).length-c;n.setSelection(e,a);f.focus()}});p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=f(2);b=(b&&b.__esModule?b:{default:b}).default.command("markdown",{name:"HR",keyMap:["CTRL+L","META+L"],exec:function(b){var f=b.getEditor(),k=f.getDoc(),n="";b=b.getCurrentRange();var e={line:b.from.line,ch:b.from.ch},a={line:b.to.line,ch:b.to.ch};b.collapsed&&(n=k.getLine(e.line),e.ch=0,a.ch=k.getLineHandle(b.to.line).text.length);
k.getLine(e.line).length?n+="\n\n* * *\n\n":n+="\n* * *\n";k.replaceRange(n,e,a);f.focus()}});p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=(b=f(2))&&b.__esModule?b:{default:b};f=(f=f(10))&&f.__esModule?f:{default:f};var k=f.default.decodeURIGraceful,q=f.default.encodeMarkdownCharacters,m=f.default.escapeMarkdownCharacters;f=b.default.command("markdown",{name:"AddLink",exec:function(b,e){var a=b.getEditor(),c=a.getDoc(),d=b.getCurrentRange();b={line:d.from.line,ch:d.from.ch};
d={line:d.to.line,ch:d.to.ch};var f=e.linkText;e=e.url;f=k(f);f=m(f);e=q(e);c.replaceRange("["+f+"]("+e+")",b,d);a.focus()}});p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=(b=f(2))&&b.__esModule?b:{default:b};f=(f=f(10))&&f.__esModule?f:{default:f};var k=f.default.decodeURIGraceful,q=f.default.encodeMarkdownCharacters,m=f.default.escapeMarkdownCharacters;f=b.default.command("markdown",{name:"AddImage",exec:function(b,e){var a=b.getEditor(),c=a.getDoc(),d=b.getCurrentRange();
b={line:d.from.line,ch:d.from.ch};d={line:d.to.line,ch:d.to.ch};var f=e.altText;e=e.imageUrl;f=k(f);f=m(f);e=q(e);c.replaceRange("!["+f+"]("+e+")",b,d,"+addImage");a.focus()}});p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=f(2);b=(b&&b.__esModule?b:{default:b}).default.command("markdown",{name:"UL",keyMap:["CTRL+U","META+U"],exec:function(b){var f=b.getCurrentRange();b.componentManager.getManager("list").changeSyntax(f,"ul")}});p.default=b},function(b,p,f){Object.defineProperty(p,
"__esModule",{value:!0});b=f(2);b=(b&&b.__esModule?b:{default:b}).default.command("markdown",{name:"OL",keyMap:["CTRL+O","META+O"],exec:function(b){var f=b.getCurrentRange();b.componentManager.getManager("list").changeSyntax(f,"ol")}});p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=f(2);b=(b&&b.__esModule?b:{default:b}).default.command("markdown",{name:"Indent",exec:function(b){b.getEditor().execCommand("indentOrderedList")}});p.default=b},function(b,p,f){Object.defineProperty(p,
"__esModule",{value:!0});b=f(2);b=(b&&b.__esModule?b:{default:b}).default.command("markdown",{name:"Outdent",exec:function(b){b.getEditor().execCommand("indentLessOrderedList")}});p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=f(2);b=(b&&b.__esModule?b:{default:b}).default.command("markdown",{name:"Table",exec:function(b,f,m,n){var e=b.getEditor(),a=e.getDoc(),c="\n";0<e.getCursor().ch&&(c+="\n");for(var d=f,h="|",k="|",l=0;d;)n?(h+=" "+n[l]+" |",l+=1):h+="  |",k+=
" --- |",--d;c+=h+"\n"+k+"\n";d="";h=f;for(k=0;k<m-1;k+=1){d+="|";for(l=0;l<f;l+=1)n?(d+=" "+n[h]+" |",h+=1):d+="  |";d+="\n"}f=d.replace(/\n$/g,"");a.replaceSelection(c+f);n||e.setCursor(e.getCursor().line-m,2);b.focus()}});p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=f(2);b=(b&&b.__esModule?b:{default:b}).default.command("markdown",{name:"Task",keyMap:["ALT+T","ALT+T"],exec:function(b){var f=b.getCurrentRange();b.componentManager.getManager("list").changeSyntax(f,
"task")}});p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=f(2);var k=/^`([^`]+)`$/,q=/`([^`]+)`/g;b=(b&&b.__esModule?b:{default:b}).default.command("markdown",{name:"Code",keyMap:["SHIFT+CTRL+C","SHIFT+META+C"],exec:function(b){b=b.getEditor();var f=b.getDoc(),e=f.getSelection(),a=b.getCursor(),c=this.hasStrikeSyntax(e),d=void 0;c?(d=this.remove(e),d=this._removeCodeSyntax(d)):(d=this._removeCodeSyntax(e),d=this.append(d));f.replaceSelection(d,"around");e||c||this.setCursorToCenter(f,
a,c);b.focus()},setCursorToCenter:function(b,f,e){b.setCursor(f.line,f.ch+(e?-1:1))},hasStrikeSyntax:function(b){return k.test(b)},append:function(b){return"`"+b+"`"},remove:function(b){return b.substr(1,b.length-2)},_removeCodeSyntax:function(b){return b?b.replace(q,"$1"):""}});p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=f(2);b=(b&&b.__esModule?b:{default:b}).default.command("markdown",{name:"CodeBlock",keyMap:["SHIFT+CTRL+P","SHIFT+META+P"],exec:function(b){var f=
b.getEditor(),k=f.getDoc();b=b.getCurrentRange();var n=["```",k.getSelection(),"```"],e=1;0!==b.from.ch&&(n.unshift(""),e+=1);b.to.ch!==k.getLine(b.to.line).length&&n.push("");k.replaceSelection(n.join("\n"));f.setCursor(b.from.line+e,0);f.focus()}});p.default=b},function(b,p,f){function k(b){b.hasFormat("b")||b.hasFormat("strong")?b.changeFormat(null,{tag:"b"}):b.hasFormat("a")||b.hasFormat("PRE")||(b.hasFormat("code")&&b.changeFormat(null,{tag:"code"}),b.bold())}Object.defineProperty(p,"__esModule",
{value:!0});b=f(2);b=(b&&b.__esModule?b:{default:b}).default.command("wysiwyg",{name:"Bold",keyMap:["CTRL+B","META+B"],exec:function(b){var f=b.getEditor(),n=b.componentManager.getManager("tableSelection");(b.focus(),f.hasFormat("table")&&n.getSelectedCells().length)?(n.styleToSelectedCells(k),b=f.getSelection(),b.collapse(!0),f.setSelection(b)):k(f)}});p.default=b},function(b,p,f){function k(b){b.hasFormat("i")||b.hasFormat("em")?b.changeFormat(null,{tag:"i"}):b.hasFormat("a")||b.hasFormat("PRE")||
(b.hasFormat("code")&&b.changeFormat(null,{tag:"code"}),b.italic())}Object.defineProperty(p,"__esModule",{value:!0});b=f(2);b=(b&&b.__esModule?b:{default:b}).default.command("wysiwyg",{name:"Italic",keyMap:["CTRL+I","META+I"],exec:function(b){var f=b.getEditor(),n=b.componentManager.getManager("tableSelection");(b.focus(),f.hasFormat("table")&&n.getSelectedCells().length)?(n.styleToSelectedCells(k),b=f.getSelection(),b.collapse(!0),f.setSelection(b)):k(f)}});p.default=b},function(b,p,f){function k(b){b.hasFormat("S")?
b.changeFormat(null,{tag:"S"}):b.hasFormat("a")||b.hasFormat("PRE")||(b.hasFormat("code")&&b.changeFormat(null,{tag:"code"}),b.strikethrough())}Object.defineProperty(p,"__esModule",{value:!0});b=f(2);b=(b&&b.__esModule?b:{default:b}).default.command("wysiwyg",{name:"Strike",keyMap:["CTRL+S","META+S"],exec:function(b){var f=b.getEditor(),n=b.componentManager.getManager("tableSelection");(b.focus(),f.hasFormat("table")&&n.getSelectedCells().length)?(n.styleToSelectedCells(k),b=f.getSelection(),b.collapse(!0),
f.setSelection(b)):k(f)}});p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=f(2);b=(b&&b.__esModule?b:{default:b}).default.command("wysiwyg",{name:"Blockquote",keyMap:["ALT+Q","ALT+Q"],exec:function(b){var f=b.getEditor();b.focus();f.hasFormat("TABLE")||f.hasFormat("PRE")||(f.hasFormat("BLOCKQUOTE")?f.decreaseQuoteLevel():f.increaseQuoteLevel())}});p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=(b=f(2))&&b.__esModule?b:{default:b};f=
(f=f(10))&&f.__esModule?f:{default:f};var k=f.default.decodeURIGraceful,q=f.default.encodeMarkdownCharacters;f=b.default.command("wysiwyg",{name:"AddImage",exec:function(b,f){var e=b.getEditor(),a=f.altText;f=f.imageUrl;a=k(a);f=q(f);b.focus();e.hasFormat("PRE")||e.insertImage(f,{alt:a})}});p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(p,"__esModule",{value:!0});b=f(0);var q=k(b);b=f(1);var m=k(b);b=f(2);b=k(b);f=f(10);f=k(f);var n=f.default.decodeURIGraceful,
e=f.default.encodeMarkdownCharacters;f=b.default.command("wysiwyg",{name:"AddLink",exec:function(a,c){var b=a.getEditor(),f=a.getLinkAttribute(),k=c.url;c=c.linkText;(c=n(c),k=e(k),a.focus(),b.hasFormat("PRE"))||((b.removeAllFormatting(),b.getSelectedText())?b.makeLink(k,f):(a=b.createElement("A",m.default.extend({href:k},f)),(0,q.default)(a).text(c),b.insertElement(a)))}});p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=(b=f(2))&&b.__esModule?b:{default:b};var k=(f=
f(4))&&f.__esModule?f:{default:f};f=b.default.command("wysiwyg",{name:"HR",keyMap:["CTRL+L","META+L"],exec:function(b){var f=b.getEditor(),n=f.getSelection(),e=void 0,a=e=void 0;if(n.collapsed&&!f.hasFormat("TABLE")&&!f.hasFormat("PRE")){e=k.default.getChildNodeByOffset(n.startContainer,n.startOffset);(e=k.default.getTopNextNodeUnder(e,b.get$Body()[0]))||(e=f.createDefaultBlock(),b.get$Body().append(e));var c=f.createElement("HR");f.modifyBlocks(function(a){return a.appendChild(c),a});(a=c.previousSibling)&&
k.default.isTextNode(a)&&0===k.default.getTextLength(a)&&c.parentNode.removeChild(a);n.selectNodeContents(e);n.collapse(!0);f.setSelection(n)}b.focus()}});p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=(b=f(0))&&b.__esModule?b:{default:b};f=f(2);f=(f&&f.__esModule?f:{default:f}).default.command("wysiwyg",{name:"Heading",exec:function(b,f){var m=b.getEditor();b.focus();m.hasFormat("TABLE")||m.hasFormat("PRE")||m.modifyBlocks(function(b){return(0,k.default)(b).children("h1, h2, h3, h4, h5, h6, div").each(function(a,
c){var b="<H"+f+" />";a=(0,k.default)(c);a.is("DIV")?a.wrap(b):(b=(0,k.default)(b),b.insertBefore(c),b.html(a.html()),a.remove())}),b})}});p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=(b=f(0))&&b.__esModule?b:{default:b};f=f(2);f=(f&&f.__esModule?f:{default:f}).default.command("wysiwyg",{name:"Paragraph",exec:function(b){var f=b.getEditor();b.focus();f.hasFormat("TABLE")||f.hasFormat("PRE")||f.modifyBlocks(function(b){var e=(0,k.default)(document.createDocumentFragment());
return(0,k.default)(b).children().each(function(a,c){c.nodeName.match(/h\d/i)?e.append((0,k.default)(c).children()):c.nodeName.match(/ul|ol/i)?(0,k.default)(c).find("li").each(function(a,c){e.append((0,k.default)(c).children())}):e.append(c)}),e[0]})}});p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=f(2);b=(b&&b.__esModule?b:{default:b}).default.command("wysiwyg",{name:"UL",keyMap:["CTRL+U","META+U"],exec:function(b){var f=b.getEditor(),k=f.getSelection(),n=b.componentManager.getManager("list"),
e=k.startContainer,a=k.endContainer,c=k.startOffset,d=k.endOffset,h=[];if(b.focus(),f.saveUndoState(k),n.isAvailableMakeListInTable())h=n.createListInTable(k,"UL");else for(f=n.getLinesOfSelection(e,a),k=0;k<f.length;k+=1){var r=this._changeFormatToUnorderedListIfNeed(b,f[k]);r&&h.push(r)}h.length&&n.adjustRange(e,a,c,d,h)},_changeFormatToUnorderedListIfNeed:function(b,f){var k=b.getEditor(),n=k.getSelection(),e=b.componentManager.getManager("task"),a=void 0;return k.hasFormat("PRE")||(n.setStart(f,
0),n.collapse(!0),k.setSelection(n),k.hasFormat("LI")?(b.saveSelection(n),e.unformatTask(n.startContainer),k.replaceParent(n.startContainer,"ol","ul"),b.restoreSavedSelection()):(b.unwrapBlockTag(),k.makeUnorderedList()),a=k.getSelection().startContainer),a}});p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=f(2);b=(b&&b.__esModule?b:{default:b}).default.command("wysiwyg",{name:"OL",keyMap:["CTRL+O","META+O"],exec:function(b){var f=b.getEditor(),k=f.getSelection(),n=
b.componentManager.getManager("list"),e=k.startContainer,a=k.startOffset,c=k.endContainer,d=k.endOffset,h=[];if(b.focus(),f.saveUndoState(k),n.isAvailableMakeListInTable())h=n.createListInTable(k,"OL");else for(f=n.getLinesOfSelection(e,c),k=0;k<f.length;k+=1){var r=this._changeFormatToOrderedListIfNeed(b,f[k]);r&&h.push(r)}h.length&&n.adjustRange(e,c,a,d,h)},_changeFormatToOrderedListIfNeed:function(b,f){var k=b.getEditor(),n=k.getSelection(),e=b.componentManager.getManager("task"),a=void 0;return k.hasFormat("PRE")||
(n.setStart(f,0),n.collapse(!0),k.setSelection(n),k.hasFormat("LI")?(b.saveSelection(n),e.unformatTask(n.startContainer),k.replaceParent(n.startContainer,"ul","ol"),b.restoreSavedSelection()):(b.unwrapBlockTag(),k.makeOrderedList()),a=k.getSelection().startContainer),a}});p.default=b},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});b=f(2);b=(b&&b.__esModule?b:{default:b}).default.command("wysiwyg",{name:"Table",exec:function(b,f,m,n){var e=b.getEditor(),a=b.componentManager.getManager("table").getTableIDClassName();
if(!e.getSelection().collapsed||e.hasFormat("TABLE")||e.hasFormat("PRE"))return void b.focus();for(var c='<table class="'+a+'">',d=f,h="<thead><tr>",k=0;d;)h+="<th>",n&&(h+=n[k],k+=1),h+="</th>",--d;c+=h+"</tr></thead>";d="<tbody>";h=f;for(k=0;k<m-1;k+=1){d+="<tr>";for(var l=0;l<f;l+=1)d+="<td>",n&&(d+=n[h],h+=1),d+="</td>";d+="</tr>"}f=c+(d+"</tbody>")+"</table>";e.insertHTML(f);b.focus();n||(b=b.get$Body().find("."+a),n=e.getSelection(),n.selectNodeContents(b.find("th")[0]),n.collapse(!0),e.setSelection(n))}});
p.default=b},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a){a=a.clone();var c=e.default.browser.msie?"":"<br />";return a.find("td").html(c),a}function m(a,c){var b=a.getSelection();b.selectNodeContents(c.find("td")[0]);b.collapse(!0);a.setSelection(b)}Object.defineProperty(p,"__esModule",{value:!0});b=f(0);var n=k(b);b=f(1);var e=k(b);f=f(2);f=k(f).default.command("wysiwyg",{name:"AddRow",exec:function(a){var c=a.getEditor(),b=c.getSelection().cloneRange();var e=
a.componentManager.getManager("tableSelection");var f=e.getSelectedCells(),l=1;1<f.length&&(l=f.first().get(0),f=f.last().get(0),e=e.getSelectionRangeFromTable(l,f),l=e.to.row-e.from.row+1);e=l;f=void 0;if(a.focus(),c.hasFormat("TD")){c.saveUndoState(b);a=(0,n.default)(b.startContainer).closest("tr");for(b=0;b<e;b+=1)f=q(a),f.insertAfter(a);m(c,f)}else if(c.hasFormat("TH")){c.saveUndoState(b);a=(0,n.default)(b.startContainer).parents("thead").next("tbody").children("tr").eq(0);for(b=0;b<e;b+=1)f=
q(a),f.insertBefore(a);m(c,f)}}});p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,b=a.index(),f=void 0;a.parents("table").find("tr").each(function(a,d){a="TBODY"===e.default.getNodeName(d.parentNode);var h=n.default.browser.msie;d=d.children[b];for(var l=0;l<c;l+=1)f=a?document.createElement("td"):document.createElement("th"),h||f.appendChild(document.createElement("br")),(0,m.default)(f).insertAfter(d)})}
Object.defineProperty(p,"__esModule",{value:!0});b=f(0);var m=k(b);b=f(1);var n=k(b);b=f(2);b=k(b);f=f(4);var e=k(f);f=b.default.command("wysiwyg",{name:"AddCol",exec:function(a){var c=a.getEditor(),b=c.getSelection().cloneRange();var f=a.componentManager.getManager("tableSelection").getSelectedCells();var k=1;0<f.length&&(k=f.get(0).parentNode.querySelectorAll("td, th").length,k=Math.min(k,f.length));f=k;a.focus();c.hasFormat("TR")&&(c.saveUndoState(b),a=b.startContainer,a="TD"===e.default.getNodeName(a)||
"TH"===e.default.getNodeName(a)?(0,m.default)(a):(0,m.default)(a).parentsUntil("tr"),q(a,f),b=c.getSelection(),b.selectNodeContents(a.next()[0]),b.collapse(!0),c.setSelection(b))}});p.default=f},function(b,p,f){function k(b,f,e){var a=e.find("tbody tr").length;b=(0,q.default)(b).parents("thead").length;var c=f.from.row;f=f.to.row;return b&&(c+=1),(1===c||b)&&f===a&&--f,e.find("tr").slice(c,f+1)}Object.defineProperty(p,"__esModule",{value:!0});var q=(b=f(0))&&b.__esModule?b:{default:b};f=f(2);f=(f&&
f.__esModule?f:{default:f}).default.command("wysiwyg",{name:"RemoveRow",exec:function(b){var f=b.getEditor(),e=f.getSelection().cloneRange(),a=(0,q.default)(e.startContainer).parents("table"),c=b.componentManager.getManager("tableSelection"),d=b.componentManager.getManager("table"),h=c.getSelectedCells();if(h.length){var m=c.getSelectionRangeFromTable(h.first().get(0),h.last().get(0));m=k(h.first()[0],m,a)}else h=(0,q.default)(e.startContainer).closest("td,th").get(0),m=c.getSelectionRangeFromTable(h,
h),m=k(h,m,a);a=a.find("tbody tr").length;if(b.focus(),(f.hasFormat("TD")||f.hasFormat("TABLE"))&&1<a)f.saveUndoState(e),b=m.last().next()[0]?m.last().next():m.first().prev(),b.length&&(b=b.find("td").get(0),e.setStart(b,0),e.collapse(!0),d.setLastCellNode(b),f.setSelection(e)),m.remove();c.removeClassAttrbuteFromAllCellsIfNeed()}});p.default=f},function(b,p,f){function k(b){return b&&b.__esModule?b:{default:b}}function q(b){var a=b.index();b.parents("table").find("tr").each(function(c,b){(0,m.default)(b).children().eq(a).remove()})}
Object.defineProperty(p,"__esModule",{value:!0});b=f(0);var m=k(b);b=f(2);b=k(b);f=f(4);var n=k(f);f=b.default.command("wysiwyg",{name:"RemoveCol",exec:function(b){var a=b.getEditor(),c=a.getSelection().cloneRange(),d=(0,m.default)(c.startContainer).parents("table"),e=b.componentManager.getManager("table"),f=b.componentManager.getManager("tableSelection"),l=1<(0,m.default)(c.startContainer).closest("table").find("thead tr th").length;if(b.focus(),c.collapse(!0),a.setSelection(c),a.hasFormat("TR",
null,c)&&l)if(b=d.find("tbody tr:first td").length,f=f.getSelectedCells(),f.length<b){a.saveUndoState(c);if(1<f.length)for(c=f.last(),b=f.first(),c=c.next().length?c.next():b.prev(),b=f.length,d=0;d<b;d+=1)0<f.eq(d).length&&q(f.eq(d));else f=c.startContainer,f="TD"===n.default.getNodeName(f)||"TH"===n.default.getNodeName(f)?(0,m.default)(f):(0,m.default)(f).parentsUntil("tr"),c=f.next().length?f.next():f.prev(),q(f);f=c;c=f.get(0);f.length&&m.default.contains(document,f)&&(b=a.getSelection(),b.selectNodeContents(f[0]),
b.collapse(!0),a.setSelection(b),e.setLastCellNode(c))}}});p.default=f},function(b,p,f){function k(b){return b&&b.__esModule?b:{default:b}}function q(b,a,c){var d=c.isDivided||!1,e=c.startColumnIndex,f=c.endColumnIndex,l=b.find("tr").eq(0).find("td,th").length;b.find("tr").each(function(c,b){(0,m.default)(b).children("td,th").each(function(c,b){d&&(e<=c&&c<=l||c<=f)?(0,m.default)(b).attr("align",a):e<=c&&c<=f&&(0,m.default)(b).attr("align",a)})})}Object.defineProperty(p,"__esModule",{value:!0});b=
f(0);var m=k(b);b=f(2);b=k(b);f=f(4);var n=k(f);f=b.default.command("wysiwyg",{name:"AlignCol",exec:function(b,a){var c=b.getEditor(),d=c.getSelection().cloneRange(),e=b.componentManager.getManager("tableSelection");var f=e.getSelectedCells();f.length?f=e.getSelectionRangeFromTable(f.first().get(0),f.last().get(0)):(f=d.startContainer,f=n.default.isTextNode(f)?(0,m.default)(f).parent("td,th")[0]:f,f=e.getSelectionRangeFromTable(f,f));if(b.focus(),c.hasFormat("TR")){c.saveUndoState(d);b=(0,m.default)(d.startContainer).parents("table");
c=b.find("tr").eq(0).find("td,th").length;d=f.from;var l=f.to,k=f=void 0,p=void 0;c=(d.row===l.row?(f=d.cell,k=l.cell):d.row<l.row&&(d.cell<=l.cell?(f=0,k=c-1):(f=d.cell,k=l.cell,p=!0)),{startColumnIndex:f,endColumnIndex:k,isDivided:p});q(b,a,c)}e.removeClassAttrbuteFromAllCellsIfNeed()}});p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=(b=f(0))&&b.__esModule?b:{default:b};f=f(2);f=(f&&f.__esModule?f:{default:f}).default.command("wysiwyg",{name:"RemoveTable",exec:function(b){var f=
b.getEditor(),n=f.getSelection().cloneRange();f.hasFormat("TABLE")&&(f.saveUndoState(n),(0,k.default)(n.startContainer).closest("table").remove());b.focus()}});p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=(b=f(0))&&b.__esModule?b:{default:b};f=f(2);f=(f&&f.__esModule?f:{default:f}).default.command("wysiwyg",{name:"Indent",exec:function(b){var f=b.componentManager.getManager("list"),n=b.getEditor().getSelection();n=(0,k.default)(n.startContainer).closest("li");
var e=n.prev();if(e.length&&n.length){var a=n.find("li").eq(0);b.getEditor().saveUndoState();var c=n.attr("class");var d=e.attr("class");var h=a.attr("class");n.removeAttr("class");e.removeAttr("class");a.length&&!a.children("div").length&&a.removeAttr("class");b.getEditor().increaseListLevel();f.mergeList(n.get(0));n.attr("class",c);e.attr("class",d);a.attr("class",h)}}});p.default=f},function(b,p,f){function k(b){b=b.getEditor().getSelection();return(0,q.default)(b.startContainer).closest("li")}
Object.defineProperty(p,"__esModule",{value:!0});var q=(b=f(0))&&b.__esModule?b:{default:b};f=f(2);f=(f&&f.__esModule?f:{default:f}).default.command("wysiwyg",{name:"Outdent",exec:function(b){var f=k(b);if(f.length&&!f.next().is("OL,UL")){b.getEditor().saveUndoState();var e=f.attr("class");b.getEditor().decreaseListLevel();f=k(b);f.attr("class",e)}}});p.default=f},function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0});var k=(b=f(0))&&b.__esModule?b:{default:b};f=f(2);f=(f&&f.__esModule?
f:{default:f}).default.command("wysiwyg",{name:"Task",keyMap:["ALT+T","ALT+T"],exec:function(b){var f=b.getEditor(),k=f.getSelection(),e=b.componentManager.getManager("list"),a=k.startContainer,c=k.endContainer,d=k.startOffset,h=k.endOffset,r=[];if(b.focus(),f.saveUndoState(k),e.isAvailableMakeListInTable())r=e.createListInTable(k,"TASK");else for(f=e.getLinesOfSelection(a,c),k=0;k<f.length;k+=1){var l=this._changeFormatToTaskIfNeed(b,f[k]);l&&r.push(l)}r.length&&e.adjustRange(a,c,d,h,r)},_changeFormatToTaskIfNeed:function(b,
f){var m=b.getEditor(),e=m.getSelection();b=b.componentManager.getManager("task");var a=void 0;return m.hasFormat("PRE")||(e.setStart(f,0),e.collapse(!0),m.setSelection(e),m.hasFormat("li")||(m.makeUnorderedList(),f=m.getSelection().startContainer),(0,k.default)(f).hasClass("task-list-item")?b.unformatTask(f):b.formatTask(f),a=m.getSelection().startContainer),a}});p.default=f},function(b,p,f){function k(a){return a&&a.__esModule?a:{default:a}}function q(a,c){!c.hasFormat("PRE")&&c.hasFormat("code")?
(c.changeFormat(null,{tag:"code"}),c=a.getSelection().cloneRange(),"CODE"===e.default.getNodeName(c.startContainer.nextSibling)&&0===e.default.getTextLength(c.startContainer.nextSibling)&&(0,m.default)(c.startContainer.nextSibling).remove()):c.hasFormat("a")||c.hasFormat("PRE")||(c.hasFormat("b")?c.removeBold():c.hasFormat("i")&&c.removeItalic(),c.changeFormat({tag:"code"}),a=c.getSelection().cloneRange(),a.setStart(a.endContainer,a.endOffset),a.collapse(!0),c.setSelection(a))}Object.defineProperty(p,
"__esModule",{value:!0});b=f(0);var m=k(b);b=f(1);var n=k(b);b=f(2);b=k(b);f=f(4);var e=k(f);f=b.default.command("wysiwyg",{name:"Code",keyMap:["SHIFT+CTRL+C","SHIFT+META+C"],exec:function(a){var c=a.getEditor(),b=a.componentManager.getManager("tableSelection"),e=n.default.bind(q,null,a.getEditor());(a.focus(),c.hasFormat("table")&&b.getSelectedCells().length)?(b.styleToSelectedCells(e),a=c.getSelection(),a.collapse(!0),c.setSelection(a)):e(c)}});p.default=f},function(b,p,f){function k(b){return b&&
b.__esModule?b:{default:b}}Object.defineProperty(p,"__esModule",{value:!0});b=f(0);var q=k(b);b=f(1);var m=k(b);f=f(2);f=k(f).default.command("wysiwyg",{name:"CodeBlock",keyMap:["SHIFT+CTRL+P","SHIFT+META+P"],exec:function(b,e){var a=b.getEditor(),c=a.getSelection().cloneRange();if(!a.hasFormat("PRE")&&!a.hasFormat("TABLE")){var d='data-te-codeblock class = "te-content-codeblock-temp"';e&&(d+=' data-language="'+e+'"');e=b.componentManager.getManager("codeblock");c.collapsed?e="<br>":(c=c.extractContents(),
c=m.default.toArray(c.childNodes),e=(0,q.default)("<div>").append(e.prepareToPasteOnCodeblock(c)).html());a.insertHTML("<pre "+d+">"+e+"</pre>");a=b.get$Body().find(".te-content-codeblock-temp");d=b.getEditor().getSelection().cloneRange();a.removeClass("te-content-codeblock-temp");d.setStartBefore(a.get(0).firstChild);d.collapse(!0);b.getEditor().setSelection(d)}b.focus()}});p.default=f},function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["en","en_US"],{Markdown:"Markdown",
WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file",
Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row":"Add row","Add col":"Add col","Remove row":"Remove row","Remove col":"Remove col","Align left":"Align left","Align center":"Align center","Align right":"Align right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled",
"Choose language":"Choose language"})},function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["ko","ko_KR"],{Markdown:"\ub9c8\ud06c\ub2e4\uc6b4",WYSIWYG:"\uc704\uc9c0\uc705",Write:"\ud3b8\uc9d1\ud558\uae30",Preview:"\ubbf8\ub9ac\ubcf4\uae30",Headings:"\uc81c\ubaa9\ud06c\uae30",Paragraph:"\ubcf8\ubb38",Bold:"\uad75\uac8c",Italic:"\uae30\uc6b8\uc784\uaf34",Strike:"\ucde8\uc18c\uc120",Code:"\uc778\ub77c\uc778 \ucf54\ub4dc",Line:"\ubb38\ub2e8\ub098\ub214",Blockquote:"\uc778\uc6a9\uad6c",
"Unordered list":"\uae00\uba38\ub9ac \uae30\ud638","Ordered list":"\ubc88\ud638 \ub9e4\uae30\uae30",Task:"\uccb4\ud06c\ubc15\uc2a4",Indent:"\ub4e4\uc5ec\uc4f0\uae30",Outdent:"\ub0b4\uc5b4\uc4f0\uae30","Insert link":"\ub9c1\ud06c \uc0bd\uc785","Insert CodeBlock":"\ucf54\ub4dc\ube14\ub7ed \uc0bd\uc785","Insert table":"\ud45c \uc0bd\uc785","Insert image":"\uc774\ubbf8\uc9c0 \uc0bd\uc785",Heading:"\uc81c\ubaa9","Image URL":"\uc774\ubbf8\uc9c0 \uc8fc\uc18c","Select image file":"\uc774\ubbf8\uc9c0 \ud30c\uc77c\uc744 \uc120\ud0dd\ud558\uc138\uc694.",
Description:"\uc124\uba85",OK:"\ud655\uc778",More:"\ub354 \ubcf4\uae30",Cancel:"\ucde8\uc18c",File:"\ud30c\uc77c",URL:"\uc8fc\uc18c","Link text":"\ub9c1\ud06c \ud14d\uc2a4\ud2b8","Add row":"\ud589 \ucd94\uac00","Add col":"\uc5f4 \ucd94\uac00","Remove row":"\ud589 \uc0ad\uc81c","Remove col":"\uc5f4 \uc0ad\uc81c","Align left":"\uc67c\ucabd \uc815\ub82c","Align center":"\uac00\uc6b4\ub370 \uc815\ub82c","Align right":"\uc624\ub978\ucabd \uc815\ub82c","Remove table":"\ud45c \uc0ad\uc81c","Would you like to paste as table?":"\ud45c\ud615\ud0dc\ub85c \ubd99\uc5ec \ub123\uaca0\uc2b5\ub2c8\uae4c?",
"Text color":"\uae00\uc790 \uc0c9\uc0c1","Auto scroll enabled":"\uc790\ub3d9 \uc2a4\ud06c\ub864 \ucf1c\uc9d0","Auto scroll disabled":"\uc790\ub3d9 \uc2a4\ud06c\ub864 \uaebc\uc9d0","Choose language":"\uc5b8\uc5b4 \uc120\ud0dd"})},function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["zh","zh_CN"],{Markdown:"Markdown",WYSIWYG:"\u6240\u89c1\u5373\u6240\u5f97",Write:"\u7f16\u8f91",Preview:"\u9884\u89c8",Headings:"\u6807\u9898",Paragraph:"\u6587\u672c",Bold:"\u52a0\u7c97",Italic:"\u659c\u4f53\u5b57",
Strike:"\u5220\u9664\u7ebf",Code:"\u5185\u5d4c\u4ee3\u7801",Line:"\u6c34\u5e73\u7ebf",Blockquote:"\u5f15\u7528\u5757","Unordered list":"\u65e0\u5e8f\u5217\u8868","Ordered list":"\u6709\u5e8f\u5217\u8868",Task:"\u4efb\u52a1",Indent:"\u7f29\u8fdb",Outdent:"\u51cf\u5c11\u7f29\u8fdb","Insert link":"\u63d2\u5165\u94fe\u63a5","Insert CodeBlock":"\u63d2\u5165\u4ee3\u7801\u5757","Insert table":"\u63d2\u5165\u8868\u683c","Insert image":"\u63d2\u5165\u56fe\u7247",Heading:"\u6807\u9898","Image URL":"\u56fe\u7247\u7f51\u5740",
"Select image file":"\u9009\u62e9\u56fe\u7247\u6587\u4ef6",Description:"\u8bf4\u660e",OK:"\u786e\u8ba4",More:"\u66f4\u591a",Cancel:"\u53d6\u6d88",File:"\u6587\u4ef6",URL:"URL","Link text":"\u94fe\u63a5\u6587\u672c","Add row":"\u6dfb\u52a0\u884c","Add col":"\u6dfb\u52a0\u5217","Remove row":"\u5220\u9664\u884c","Remove col":"\u5220\u9664\u5217","Align left":"\u5de6\u5bf9\u9f50","Align center":"\u5c45\u4e2d\u5bf9\u9f50","Align right":"\u53f3\u5bf9\u9f50","Remove table":"\u5220\u9664\u8868\u683c","Would you like to paste as table?":"\u9700\u8981\u7c98\u8d34\u4e3a\u8868\u683c\u5417?",
"Text color":"\u6587\u5b57\u989c\u8272","Auto scroll enabled":"\u81ea\u52a8\u6eda\u52a8\u5df2\u542f\u7528","Auto scroll disabled":"\u81ea\u52a8\u6eda\u52a8\u5df2\u7981\u7528","Choose language":"\u9009\u62e9\u8bed\u8a00"})},function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["ja","ja_JP"],{Markdown:"\u30de\u30fc\u30af\u30c0\u30a6\u30f3",WYSIWYG:"WYSIWYG",Write:"\u7de8\u96c6\u3059\u308b",Preview:"\u30d7\u30ec\u30d3\u30e5\u30fc",Headings:"\u898b\u51fa\u3057",Paragraph:"\u672c\u6587",
Bold:"\u592a\u5b57",Italic:"\u30a4\u30bf\u30ea\u30c3\u30af",Strike:"\u30b9\u30c8\u30e9\u30a4\u30af",Code:"\u30a4\u30f3\u30e9\u30a4\u30f3\u30b3\u30fc\u30c9",Line:"\u30e9\u30a4\u30f3",Blockquote:"\u5f15\u7528","Unordered list":"\u756a\u53f7\u306a\u3057\u30ea\u30b9\u30c8","Ordered list":"\u9806\u5e8f\u4ed8\u304d\u30ea\u30b9\u30c8",Task:"\u30bf\u30b9\u30af",Indent:"\u30a4\u30f3\u30c7\u30f3\u30c8",Outdent:"\u30a2\u30a6\u30c8\u30c7\u30f3\u30c8","Insert link":"\u30ea\u30f3\u30af\u633f\u5165","Insert CodeBlock":"\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u633f\u5165",
"Insert table":"\u30c6\u30fc\u30d6\u30eb\u633f\u5165","Insert image":"\u753b\u50cf\u633f\u5165",Heading:"\u898b\u51fa\u3057","Image URL":"\u30a4\u30e1\u30fc\u30b8URL","Select image file":"\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u9078\u629e",Description:"\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3 ",OK:"\u306f\u3044",More:"\u3082\u3063\u3068",Cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",File:"\u30d5\u30a1\u30a4\u30eb",URL:"URL","Link text":"\u30ea\u30f3\u30af\u30c6\u30ad\u30b9\u30c8","Add row":"\u884c\u8ffd\u52a0",
"Add col":"\u5217\u8ffd\u52a0","Remove row":"\u884c\u524a\u9664","Remove col":"\u5217\u524a\u9664","Align left":"\u5de6\u63c3\u3048","Align center":"\u4e2d\u592e\u63c3\u3048","Align right":"\u53f3\u63c3\u3048","Remove table":"\u30c6\u30fc\u30d6\u30eb\u524a\u9664","Would you like to paste as table?":"\u30c6\u30fc\u30d6\u30eb\u3092\u8cbc\u308a\u4ed8\u3051\u307e\u3059\u304b?","Text color":"\u6587\u5b57\u8272\u76f8","Auto scroll enabled":"\u81ea\u52d5\u30b9\u30af\u30ed\u30fc\u30eb\u304c\u6709\u52b9",
"Auto scroll disabled":"\u81ea\u52d5\u30b9\u30af\u30ed\u30fc\u30eb\u3092\u7121\u52b9\u306b","Choose language":"\u8a00\u8a9e\u9078\u629e"})},function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["nl","nl_NL"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Opslaan",Preview:"Voorbeeld",Headings:"Koppen",Paragraph:"Alinea",Bold:"Vet",Italic:"Cursief",Strike:"Doorhalen",Code:"Inline code",Line:"Regel",Blockquote:"Citaatblok","Unordered list":"Opsomming","Ordered list":"Genummerde opsomming",
Task:"Taak",Indent:"Niveau verhogen",Outdent:"Niveau verlagen","Insert link":"Link invoegen","Insert CodeBlock":"Codeblok toevoegen","Insert table":"Tabel invoegen","Insert image":"Afbeelding invoegen",Heading:"Kop","Image URL":"Afbeelding URL","Select image file":"Selecteer een afbeelding",Description:"Omschrijving",OK:"OK",More:"Meer",Cancel:"Annuleren",File:"Bestand",URL:"URL","Link text":"Link tekst","Add row":"Rij toevoegen","Add col":"Kolom toevoegen","Remove row":"Rij verwijderen","Remove col":"Kolom verwijderen",
"Align left":"Links uitlijnen","Align center":"Centreren","Align right":"Rechts uitlijnen","Remove table":"Verwijder tabel","Would you like to paste as table?":"Wil je dit als tabel plakken?","Text color":"Tekstkleur","Auto scroll enabled":"Autoscroll ingeschakeld","Auto scroll disabled":"Autoscroll uitgeschakeld","Choose language":"Kies een taal"})},function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["es","es_ES"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Escribir",Preview:"Vista previa",
Headings:"Encabezados",Paragraph:"P\u00e1rrafo",Bold:"Negrita",Italic:"It\u00e1lica",Strike:"Tachado",Code:"C\u00f3digo",Line:"L\u00ednea",Blockquote:"Cita","Unordered list":"Lista desordenada","Ordered list":"Lista ordenada",Task:"Tarea",Indent:"Sangr\u00eda",Outdent:"Saliendo","Insert link":"Insertar enlace","Insert CodeBlock":"Insertar bloque de c\u00f3digo","Insert table":"Insertar tabla","Insert image":"Insertar imagen",Heading:"Encabezado","Image URL":"URL de la imagen","Select image file":"Seleccionar archivo de imagen",
Description:"Descripci\u00f3n",OK:"Aceptar",More:"M\u00e1s",Cancel:"Cancelar",File:"Archivo",URL:"URL","Link text":"Texto del enlace","Add row":"Agregar fila","Add col":"Agregar columna","Remove row":"Eliminar fila","Remove col":"Eliminar columna","Align left":"Alinear a la izquierda","Align center":"Centrar","Align right":"Alinear a la derecha","Remove table":"Eliminar tabla","Would you like to paste as table?":"\u00bfDesea pegar como tabla?","Text color":"Color del texto","Auto scroll enabled":"Desplazamiento autom\u00e1tico habilitado",
"Auto scroll disabled":"Desplazamiento autom\u00e1tico deshabilitado","Choose language":"Elegir idioma"})},function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["de","de_DE"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Verfassen",Preview:"Vorschau",Headings:"\u00dcberschriften",Paragraph:"Text",Bold:"Fett",Italic:"Kursiv",Strike:"Durchgestrichen",Code:"Code",Line:"Trennlinie",Blockquote:"Blocktext","Unordered list":"Aufz\u00e4hlung","Ordered list":"Nummerierte Aufz\u00e4hlung",
Task:"Aufgabe",Indent:"Einr\u00fccken",Outdent:"Ausr\u00fccken","Insert link":"Link einf\u00fcgen","Insert CodeBlock":"Codeblock einf\u00fcgen","Insert table":"Tabelle einf\u00fcgen","Insert image":"Grafik einf\u00fcgen",Heading:"Titel","Image URL":"Bild URL","Select image file":"Grafik ausw\u00e4hlen",Description:"Beschreibung",OK:"OK",More:"Mehr",Cancel:"Abbrechen",File:"Datei",URL:"URL","Link text":"Anzuzeigender Text","Add row":"Zeile hinzuf\u00fcgen","Add col":"Spalte hinzuf\u00fcgen","Remove row":"Zeile entfernen",
"Remove col":"Spalte entfernen","Align left":"Links ausrichten","Align center":"Zentrieren","Align right":"Rechts ausrichten","Remove table":"Tabelle entfernen","Would you like to paste as table?":"M\u00f6chten Sie eine Tabelle einf\u00fcgen?","Text color":"Textfarbe","Auto scroll enabled":"Autoscrollen aktiviert","Auto scroll disabled":"Autoscrollen deaktiviert","Choose language":"Sprache ausw\u00e4hlen"})},function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["ru","ru_RU"],
{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c",Preview:"\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",Headings:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438",Paragraph:"\u0410\u0431\u0437\u0430\u0446",Bold:"\u0416\u0438\u0440\u043d\u044b\u0439",Italic:"\u041a\u0443\u0440\u0441\u0438\u0432",Strike:"\u0417\u0430\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439",
Code:"\u0412\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 \u043a\u043e\u0434",Line:"\u0421\u0442\u0440\u043e\u043a\u0430",Blockquote:"\u0411\u043b\u043e\u043a \u0446\u0438\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","Unordered list":"\u041d\u0435\u0443\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a","Ordered list":"\u0423\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",
Task:"\u0417\u0430\u0434\u0430\u0447\u0430",Indent:"\u043e\u0442\u0441\u0442\u0443\u043f",Outdent:"\u0412\u044b\u0441\u0442\u0443\u043f","Insert link":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","Insert CodeBlock":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0434","Insert table":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443","Insert image":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",
Heading:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","Image URL":"URL \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f","Select image file":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",Description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",OK:"\u0425\u043e\u0440\u043e\u0448\u043e",More:"\u0435\u0449\u0435",Cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",File:"\u0424\u0430\u0439\u043b",
URL:"URL","Link text":"\u0422\u0435\u043a\u0441\u0442 \u0441\u0441\u044b\u043b\u043a\u0438","Add row":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u044f\u0434","Add col":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446","Remove row":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u044f\u0434","Remove col":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446","Align left":"\u0412\u044b\u0440\u043e\u0432\u043d\u044f\u0442\u044c \u043f\u043e \u043b\u0435\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",
"Align center":"\u0412\u044b\u0440\u043e\u0432\u043d\u044f\u0442\u044c \u043f\u043e \u0446\u0435\u043d\u0442\u0440\u0443","Align right":"\u0412\u044b\u0440\u043e\u0432\u043d\u044f\u0442\u044c \u043f\u043e \u043f\u0440\u0430\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e","Remove table":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443","Would you like to paste as table?":"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432 \u0432\u0438\u0434\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b?",
"Text color":"\u0426\u0432\u0435\u0442 \u0442\u0435\u043a\u0441\u0442\u0430","Auto scroll enabled":"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u0440\u043e\u043a\u0440\u0443\u0442\u043a\u0430 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430","Auto scroll disabled":"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u0440\u043e\u043a\u0440\u0443\u0442\u043a\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430",
"Choose language":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u044f\u0437\u044b\u043a"})},function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["fr","fr_FR"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"\u00c9crire",Preview:"Aper\u00e7u",Headings:"En-t\u00eates",Paragraph:"Paragraphe",Bold:"Gras",Italic:"Italique",Strike:"Barr\u00e9",Code:"Code en ligne",Line:"Ligne",Blockquote:"Citation","Unordered list":"Liste non-ordonn\u00e9e","Ordered list":"Liste ordonn\u00e9e",Task:"T\u00e2che",
Indent:"Retrait",Outdent:"Sortir","Insert link":"Ins\u00e9rer un lien","Insert CodeBlock":"Ins\u00e9rer un bloc de code","Insert table":"Ins\u00e9rer un tableau","Insert image":"Ins\u00e9rer une image",Heading:"En-t\u00eate","Image URL":"URL de l'image","Select image file":"S\u00e9lectionnez un fichier image",Description:"Description",OK:"OK",More:"de plus",Cancel:"Annuler",File:"Fichier",URL:"URL","Link text":"Texte du lien","Add row":"Ajouter une ligne","Add col":"Ajouter une colonne","Remove row":"Supprimer une ligne",
"Remove col":"Supprimer une colonne","Align left":"Aligner \u00e0 gauche","Align center":"Aligner au centre","Align right":"Aligner \u00e0 droite","Remove table":"Supprimer le tableau","Would you like to paste as table?":"Voulez-vous coller ce contenu en tant que tableau ?","Text color":"Couleur du texte","Auto scroll enabled":"D\u00e9filement automatique activ\u00e9","Auto scroll disabled":"D\u00e9filement automatique d\u00e9sactiv\u00e9","Choose language":"Choix de la langue"})},function(b,p,f){b=
f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["uk","uk_UA"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u0438",Preview:"\u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u0439 \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434",Headings:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438",Paragraph:"\u0410\u0431\u0437\u0430\u0446",Bold:"\u0416\u0438\u0440\u043d\u0438\u0439",Italic:"\u041a\u0443\u0440\u0441\u0438\u0432",Strike:"\u0417\u0430\u043a\u0440\u0435\u0441\u043b\u0435\u043d\u0438\u0439",
Code:"\u0412\u0431\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0439 \u043a\u043e\u0434",Line:"\u041b\u0456\u043d\u0456\u044f",Blockquote:"\u0411\u043b\u043e\u043a \u0446\u0438\u0442\u0443\u0432\u0430\u043d\u043d\u044f","Unordered list":"\u041d\u0435\u0432\u043f\u043e\u0440\u044f\u0434\u043a\u043e\u0432\u0430\u043d\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a","Ordered list":"\u0423\u043f\u043e\u0440\u044f\u0434\u043a\u043e\u0432\u0430\u043d\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",Task:"\u0417\u0430\u0432\u0434\u0430\u043d\u043d\u044f",
Indent:"\u0432\u0456\u0434\u0441\u0442\u0443\u043f",Outdent:"\u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043b\u0438\u0439","Insert link":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f","Insert CodeBlock":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u043a\u043e\u0434","Insert table":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044e","Insert image":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",
Heading:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","Image URL":"URL \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f","Select image file":"\u0412\u0438\u0431\u0440\u0430\u0442\u0438 \u0444\u0430\u0439\u043b \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",Description:"\u041e\u043f\u0438\u0441",OK:"OK",More:"\u0449\u0435",Cancel:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438",File:"\u0424\u0430\u0439\u043b",URL:"URL","Link text":"\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f",
"Add row":"\u0414\u043e\u0434\u0430\u0442\u0438 \u0440\u044f\u0434","Add col":"\u0414\u043e\u0434\u0430\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0447\u0438\u043a","Remove row":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0440\u044f\u0434","Remove col":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0447\u0438\u043a","Align left":"\u0412\u0438\u0440\u0456\u0432\u043d\u044f\u0442\u0438 \u043f\u043e \u043b\u0456\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",
"Align center":"\u0412\u0438\u0440\u0456\u0432\u043d\u044f\u0442\u0438 \u043f\u043e \u0446\u0435\u043d\u0442\u0440\u0443","Align right":"\u0412\u0438\u0440\u0456\u0432\u043d\u044f\u0442\u0438 \u043f\u043e \u043f\u0440\u0430\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e","Remove table":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044e","Would you like to paste as table?":"\u0412\u0438 \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u0443 \u0432\u0438\u0433\u043b\u044f\u0434\u0456 \u0442\u0430\u0431\u043b\u0438\u0446\u0456?",
"Text color":"\u041a\u043e\u043b\u0456\u0440 \u0442\u0435\u043a\u0441\u0442\u0443","Auto scroll enabled":"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u0430 \u043f\u0440\u043e\u043a\u0440\u0443\u0442\u043a\u0430 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430","Auto scroll disabled":"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u0430 \u043f\u0440\u043e\u043a\u0440\u0443\u0442\u043a\u0430 \u0432\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0430","Choose language":"\u0412\u0438\u0431\u0440\u0430\u0442\u0438 \u043c\u043e\u0432\u0443"})},
function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["tr","tr_TR"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"D\u00fczenle",Preview:"\u00d6n izleme",Headings:"Ba\u015fl\u0131klar",Paragraph:"Paragraf",Bold:"Kal\u0131n",Italic:"\u0130talik",Strike:"Alt\u0131 \u00e7izgili",Code:"Sat\u0131r i\u00e7i kod",Line:"\u00c7izgi",Blockquote:"Al\u0131nt\u0131","Unordered list":"S\u0131ralanmam\u0131\u015f liste","Ordered list":"S\u0131ral\u0131 liste",Task:"G\u00f6rev kutusu",Indent:"Girintiyi artt\u0131r",
Outdent:"Girintiyi azalt","Insert link":"Ba\u011flant\u0131 ekle","Insert CodeBlock":"Kod bloku ekle","Insert table":"Tablo ekle","Insert image":"\u0130maj ekle",Heading:"Ba\u015fl\u0131k","Image URL":"\u0130maj URL","Select image file":"\u0130maj dosyas\u0131 se\u00e7",Description:"A\u00e7\u0131klama",OK:"Onay",More:"Daha Fazla",Cancel:"\u0130ptal",File:"Dosya",URL:"URL","Link text":"Ba\u011flant\u0131 yaz\u0131s\u0131","Add row":"Sat\u0131r ekle","Add col":"S\u00fctun ekle","Remove row":"Sat\u0131r sil",
"Remove col":"S\u00fctun sil","Align left":"Sola hizala","Align center":"Merkeze hizala","Align right":"Sa\u011fa hizala","Remove table":"Tabloyu kald\u0131r","Would you like to paste as table?":"Tablo olarak yap\u0131\u015ft\u0131rmak ister misiniz?","Text color":"Metin rengi","Auto scroll enabled":"Otomatik kayd\u0131rma a\u00e7\u0131k","Auto scroll disabled":"Otomatik kayd\u0131rma kapal\u0131","Choose language":"Dil se\u00e7iniz"})},function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["fi",
"fi_FI"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Kirjoita",Preview:"Esikatselu",Headings:"Otsikot",Paragraph:"Kappale",Bold:"Lihavointi",Italic:"Kursivointi",Strike:"Yliviivaus",Code:"Koodi",Line:"Vaakaviiva",Blockquote:"Lainaus","Unordered list":"Luettelo","Ordered list":"Numeroitu luettelo",Task:"Teht\u00e4v\u00e4",Indent:"Suurenna sisennyst\u00e4",Outdent:"Pienenn\u00e4 sisennyst\u00e4","Insert link":"Lis\u00e4\u00e4 linkki","Insert CodeBlock":"Lis\u00e4\u00e4 koodia","Insert table":"Lis\u00e4\u00e4 taulukko",
"Insert image":"Lis\u00e4\u00e4 kuva",Heading:"Otsikko","Image URL":"Kuvan URL","Select image file":"Valitse kuvatiedosto",Description:"Kuvaus",OK:"OK",More:"Lis\u00e4\u00e4",Cancel:"Peruuta",File:"Tiedosto",URL:"URL","Link text":"Linkkiteksti","Add row":"Lis\u00e4\u00e4 rivi","Add col":"Lis\u00e4\u00e4 sarake","Remove row":"Poista rivi","Remove col":"Poista sarake","Align left":"Tasaus vasemmalle","Align center":"Keskit\u00e4","Align right":"Tasaus oikealle","Remove table":"Poista taulukko","Would you like to paste as table?":"Haluatko liitt\u00e4\u00e4 taulukkomuodossa?",
"Text color":"Tekstin v\u00e4ri","Auto scroll enabled":"Automaattinen skrollaus k\u00e4yt\u00f6ss\u00e4","Auto scroll disabled":"Automaattinen skrollaus pois k\u00e4yt\u00f6st\u00e4","Choose language":"Valitse kieli"})},function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["cs","cs_CZ"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Napsat",Preview:"N\u00e1hled",Headings:"Nadpisy",Paragraph:"Odstavec",Bold:"Tu\u010dn\u00e9",Italic:"Kurz\u00edva",Strike:"P\u0159e\u0161krtnut\u00e9",
Code:"K\u00f3d",Line:"Vodorovn\u00e1 \u010d\u00e1ra",Blockquote:"Citace","Unordered list":"Seznam s odr\u00e1\u017ekami","Ordered list":"\u010c\u00edslovan\u00fd seznam",Task:"\u00dakol",Indent:"Zv\u011bt\u0161it odsazen\u00ed",Outdent:"Zmen\u0161it odsazen\u00ed","Insert link":"Vlo\u017eit odkaz","Insert CodeBlock":"Vlo\u017eit blok k\u00f3du","Insert table":"Vlo\u017eit tabulku","Insert image":"Vlo\u017eit obr\u00e1zek",Heading:"Nadpis","Image URL":"URL obr\u00e1zku","Select image file":"Vybrat obr\u00e1zek",
Description:"Popis",OK:"OK",More:"V\u00edce",Cancel:"Zru\u0161it",File:"Soubor",URL:"URL","Link text":"Text odkazu","Add row":"P\u0159idat \u0159\u00e1dek","Add col":"P\u0159idat sloupec","Remove row":"Odebrat \u0159\u00e1dek","Remove col":"Odebrat sloupec","Align left":"Zarovnat vlevo","Align center":"Zarovnat na st\u0159ed","Align right":"Zarovnat vpravo","Remove table":"Odstranit tabulku","Would you like to paste as table?":"Chcete vlo\u017eit jako tabulku?","Text color":"Barva textu","Auto scroll enabled":"Automatick\u00e9 rolov\u00e1n\u00ed zapnuto",
"Auto scroll disabled":"Automatick\u00e9 rolov\u00e1n\u00ed vypnuto","Choose language":"Vybrat jazyk"})},function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["ar","ar_AR"],{Markdown:"\u0644\u063a\u0629 \u062a\u0631\u0645\u064a\u0632",WYSIWYG:"\u0645\u0627 \u062a\u0631\u0627\u0647 \u0647\u0648 \u0645\u0627 \u062a\u062d\u0635\u0644 \u0639\u0644\u064a\u0647",Write:"\u064a\u0643\u062a\u0628",Preview:"\u0639\u0631\u0636 \u0645\u0633\u0628\u0642",Headings:"\u0627\u0644\u0639\u0646\u0627\u0648\u064a\u0646",
Paragraph:"\u0641\u0642\u0631\u0629",Bold:"\u062e\u0637 \u0639\u0631\u064a\u0636",Italic:"\u062e\u0637 \u0645\u0627\u0626\u0644",Strike:"\u0625\u0636\u0631\u0627\u0628",Code:"\u0631\u0645\u0632",Line:"\u062e\u0637",Blockquote:"\u0641\u0642\u0631\u0629 \u0645\u0642\u062a\u0628\u0633\u0629","Unordered list":"\u0642\u0627\u0626\u0645\u0629 \u063a\u064a\u0631 \u0645\u0631\u062a\u0628\u0629","Ordered list":"\u0642\u0627\u0626\u0645\u0629 \u0645\u0631\u062a\u0628\u0629",Task:"\u0645\u0647\u0645\u0629",
Indent:"\u0627\u0644\u0645\u0633\u0627\u0641\u0629 \u0627\u0644\u0628\u0627\u062f\u0626\u0629",Outdent:"\u0627\u0644\u0645\u0633\u0627\u0641\u0629 \u0627\u0644\u062e\u0627\u0631\u062c\u0629","Insert link":"\u0623\u062f\u062e\u0644 \u0627\u0644\u0631\u0627\u0628\u0637","Insert CodeBlock":"\u0623\u062f\u062e\u0644 \u0627\u0644\u0643\u0648\u062f","Insert table":"\u0623\u062f\u062e\u0644 \u062c\u062f\u0648\u0644","Insert image":"\u0623\u062f\u062e\u0644 \u0635\u0648\u0631\u0629",Heading:"\u0639\u0646\u0648\u0627\u0646",
"Image URL":"\u0631\u0627\u0628\u0637 \u0627\u0644\u0635\u0648\u0631\u0629","Select image file":"\u062d\u062f\u062f \u0645\u0644\u0641 \u0627\u0644\u0635\u0648\u0631\u0629",Description:"\u0648\u0635\u0641",OK:"\u0645\u0648\u0627\u0641\u0642\u0629",More:"\u0623\u0643\u062b\u0631",Cancel:"\u0625\u0644\u063a\u0627\u0621",File:"\u0645\u0644\u0641",URL:"\u0631\u0627\u0628\u0637","Link text":"\u0646\u0635 \u0627\u0644\u0631\u0627\u0628\u0637","Add row":"\u0636\u0641 \u0633\u0637\u0631","Add col":"\u0636\u0641 \u0639\u0645\u0648\u062f",
"Remove row":"\u062d\u0630\u0641 \u0633\u0637\u0631","Remove col":"\u062d\u0630\u0641 \u0639\u0645\u0648\u062f","Align left":"\u0645\u062d\u0627\u0630\u0627\u0629 \u0627\u0644\u064a\u0633\u0627\u0631","Align center":"\u0645\u062d\u0627\u0630\u0627\u0629 \u0627\u0644\u0648\u0633\u0637","Align right":"\u0645\u062d\u0627\u0630\u0627\u0629 \u0627\u0644\u064a\u0645\u064a\u0646","Remove table":"\u062d\u0630\u0641 \u0627\u0644\u062c\u062f\u0648\u0644","Would you like to paste as table?":"\u0647\u0644 \u062a\u0631\u064a\u062f \u0627\u0644\u0644\u0635\u0642 \u0643\u062c\u062f\u0648\u0644",
"Text color":"\u0644\u0648\u0646 \u0627\u0644\u0646\u0635","Auto scroll enabled":"\u0627\u0644\u062a\u062d\u0631\u064a\u0643 \u0627\u0644\u062a\u0644\u0642\u0627\u0626\u064a \u0645\u0645\u0643\u0651\u0646","Auto scroll disabled":"\u0627\u0644\u062a\u062d\u0631\u064a\u0643 \u0627\u0644\u062a\u0644\u0642\u0627\u0626\u064a \u0645\u0639\u0637\u0651\u0644","Choose language":"\u0627\u062e\u062a\u0631 \u0627\u0644\u0644\u063a\u0629"})},function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["pl",
"pl_PL"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Napisz",Preview:"Podgl\u0105d",Headings:"Nag\u0142\u00f3wki",Paragraph:"Akapit",Bold:"Pogrubienie",Italic:"Kursywa",Strike:"Przekre\u015blenie",Code:"Fragment kodu",Line:"Linia",Blockquote:"Cytat","Unordered list":"Lista nieuporz\u0105dkowana","Ordered list":"Lista uporz\u0105dkowana",Task:"Zadanie",Indent:"Utw\u00f3rz wci\u0119cie",Outdent:"Usu\u0144 wci\u0119cie","Insert link":"Umie\u015b\u0107 odno\u015bnik","Insert CodeBlock":"Umie\u015b\u0107 blok kodu",
"Insert table":"Umie\u015b\u0107 tabel\u0119","Insert image":"Umie\u015b\u0107 obraz",Heading:"Nag\u0142\u00f3wek","Image URL":"Adres URL obrazu","Select image file":"Wybierz plik obrazu",Description:"Opis",OK:"OK",More:"Wi\u0119cej",Cancel:"Anuluj",File:"Plik",URL:"URL","Link text":"Tekst odno\u015bnika","Add row":"Dodaj rz\u0105d","Add col":"Dodaj kolumn\u0119","Remove row":"Usu\u0144 rz\u0105d","Remove col":"Usu\u0144 kolumn\u0119","Align left":"Wyr\u00f3wnaj do lewej","Align center":"Wy\u015brodkuj",
"Align right":"Wyr\u00f3wnaj do prawej","Remove table":"Usu\u0144 tabel\u0119","Would you like to paste as table?":"Czy chcesz wklei\u0107 tekst jako tabel\u0119?","Text color":"Kolor tekstu","Auto scroll enabled":"W\u0142\u0105czono automatyczne przewijanie","Auto scroll disabled":"Wy\u0142\u0105czono automatyczne przewijanie","Choose language":"Wybierz j\u0119zyk"})},function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["zhtw","zh_TW"],{Markdown:"Markdown",WYSIWYG:"\u6240\u898b\u5373\u6240\u5f97",
Write:"\u7de8\u8f2f",Preview:"\u9810\u89bd",Headings:"\u6a19\u984c",Paragraph:"\u5167\u6587",Bold:"\u7c97\u9ad4",Italic:"\u659c\u9ad4",Strike:"\u522a\u9664\u7dda",Code:"\u5167\u5d4c\u7a0b\u5f0f\u78bc",Line:"\u5206\u9694\u7dda",Blockquote:"\u5f15\u8a00","Unordered list":"\u9805\u76ee\u7b26\u865f\u6e05\u55ae","Ordered list":"\u7de8\u865f\u6e05\u55ae",Task:"\u6838\u53d6\u65b9\u584a\u6e05\u55ae",Indent:"\u589e\u52a0\u7e2e\u6392",Outdent:"\u6e1b\u5c11\u7e2e\u6392","Insert link":"\u63d2\u5165\u8d85\u9023\u7d50",
"Insert CodeBlock":"\u63d2\u5165\u7a0b\u5f0f\u78bc\u5340\u584a","Insert table":"\u63d2\u5165\u8868\u683c","Insert image":"\u63d2\u5165\u5716\u7247",Heading:"\u6a19\u984c","Image URL":"\u5716\u7247\u7db2\u5740","Select image file":"\u9078\u64c7\u5716\u7247\u6a94\u6848",Description:"\u63cf\u8ff0",OK:"\u78ba\u8a8d",More:"\u66f4\u591a",Cancel:"\u53d6\u6d88",File:"\u6a94\u6848",URL:"URL","Link text":"\u8d85\u9023\u7d50\u6587\u5b57","Add row":"\u589e\u52a0\u884c","Add col":"\u589e\u52a0\u5217","Remove row":"\u522a\u9664\u884c",
"Remove col":"\u522a\u9664\u5217","Align left":"\u9760\u5de6\u5c0d\u9f4a","Align center":"\u7f6e\u4e2d","Align right":"\u9760\u53f3\u5c0d\u9f4a","Remove table":"\u522a\u9664\u8868\u683c","Would you like to paste as table?":"\u60a8\u8981\u4ee5\u8868\u683c\u8cbc\u4e0a\u55ce\uff1f","Text color":"\u6587\u5b57\u984f\u8272","Auto scroll enabled":"\u5df2\u555f\u7528\u81ea\u52d5\u6efe\u52d5","Auto scroll disabled":"\u5df2\u505c\u7528\u81ea\u52d5\u6efe\u52d5","Choose language":"\u9078\u64c7\u8a9e\u8a00"})},
function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["gl","gl_ES"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Escribir",Preview:"Vista previa",Headings:"Encabezados",Paragraph:"Par\u00e1grafo",Bold:"Negri\u00f1a",Italic:"Cursiva",Strike:"Riscado",Code:"C\u00f3digo",Line:"Li\u00f1a",Blockquote:"Cita","Unordered list":"Lista desordenada","Ordered list":"Lista ordenada",Task:"Tarefa",Indent:"Sangr\u00eda",Outdent:"Anular sangr\u00eda","Insert link":"Inserir enlace","Insert CodeBlock":"Inserir bloque de c\u00f3digo",
"Insert table":"Inserir t\u00e1boa","Insert image":"Inserir imaxe",Heading:"Encabezado","Image URL":"URL da imaxe","Select image file":"Seleccionar arquivo da imaxe",Description:"Descrici\u00f3n",OK:"Aceptar",More:"M\u00e1is",Cancel:"Cancelar",File:"Arquivo",URL:"URL","Link text":"Texto do enlace","Add row":"Agregar fila","Add col":"Agregar columna","Remove row":"Eliminar fila","Remove col":"Eliminar columna","Align left":"Ali\u00f1ar \u00e1 esquerda","Align center":"Centrar","Align right":"Ali\u00f1ar \u00e1 dereita",
"Remove table":"Eliminar t\u00e1boa","Would you like to paste as table?":"Desexa pegar como t\u00e1boa?","Text color":"Cor do texto","Auto scroll enabled":"Desprazamento autom\u00e1tico habilitado","Auto scroll disabled":"Desprazamento autom\u00e1tico deshabilitado","Choose language":"Elixir idioma"})},function(b,p,f){b=f(3);(b&&b.__esModule?b:{default:b}).default.setLanguage(["sv","sv_SE"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Skriv",Preview:"F\u00f6rhandsgranska",Headings:"\u00d6verskrifter",
Paragraph:"Paragraf",Bold:"Fet",Italic:"Kursiv",Strike:"Genomstruken",Code:"Kodrad",Line:"Linje",Blockquote:"Citatblock","Unordered list":"Punktlista","Ordered list":"Numrerad lista",Task:"Att g\u00f6ra",Indent:"\u00d6ka indrag",Outdent:"Minska indrag","Insert link":"Infoga l\u00e4nk","Insert CodeBlock":"Infoga kodblock","Insert table":"Infoga tabell","Insert image":"Infoga bild",Heading:"\u00d6verskrift","Image URL":"Bildadress","Select image file":"V\u00e4lj en bildfil",Description:"Beskrivning",
OK:"OK",More:"Mer",Cancel:"Avbryt",File:"Fil",URL:"Adress","Link text":"L\u00e4nktext","Add row":"Infoga rad","Add col":"Infoga kolumn","Remove row":"Radera rad","Remove col":"Radera kolumn","Align left":"V\u00e4nsterjustera","Align center":"Centrera","Align right":"H\u00f6gerjustera","Remove table":"Radera tabell","Would you like to paste as table?":"Vill du klistra in som en tabell?","Text color":"Textf\u00e4rg","Auto scroll enabled":"Automatisk scroll aktiverad","Auto scroll disabled":"Automatisk scroll inaktiverad",
"Cannot paste values \u200b\u200bother than a table in the cell selection state":"Ej m\u00f6jligt att klistra in andra v\u00e4rden \u00e4n en tabell i nuvarande cellmarkering.","Choose language":"V\u00e4lj spr\u00e5k"})}])});!function(y,B){if("object"==typeof exports&&"object"==typeof module){y=module;var A=require("jquery"),x=require("tui-code-snippet");a:{try{var z=require("tui-editor");break a}catch(b){}z=void 0}a:{try{var t=require("tui-editor/dist/tui-editor-Viewer");break a}catch(b){}t=void 0}y.exports=B(A,x,z,t,require("to-mark"))}else if("function"==typeof define&&define.amd)define(["jquery","tui-code-snippet","tui-editor","tui-editor/dist/tui-editor-Viewer","to-mark"],B);else{if("object"==typeof exports){t=require("jquery");
z=require("tui-code-snippet");a:{try{var w=require("tui-editor");break a}catch(b){}w=void 0}a:{try{x=require("tui-editor/dist/tui-editor-Viewer");break a}catch(b){}x=void 0}B=B(t,z,w,x,require("to-mark"))}else B=B(y.$,y.tui&&y.tui.util,y.tui&&y.tui.Editor,y.tui&&y.tui.Editor,y.toMark);for(A in B)("object"==typeof exports?exports:y)[A]=B[A]}}("undefined"!=typeof self?self:this,function(y,B,A,x,z){return function(t){function w(p){if(b[p])return b[p].exports;var f=b[p]={i:p,l:!1,exports:{}};return t[p].call(f.exports,
f,f.exports,w),f.l=!0,f.exports}var b={};return w.m=t,w.c=b,w.d=function(b,f,k){w.o(b,f)||Object.defineProperty(b,f,{configurable:!1,enumerable:!0,get:k})},w.n=function(b){var f=b&&b.__esModule?function(){return b.default}:function(){return b};return w.d(f,"a",f),f},w.o=function(b,f){return Object.prototype.hasOwnProperty.call(b,f)},w.p="dist/",w(w.s=49)}([function(t,w){t.exports=y},function(t,w,b){Object.defineProperty(w,"__esModule",{value:!0});t=void 0;try{t=b(4)}catch(p){}if(!t)try{t=b(5)}catch(p){}w.default=
t},function(t,w){t.exports=B},function(t,w,b){function p(a,b,d,e){var f=b.colspan,h=b.rowspan,l=b.nodeName,k=1<f,m=1<h;if(k||m){var n=e+f;c.default.range(d,d+h).forEach(function(b){a[b]=a[b]||[];c.default.range(e,n).forEach(function(c){var f={nodeName:l};b===d&&c===e||(k&&(f.colMergeWith=e),m&&(f.rowMergeWith=d),a[b][c]=f)})})}}function f(c){var b=[];return c.find("tr").each(function(c,d){var e=0;b[c]=b[c]||[];(0,a.default)(d).children().each(function(d,f){var h=(0,a.default)(f),l=h.attr("colspan"),
k=h.attr("rowspan"),m=f.nodeName;"TH"!==m&&"TD"!==m?f=null:(h={nodeName:f.nodeName,colspan:l?parseInt(l,10):1,rowspan:k?parseInt(k,10):1,content:h.html(),elementIndex:{rowIndex:c,colIndex:d}},f=("TH"===f.nodeName&&f.align&&(h.align=f.align),h));if(f){for(d+=e;b[c][d];)d+=1,e+=1;b[c][d]=f;p(b,f,c,d)}})}),c[0].className&&(b.className=c[0].className),b}function k(a){var b=[];return a.forEach(function(a,d){var e=[];a.forEach(function(a,b){c.default.isUndefined(a.colMergeWith)&&c.default.isUndefined(a.rowMergeWith)&&
e.push({rowIndex:d,colIndex:b})});b.push(e)}),b}function q(a){var b=a[0];return b.map(function(a){return c.default.isExisty(a.colMergeWith)?b[a.colMergeWith].align:a.align})}function m(a,c,b){return{nodeName:b||"TD",colspan:1,rowspan:1,content:d,elementIndex:{rowIndex:a,colIndex:c}}}function n(a){a=a.closest("tr");var c=a.prevAll().length;return"TBODY"===a.parent()[0].nodeName&&(c+=1),c}function e(a){return a.closest("td, th").prevAll().length}Object.defineProperty(w,"__esModule",{value:!0});w.createTableData=
f;w.createCellIndexData=k;var a=(t=b(0))&&t.__esModule?t:{default:t},c=(b=b(2))&&b.__esModule?b:{default:b},d=c.default.browser.msie?"":"<br>";w.default={createTableData:f,createCellIndexData:k,createRenderData:function(a,b){var d=q(a);b=b.map(function(b){return b.map(function(b){var e=b.colIndex;return c.default.extend({align:d[e]},a[b.rowIndex][e])})});return a.className&&(b.className=a.className),b},findElementRowIndex:n,findElementColIndex:e,findCellIndex:function(a,c){var b=n(c);c=e(c);return a[b][c]},
createBasicCell:m,findRowMergedLastIndex:function(a,c,b){a=a[c][b];return 1<a.rowspan&&(c+=a.rowspan-1),c},findColMergedLastIndex:function(a,c,b){a=a[c][b];return 1<a.colspan&&(b+=a.colspan-1),b},findElementIndex:function(a,b,d){var e=a[b][d];return b=c.default.isExisty(e.rowMergeWith)?e.rowMergeWith:b,d=c.default.isExisty(e.colMergeWith)?e.colMergeWith:d,a[b][d].elementIndex},stuffCellsIntoIncompleteRow:function(a,b){a.forEach(function(a,d){var e=a.length;if(e){var f=a[0].nodeName;c.default.range(e,
b).forEach(function(c){a.push(m(d,c,f))})}})},addTbodyOrTheadIfNeed:function(a){var b=a[0],d=b.length,e=!0;if(!d&&a[1])c.default.range(0,a[1].length).forEach(function(a){b.push(m(0,a,"TH"))});else if("TH"!==a[0][0].nodeName){var f;d=c.default.range(0,d).map(function(a){return m(0,a,"TH")});(f=[]).concat.apply(f,a).forEach(function(a){a.elementIndex&&(a.elementIndex.rowIndex+=1)});a.unshift(d)}else 1===a.length?(f=c.default.range(0,d).map(function(a){return m(1,a,"TD")}),a.push(f)):e=!1;return e}}},
function(t,w){if(void 0===A)throw t=Error('Cannot find module "undefined"'),t.code="MODULE_NOT_FOUND",t;t.exports=A},function(t,w){if(void 0===x)throw t=Error('Cannot find module "undefined"'),t.code="MODULE_NOT_FOUND",t;t.exports=x},function(t,w,b){function p(b){var e=1<b.colspan?' colspan="'+b.colspan+'"':"";return e+=1<b.rowspan?' rowspan="'+b.rowspan+'"':"",e+=b.align?' align="'+b.align+'"':"","<"+b.nodeName+e+">"+b.content+"</"+b.nodeName+">"}function f(b,e){var a="";return b.length&&(a=b.map(function(a){return"<tr>"+
a.map(p).join("")+"</tr>"}).join(""),a="<"+e+">"+a+"</"+e+">"),a}function k(b){var e=[b[0]],a=b.slice(1);e=f(e,"THEAD");a=f(a,"TBODY");return"<table"+(b.className?' class="'+b.className+'"':"")+">"+(e+a)+"</renderData>"}Object.defineProperty(w,"__esModule",{value:!0});var q=(t=b(0))&&t.__esModule?t:{default:t},m=(b=b(3))&&b.__esModule?b:{default:b};w.default={createTableHtml:k,replaceTable:function(b,e){var a=m.default.createCellIndexData(e);e=m.default.createRenderData(e,a);e=(0,q.default)(k(e));
return b.replaceWith(e),e},focusToCell:function(b,e,a){e.selectNodeContents(a);e.collapse(!0);b.setSelection(e)}}},function(t,w,b){function p(a){return a&&a.__esModule?a:{default:a}}function f(a,c,b){var d=c[b].rowIndex,e=a[d];n.default.range(c.start.colIndex,c.end.colIndex+1).forEach(function(b){var f=e[b],h=f.rowMergeWith,l=-1;n.default.isExisty(h)?(h<c.start.rowIndex&&(c.start.rowIndex=h),l=h+a[h][b].rowspan-1):1<f.rowspan&&(l=d+f.rowspan-1);l>c.end.rowIndex&&(c.end.rowIndex=l)})}function k(a,
c,b,e){a=a[b];b=a[e];var d=b.colMergeWith,f=-1;n.default.isExisty(d)?(d<c.start.colIndex&&(c.start.colIndex=d),f=d+a[d].colspan-1):1<b.colspan&&(f=e+b.colspan-1);f>c.end.colIndex&&(c.end.colIndex=f)}function q(a,c){for(var b="";b!==JSON.stringify(c);)b=JSON.stringify(c),f(a,c,"start"),f(a,c,"end"),n.default.range(c.start.rowIndex,c.end.rowIndex+1).forEach(function(b){k(a,c,b,c.start.colIndex);k(a,c,b,c.end.colIndex)});return c}Object.defineProperty(w,"__esModule",{value:!0});t=b(0);var m=p(t);t=b(2);
var n=p(t);b=b(3);var e=p(b);w.default={findSelectionRange:function(a,c,b){var d=e.default.createCellIndexData(a);c=e.default.findCellIndex(d,c);var f=e.default.findCellIndex(d,b),l=d=b=void 0,k=void 0;c=(c.rowIndex>f.rowIndex?(b=f.rowIndex,d=c.rowIndex):(b=c.rowIndex,d=f.rowIndex),c.colIndex>f.colIndex?(l=f.colIndex,k=c.colIndex):(l=c.colIndex,k=f.colIndex),{start:{rowIndex:b,colIndex:l},end:{rowIndex:d,colIndex:k}});return q(a,c)},getTableSelectionRange:function(a,c,b){var d=e.default.createCellIndexData(a),
f={};if(c.length){b=e.default.findCellIndex(d,c.first());var l=n.default.extend({},b);c.each(function(c,b){c=e.default.findCellIndex(d,(0,m.default)(b));b=a[c.rowIndex][c.colIndex];var f=c.colIndex+b.colspan-1;l.rowIndex=Math.max(l.rowIndex,c.rowIndex+b.rowspan-1);l.colIndex=Math.max(l.colIndex,f)});f.start=b;f.end=l}else c=e.default.findCellIndex(d,b),f.start=c,f.end=n.default.extend({},c);return f}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,w,b){function p(a){return a&&a.__esModule?a:
{default:a}}function f(a,c){var b=(0,m.default)("<div>"+a+"</div>"),d=b.find("table");return d.length&&(d.get().forEach(function(a){var b=c(a);a.hasAttribute("data-tomark-pass")&&b.setAttribute("data-tomark-pass","");(0,m.default)(a).replaceWith(b)}),a=b.html()),a}function k(a){var c=a.command;if(c.isWWType())switch(c.getName()){case "AddRow":a.command=h.default;break;case "AddCol":a.command=r.default;break;case "RemoveRow":a.command=l.default;break;case "RemoveCol":a.command=v.default;break;case "AlignCol":a.command=
C.default}}function q(a){a.listen("convertorAfterMarkdownToHtmlConverted",function(a){return f(a,n.default)});a.listen("convertorBeforeHtmlToMarkdownConverted",function(a){return f(a,e.default)});a.listen("addCommandBefore",k)}t=b(0);var m=p(t);t=b(1);t=p(t);b(50);w=b(51);var n=p(w);w=b(52);var e=p(w);w=b(53);var a=p(w);w=b(55);var c=p(w);w=b(56);var d=p(w);w=b(57);var h=p(w);w=b(58);var r=p(w);w=b(59);var l=p(w);w=b(60);var v=p(w);w=b(61);var C=p(w);w=b(62);var E=p(w);w=b(63);var x=p(w);b=b(64);
var y=p(b);t.default.defineExtension("table",function(b){var e=b.eventManager;if(b.toMarkOptions=b.toMarkOptions||{},b.toMarkOptions.renderer=a.default,q(e),!b.isViewer()){var f=b.wwEditor.componentManager,h=b.getUI().getPopupTableUtils();b.addCommand(E.default);b.addCommand(x.default);f.removeManager("table");f.removeManager("tableSelection");f.addManager(c.default);f.addManager(d.default);h&&y.default.updateContextMenu(h,e,f.getManager("tableSelection"))}})},function(t,w,b){t=b(1);(t=(t&&t.__esModule?
t:{default:t}).default.i18n)&&(t.setLanguage(["ko","ko_KR"],{"Merge cells":"\uc140 \ubcd1\ud569","Unmerge cells":"\uc140 \ubcd1\ud569\ud574\uc81c","Cannot change part of merged cell":"\ubcd1\ud569 \ub41c \uc140\uc758 \uc77c\ubd80\ub97c \ubcc0\uacbd\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","Cannot paste row merged cells into the table header":"\ud14c\uc774\ube14 \ud5e4\ub354\uc5d0\ub294 \ud589 \ubcd1\ud569\ub41c \uc140\uc744 \ubd99\uc5ec\ub123\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}),t.setLanguage(["en",
"en_US"],{"Merge cells":"Merge cells","Unmerge cells":"Unmerge cells","Cannot change part of merged cell":"Cannot change part of merged cell.","Cannot paste row merged cells into the table header":"Cannot paste row merged cells into the table header."}),t.setLanguage(["es","es_ES"],{"Merge cells":"Combinar celdas","Unmerge cells":"Separar celdas","Cannot change part of merged cell":"No se puede cambiar parte de una celda combinada.","Cannot paste row merged cells into the table header":"No se pueden pegar celdas combinadas en el encabezado de tabla."}),
t.setLanguage(["ja","ja_JP"],{"Merge cells":"\u30bb\u30eb\u306e\u7d50\u5408","Unmerge cells":"\u30bb\u30eb\u306e\u7d50\u5408\u3092\u89e3\u9664","Cannot change part of merged cell":"\u7d50\u5408\u3055\u308c\u305f\u30bb\u30eb\u306e\u4e00\u90e8\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002","Cannot paste row merged cells into the table header":"\u884c\u306b\u30de\u30fc\u30b8\u3055\u308c\u305f\u30bb\u30eb\u3092\u30d8\u30c3\u30c0\u30fc\u306b\u8cbc\u308a\u4ed8\u3051\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002"}),
t.setLanguage(["nl","nl_NL"],{"Merge cells":"Cellen samenvoegen","Unmerge cells":"Samengevoegde cellen ongedaan maken","Cannot change part of merged cell":"Kan geen deel uit van een samengevoegde cel veranderen.","Cannot paste row merged cells into the table header":"Kan geen rij met samengevoegde cellen in de koptekst plakken."}),t.setLanguage(["zh","zh_CN"],{"Merge cells":"\u5408\u5e76\u5355\u5143\u683c","Unmerge cells":"\u53d6\u6d88\u5408\u5e76\u5355\u5143\u683c","Cannot change part of merged cell":"\u65e0\u6cd5\u66f4\u6539\u5408\u5e76\u5355\u5143\u683c\u7684\u4e00\u90e8\u5206\u3002",
"Cannot paste row merged cells into the table header":"\u65e0\u6cd5\u5c06\u884c\u5408\u5e76\u5355\u5143\u683c\u7c98\u8d34\u5230\u6807\u9898\u4e2d\u3002"}),t.setLanguage(["de","de_DE"],{"Merge cells":"Zellen zusammenf\u00fchren","Unmerge cells":"Zusammenf\u00fchren r\u00fcckg\u00e4ngig machen","Cannot change part of merged cell":"Der Teil der verbundenen Zelle kann nicht ge\u00e4ndert werden.","Cannot paste row merged cells into the table header":"Die Zeile der verbundenen Zellen kann nicht in die Kopfzeile eingef\u00fcgt werden."}),
t.setLanguage(["ru","ru_RU"],{"Merge cells":"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0438","Unmerge cells":"\u0420\u0430\u0437\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0438","Cannot change part of merged cell":"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u0447\u0430\u0441\u0442\u044c \u043a\u043e\u043c\u0431\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u044f\u0447\u0435\u0439\u043a\u0438.",
"Cannot paste row merged cells into the table header":"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u043d\u044b\u0435 \u044f\u0447\u0435\u0439\u043a\u0438 \u0432 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0442\u0430\u0431\u043b\u0438\u0446\u044b."}),t.setLanguage(["fr","fr_FR"],{"Merge cells":"Fusionner les cellules","Unmerge cells":"S\u00e9parer les cellules",
"Cannot change part of merged cell":"Impossible de modifier une partie de la cellule fusionn\u00e9e.","Cannot paste row merged cells into the table header":"Impossible de coller les cellules fusionn\u00e9es dans l'en-t\u00eate du tableau."}),t.setLanguage(["uk","uk_UA"],{"Merge cells":"\u041e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u043e\u043c\u0456\u0440\u043a\u0438","Unmerge cells":"\u0420\u043e\u0437'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u043e\u043c\u0456\u0440\u043a\u0438","Cannot change part of merged cell":"\u0412\u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u043c\u0456\u043d\u044e\u0432\u0430\u0442\u0438 \u0447\u0430\u0441\u0442\u0438\u043d\u0443 \u043a\u043e\u043c\u0431\u0456\u043d\u043e\u0432\u0430\u043d\u043e\u0457 \u043a\u043e\u043c\u0456\u0440\u043a\u0438.",
"Cannot paste row merged cells into the table header":"\u0412\u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u0438 \u043e\u0431'\u0454\u0434\u043d\u0430\u043d\u0456 \u043a\u043e\u043c\u0456\u0440\u043a\u0438 \u0432 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0442\u0430\u0431\u043b\u0438\u0446\u0456."}),t.setLanguage(["tr","tr_TR"],{"Merge cells":"H\u00fccreleri birle\u015ftir","Unmerge cells":"H\u00fccreleri ay\u0131r","Cannot change part of merged cell":"Birle\u015ftirilmi\u015f h\u00fccrelerin bir k\u0131sm\u0131 de\u011fi\u015ftirelemez.",
"Cannot paste row merged cells into the table header":"Sat\u0131rda birle\u015ftirilmi\u015f h\u00fccreler s\u00fctun ba\u015fl\u0131\u011f\u0131na yap\u0131\u015ft\u0131r\u0131lamaz"}),t.setLanguage(["fi","fi_FI"],{"Merge cells":"Yhdist\u00e4 solut","Unmerge cells":"Jaa solut","Cannot change part of merged cell":"Yhdistettyjen solujen osaa ei voi muuttaa","Cannot paste row merged cells into the table header":"Soluja ei voi yhdist\u00e4\u00e4 taulukon otsikkoriviin"}),t.setLanguage(["cs","cs_CZ"],
{"Merge cells":"Spojit bu\u0148ky","Unmerge cells":"Rozpojit bu\u0148ky","Cannot change part of merged cell":"Nelze m\u011bnit \u010d\u00e1st spojen\u00e9 bu\u0148ky","Cannot paste row merged cells into the table header":"Nelze vkl\u00e1dat spojen\u00e9 bu\u0148ky do z\u00e1hlav\u00ed tabulky"}),t.setLanguage(["ar","ar_AR"],{"Merge cells":"\u062f\u0645\u062c \u0627\u0644\u0648\u062d\u062f\u0627\u062a","Unmerge cells":"\u0625\u0644\u063a\u0627\u0621 \u062f\u0645\u062c \u0627\u0644\u0648\u062d\u062f\u0627\u062a",
"Cannot change part of merged cell":"\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u063a\u064a\u064a\u0631 \u062c\u0632\u0621 \u0645\u0646 \u0627\u0644\u062e\u0644\u064a\u0629 \u0627\u0644\u0645\u062f\u0645\u0648\u062c\u0629","Cannot paste row merged cells into the table header":"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0644\u0635\u0642 \u0627\u0644\u062e\u0644\u0627\u064a\u0627 \u0627\u0644\u0645\u062f\u0645\u0648\u062c\u0629 \u0645\u0646 \u0635\u0641 \u0648\u0627\u062d\u062f \u0641\u064a \u0631\u0623\u0633 \u0627\u0644\u062c\u062f\u0648\u0644"}),
t.setLanguage(["pl","pl_PL"],{"Merge cells":"Scal kom\u00f3rki","Unmerge cells":"Roz\u0142\u0105cz kom\u00f3rki","Cannot change part of merged cell":"Nie mo\u017cna zmieni\u0107 cz\u0119\u015bci scalonej kom\u00f3rki.","Cannot paste row merged cells into the table header":"Nie mo\u017cna wklei\u0107 kom\u00f3rek o scalonym rz\u0119dzie w nag\u0142\u00f3wek tabeli."}),t.setLanguage(["zh","zh_TW"],{"Merge cells":"\u5408\u4f75\u5132\u5b58\u683c","Unmerge cells":"\u53d6\u6d88\u5408\u4f75\u5132\u5b58\u683c",
"Cannot change part of merged cell":"\u7121\u6cd5\u8b8a\u66f4\u5132\u5b58\u683c\u7684\u4e00\u90e8\u5206\u3002","Cannot paste row merged cells into the table header":"\u7121\u6cd5\u5c07\u5408\u4f75\u7684\u5132\u5b58\u683c\u8cbc\u4e0a\u81f3\u8868\u683c\u6a19\u984c\u4e2d\u3002"}),t.setLanguage(["gl","gl_ES"],{"Merge cells":"Combinar celas","Unmerge cells":"Separar celas","Cannot change part of merged cell":"Non se pode cambiar parte dunha cela combinada","Cannot paste row merged cells into the table header":"Non se poden pegar celas no encabezado da t\u00e1boa"}),
t.setLanguage(["sv","sv_SE"],{"Merge cells":"Sammanfoga celler","Unmerge cells":"Dela celler","Cannot change part of merged cell":"Ej m\u00f6jligt att \u00e4ndra en del av en sammanfogad cell","Cannot paste row merged cells into the table header":"Ej m\u00f6jligt att klistra in rad-sammanfogade celler i tabellens huvud"}))},function(t,w,b){function p(a){return a&&a.__esModule?a:{default:a}}function f(a,c,b){c=(new RegExp("^((?:"+b+"=[0-9]+:)?)"+c+"=([0-9]+):(.*)")).exec(a);b=1;return c&&(b=parseInt(c[2],
10),a=c[1]+c[3]),[b,a]}function k(a){var c=a.nodeName,b=a.align||"",d=a.innerHTML.trim(),e=null;d=f(d,"@cols","@rows");a=d[0];d=d[1];var h=f(d,"@rows","@cols");return e=h[0],d=h[1],{nodeName:c,colspan:a,rowspan:e,content:d,align:b}}function q(a){return a.find("tr").get().map(function(a){return(0,d.default)(a).find("td, th").get().map(k)})}function m(a,c){var b=-1;return h.default.forEach(a,function(a,d){var e=!0;return c(a,d)&&(b=d,e=!1),e}),b}function n(a){var c=m(a,function(a){return"TD"===a[0].nodeName});
return[a.slice(0,c),a.slice(c)]}function e(a){a.forEach(function(a){var c=a.length,b=0;a.forEach(function(a){b+=a.colspan-1});a.splice(c-b)})}function a(a){var c=a.map(function(a,c){return c}),b=c.map(function(){return 0});return a.forEach(function(a,d){a=a.filter(function(a){return 1<a.rowspan});var e=d+1;a.forEach(function(a){var d=a.colspan;c.slice(e,e+(a.rowspan-1)).forEach(function(a){b[a]+=d})})}),b}function c(c){var b=a(c);c.forEach(function(a,c){a.splice(a.length-b[c])})}Object.defineProperty(w,
"__esModule",{value:!0});w._extractPropertiesForMerge=f;w._parseTableCell=k;w._createTableObjectFrom$Table=q;w._divideTrs=n;w._mergeByColspan=e;w._getRemovalTdCountsByRowspan=a;w._mergeByRowspan=c;w.default=function(a){a=q((0,d.default)(a));var b=n(a),f=b[1];return e(b[0]),e(f),c(f),(0,d.default)(r.default.createTableHtml(a))[0]};t=b(0);var d=p(t);t=b(2);var h=p(t);b=b(6);var r=p(b)},function(t,w,b){function p(b){b=(0,f.default)(b);var k=b.attr("colspan")||"",m=b.attr("rowspan")||"",n=b.html();k&&
(n="@cols="+k+":"+n);m&&(n="@rows="+m+":"+n);n&&b.html(n)}Object.defineProperty(w,"__esModule",{value:!0});w._prependMergeSyntaxToContent=p;w.default=function(b){return(0,f.default)(b).find("td, th").get().forEach(p),b};var f=(t=b(0))&&t.__esModule?t:{default:t}},function(t,w,b){function p(a){return a&&a.__esModule?a:{default:a}}function f(a,c){return n.default.range(0,c).map(function(){return a}).join("")}function k(a){var c=0;return a.filter(function(a){return(0,m.default)(a).attr("colspan")}).forEach(function(a){c+=
parseInt((0,m.default)(a).attr("colspan"),10)-1}),c}function q(a,c){a=(0,m.default)(a).find("th").get();var b=a.map(function(a){var c=a.align;a=(a.textContent||a.innerText).replace(e,"").length;var b="",d="";return" "+(c&&("left"===c?(b=":",--a):"right"===c?(d=":",--a):"center"===c&&(d=":",b=":",a-=2)),a=Math.max(a,3),b+f("-",a)+d)+" |"}).join("");return b+=f(" --- |",k(a)),c?c+"|"+b+"\n":""}Object.defineProperty(w,"__esModule",{value:!0});w._getAdditionalThCount=k;w._createTheadMarkdown=q;t=b(0);
var m=p(t);t=b(2);var n=p(t);b=b(54);b=p(b);var e=/@cols=[0-9]+:/g;w.default=b.default.Renderer.factory(b.default.gfmRenderer,{THEAD:q})},function(t,w){t.exports=z},function(t,w,b){function p(a){return a&&a.__esModule?a:{default:a}}function f(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?
Object.setPrototypeOf(a,c):a.__proto__=c)}function k(a,c){var b=!1;return n.default.forEach(a,function(a){return!(b=c(a))}),b}Object.defineProperty(w,"__esModule",{value:!0});var q=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}();t=b(0);var m=p(t);t=b(2);var n=p(t);t=b(1);t=p(t);var e=b(3),a=p(e);e=b(6);var c=
p(e);b=b(7);var d=p(b),h=t.default.i18n;b=function(b){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var a=(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?this:a}return f(e,b),q(e,[{key:"_updateCopyDataMergeWith",value:function(a,c){a.forEach(function(a){a.forEach(function(a){n.default.isExisty(a.rowMergeWith)&&
(a.rowMergeWith-=c.rowIndex);n.default.isExisty(a.colMergeWith)&&(a.colMergeWith-=c.colIndex)})})}},{key:"_createCopyTableData",value:function(a,c,b){a=a.slice(c.rowIndex,b.rowIndex+1);return a=a.map(function(a){return a.slice(c.colIndex,b.colIndex+1)}),this._updateCopyDataMergeWith(a,c),a}},{key:"updateTableHtmlOfClipboardIfNeed",value:function(b){var e=this.wwe.componentManager.getManager("tableSelection").getSelectedCells();if(e.length){var f=a.default.createTableData((0,m.default)(e[0]).closest("TABLE"));
e=d.default.getTableSelectionRange(f,e);f=this._createCopyTableData(f,e.start,e.end);e=a.default.createCellIndexData(f);f=a.default.createRenderData(f,e);b.html(c.default.createTableHtml(f))}}},{key:"prepareToTableCellStuffing",value:function(a){var c=a[0].length,b=!1;return a.slice(1).forEach(function(a){a=a.length;c!==a&&(b=!0,c<a&&(c=a))}),{maximumCellLength:c,needTableCellStuffingAid:b}}},{key:"tableCellAppendAidForTableElement",value:function(b){b=(0,m.default)(b);var d=a.default.createTableData(b),
e=a.default.addTbodyOrTheadIfNeed(d),f=this.prepareToTableCellStuffing(d),h=f.needTableCellStuffingAid;h&&a.default.stuffCellsIntoIncompleteRow(d,f.maximumCellLength);(e||h)&&c.default.replaceTable(b,d)}},{key:"_findStartCell",value:function(a){return 1===a.length?a.get(0):this.wwe.getEditor().getSelection().startContainer}},{key:"_findStartCellIndex",value:function(c,b){c=a.default.createCellIndexData(c);return a.default.findCellIndex(c,b)}},{key:"_hasRowMergedHeader",value:function(a,c,b){c="TH"===
c[b.rowIndex][b.colIndex].nodeName;a=k(a[0],function(a){return a.rowspan&&1<a.rowspan});return c&&a}},{key:"_isExactlyFit",value:function(a,c,b){return 0==c%a.length&&0==b%a[0].length}},{key:"_updateClipboardTableData",value:function(a,c,b){var d=a[0].length;c=parseInt(c/a.length,10);b=parseInt(b/d,10);if(1<c){var e=JSON.parse(JSON.stringify(a));n.default.range(0,c-1).forEach(function(){var c=JSON.parse(JSON.stringify(e));a.push.apply(a,c)})}if(1<b){var f=JSON.parse(JSON.stringify(a));n.default.range(0,
b-1).forEach(function(){var c=JSON.parse(JSON.stringify(f));a.forEach(function(a,b){a.push.apply(a,c[b])})})}}},{key:"_updateTableDataByClipboardData",value:function(a,c,b){var d=b.rowIndex,e=b.colIndex;a.forEach(function(a,b){var f=d+b;a.forEach(function(a,b){b=e+b;a.nodeName=c[f][b].nodeName;c[f][b]=a})})}},{key:"_isPossibleToPaste",value:function(a,c,b){var d=c.colIndex,e=b.rowIndex;b=b.colIndex;c=a.slice(c.rowIndex,e+1);var f=c[0].slice(d,b+1);(f=!k(f,function(a){return n.default.isExisty(a.rowMergeWith)}))&&
(f=!k(n.default.pluck(c,d),function(a){return n.default.isExisty(a.colMergeWith)}));f&&a.length>e+1&&(f=!k(a[e+1].slice(d,b+1),function(a){return n.default.isExisty(a.rowMergeWith)}));f&&a[0].length>b+1&&(f=!k(n.default.pluck(c,b+1),function(a){return n.default.isExisty(a.colMergeWith)}));return f}},{key:"_spliceClipboardData",value:function(a,c,b){a.splice(c);a.forEach(function(a){a.splice(b)})}},{key:"_bookmarkLastTd",value:function(c){var b=c.rowIndex,d=c.colIndex;c=this.wwe.getEditor().get$Body().find(".tui-paste-table-bookmark");
var e=a.default.createTableData(c),f=e[b][d];b=n.default.isExisty(f.rowMergeWith)?f.rowMergeWith:b;d=n.default.isExisty(f.colMergeWith)?f.colMergeWith:d;b=e[b][d].elementIndex;b=c.find("tr").eq(b.rowIndex).children()[b.colIndex];c.removeClass("tui-paste-table-bookmark");(0,m.default)(b).addClass("tui-paste-table-cell-bookmark")}},{key:"_updateClipboardDataForPasteToSamllerSelectedArea",value:function(a,c,b,d,e){var f=!0;return this._isPossibleToPaste(a,{rowIndex:0,colIndex:0},{rowIndex:b-1,colIndex:d-
1})?(this._spliceClipboardData(a,b,d),this._updateTableDataByClipboardData(a,c,e)):f=!1,f}},{key:"_pasteToSelectedArea",value:function(a,b,e,f){var l=d.default.getTableSelectionRange(e,f);f=l.start;l=l.end;var k=l.rowIndex-f.rowIndex+1,m=l.colIndex-f.colIndex+1,n=b.length,p=b[0].length,q=k>=n&&m>=p,r=h.get("Cannot change part of merged cell"),v=!0,t=void 0;this._hasRowMergedHeader(b,e,f)?(r=h.get("Cannot paste row merged cells into the table header"),v=!1):this._isExactlyFit(b,k,m)?(t=l,this._updateClipboardTableData(b,
k,m),this._updateTableDataByClipboardData(b,e,f)):q?(t={rowIndex:f.rowIndex+n-1,colIndex:f.colIndex+p-1},this._isPossibleToPaste(e,f,t)?this._updateTableDataByClipboardData(b,e,f):v=!1):(t={rowIndex:f.rowIndex+k-1,colIndex:f.colIndex+m-1},v=this._updateClipboardDataForPasteToSamllerSelectedArea(b,e,k,m,f));v?(e.className+=" tui-paste-table-bookmark",c.default.replaceTable(a,e),this._bookmarkLastTd(t)):(alert(r),this.wwe.focus())}},{key:"_findEndCellIndex",value:function(a,c){return{rowIndex:c.rowIndex+
a.length-1,colIndex:c.colIndex+a[0].length-1}}},{key:"_expandRow",value:function(c,b){var d=c.length,e=c[0].length;b=n.default.range(d,d+b).map(function(c){return n.default.range(0,e).map(function(b){return a.default.createBasicCell(c,b)})});c.push.apply(c,b)}},{key:"_expandCoumn",value:function(c,b){var d=c[0].length,e=n.default.range(d,d+b);c.forEach(function(c,b){var d=c[0].nodeName,f=e.map(function(c){return a.default.createBasicCell(b,c,d)});c.push.apply(c,f)})}},{key:"_expandTableDataIfNeed",
value:function(a,c,b){c=b.rowIndex-a.length+1;b=b.colIndex-a[0].length+1;0<c&&this._expandRow(a,c);0<b&&this._expandCoumn(a,b)}},{key:"_pasteAllClipboardTableData",value:function(a,b,d,e){var f=this._findEndCellIndex(b,e);if(this._hasRowMergedHeader(b,d,e))return alert(h.get("Cannot paste row merged cells into the table header")),void this.wwe.focus();this._expandTableDataIfNeed(d,e,f);this._isPossibleToPaste(d,e,f)?(this._updateTableDataByClipboardData(b,d,e),d.className+=" tui-paste-table-bookmark",
c.default.replaceTable(a,d),this._bookmarkLastTd(f)):(alert(h.get("Cannot change part of merged cell")),this.wwe.focus())}},{key:"pasteTableData",value:function(c){c=(0,m.default)(c);c=a.default.createTableData(c);var b=this.wwe.componentManager.getManager("tableSelection").getSelectedCells(),d=(0,m.default)(this._findStartCell(b)),e=d.closest("table"),f=a.default.createTableData(e);d=this._findStartCellIndex(f,d);1<b.length?this._pasteToSelectedArea(e,c,f,b):this._pasteAllClipboardTableData(e,c,
f,d)}}]),e}(t.default.WwTableManager);w.default=b},function(t,w,b){function p(a){return a&&a.__esModule?a:{default:a}}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(w,"__esModule",{value:!0});var k=function(){function a(a,
c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){return b&&a(c.prototype,b),e&&a(c,e),c}}();t=b(0);var q=p(t);t=b(2);var m=p(t);t=b(1);t=p(t);var n=b(3),e=p(n);b=b(7);var a=p(b);b=function(c){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");a=(b.__proto__||Object.getPrototypeOf(b)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!=typeof a&&"function"!=typeof a?this:a;return a._tableData=null,a.mergedTableSelectionManager=!0,a}return f(b,c),k(b,[{key:"_addClassToSelectedCells",value:function(a,c,b){var d=b.start;b=b.end;var e=m.default.range(d.colIndex,b.colIndex+1),f=a.find("tr");m.default.range(d.rowIndex,b.rowIndex+1).forEach(function(a){var b=c[a],d=f.eq(a).find("td, th");return e.forEach(function(a){b[a].elementIndex&&d.eq(b[a].elementIndex.colIndex).addClass("te-cell-selected")})})}},{key:"onDragStart",
value:function(a){a=(0,q.default)(a).closest("[contenteditable=true] table");this._tableData=e.default.createTableData(a)}},{key:"onDragEnd",value:function(){this._tableData=null}},{key:"highlightTableCellsBy",value:function(c,b){c=(0,q.default)(c);var d=(0,q.default)(b);b=c.closest("[contenteditable=true] table");c=a.default.findSelectionRange(this._tableData,c,d);this.removeClassAttrbuteFromAllCellsIfNeed();this._addClassToSelectedCells(b,this._tableData,c)}},{key:"styleToSelectedCells",value:function(a,
c){var b=this.wwe.getEditor(),d=b.getSelection().cloneRange();(0,q.default)(d.startContainer).closest("[contenteditable=true] table").find("tr").get().forEach(function(e){e=(0,q.default)(e).find(".te-cell-selected");var f=e.first().get(0),h=e.last().get(0);e.length&&(d.setStart(f,0),d.setEnd(h,h.childNodes.length),b.setSelection(d),a(b,c))})}},{key:"hasSelectedBothThAndTd",value:function(a){return a=a||this.getSelectedCells(),a.first()[0].nodeName!==a.last()[0].nodeName}}]),b}(t.default.WwTableSelectionManager);
w.default=b},function(t,w,b){function p(a){return a&&a.__esModule?a:{default:a}}function f(a,c){var b=null;return a[c].map(function(d,f){var h=void 0;if(m.default.isExisty(d.rowMergeWith)){var l=d.rowMergeWith,k=a[l][f];l=l+k.rowspan-1;m.default.isExisty(k.colMergeWith)&&b?h=m.default.extend({},b):l>c&&(k.rowspan+=1,h=m.default.extend({},d))}else 1<d.rowspan&&(d.rowspan+=1,h={nodeName:"TD",rowMergeWith:c});return h||(h=e.default.createBasicCell(c+1,f)),b=h,h})}function k(a,c){var b=c.start.rowIndex;
c=c.end;var d=e.default.findRowMergedLastIndex(a,c.rowIndex,c.colIndex);b=m.default.range(b,d+1).map(function(){return f(a,d)});a.splice.apply(a,[d+1,0].concat(b))}Object.defineProperty(w,"__esModule",{value:!0});w._createNewRow=f;w._addRow=k;t=b(0);var q=p(t);t=b(2);var m=p(t);t=b(1);t=p(t);var n=b(3),e=p(n);n=b(7);var a=p(n);b=b(6);var c=p(b);b=t.default.CommandManager;t=void 0;b&&(t=b.command("wysiwyg",{name:"AddRow",exec:function(b){var d=b.getEditor(),f=d.getSelection().cloneRange();if(b.focus(),
d.hasFormat("TABLE")){var l=(0,q.default)(f.startContainer),m=l.closest("table"),n=e.default.createTableData(m);b=b.componentManager.getManager("tableSelection").getSelectedCells();l=a.default.getTableSelectionRange(n,b,l);d.saveUndoState(f);k(n,l);m=c.default.replaceTable(m,n);n=l.end.rowIndex;l=l.start.colIndex;b=e.default.createTableData(m);n=e.default.findRowMergedLastIndex(b,n,l)+1;n=e.default.findElementIndex(b,n,l);m=m.find("tr").eq(n.rowIndex).find("td")[n.colIndex];c.default.focusToCell(d,
f,m)}}}));w.default=t},function(t,w,b){function p(a){return a&&a.__esModule?a:{default:a}}function f(a,c,b){var d=m.default.range(c,b+1),f=[],h=null;return a.forEach(function(a,c){var l=d.map(function(d,f){d=h?h[f-1]:null;f=a[b];var l=void 0;if(m.default.isExisty(f.colMergeWith)){var k=f.colMergeWith,n=a[k];k=k+n.colspan-1;m.default.isExisty(n.rowMergeWith)&&d?l=m.default.extend({},d):k>b&&(n.colspan+=1,l=m.default.extend({},f))}else 1<f.colspan&&(f.colspan+=1,l={nodeName:f.nodeName,colMergeWith:b});
return l||(l=e.default.createBasicCell(c,b+1,f.nodeName)),l});h=l;f.push(l)}),f}function k(a,c){var b=c.end;b=e.default.findColMergedLastIndex(a,b.rowIndex,b.colIndex);var d=f(a,c.start.colIndex,b),h=b+1;a.forEach(function(a,c){a.splice.apply(a,[h,0].concat(d[c]))})}Object.defineProperty(w,"__esModule",{value:!0});w._createNewColumns=f;w._addColumns=k;t=b(0);var q=p(t);t=b(2);var m=p(t);t=b(1);t=p(t);var n=b(3),e=p(n);n=b(7);var a=p(n);b=b(6);var c=p(b);b=t.default.CommandManager;t=void 0;b&&(t=b.command("wysiwyg",
{name:"AddCol",exec:function(b){var d=b.getEditor(),f=d.getSelection().cloneRange();if(b.focus(),d.hasFormat("TABLE")){var l=(0,q.default)(f.startContainer),m=l.closest("table"),n=e.default.createTableData(m);b=b.componentManager.getManager("tableSelection").getSelectedCells();l=a.default.getTableSelectionRange(n,b,l);d.saveUndoState(f);k(n,l);m=c.default.replaceTable(m,n);n=l.start.rowIndex;b=l.end.colIndex;l=e.default.createTableData(m);b=e.default.findColMergedLastIndex(l,n,b)+1;n=e.default.findElementIndex(l,
n,b);m=m.find("tr").eq(n.rowIndex).find("td, th")[n.colIndex];c.default.focusToCell(d,f,m)}}}));w.default=t},function(t,w,b){function p(a){return a&&a.__esModule?a:{default:a}}function f(a,c,b){n.default.range(c,b+1).forEach(function(c){a[c].forEach(function(d,e){if(n.default.isExisty(d.rowMergeWith))d=a[d.rowMergeWith][e],d.rowspan&&--d.rowspan;else if(1<d.rowspan){var f=c+d.rowspan-1;d.rowspan-=b-c+1;f>b&&(a[b+1][e]=n.default.extend({},d))}})})}function k(a,c,b){a.slice(b+1).forEach(function(a){a.forEach(function(a){n.default.isExisty(a.rowMergeWith)&&
a.rowMergeWith>=c&&(a.rowMergeWith=b+1)})})}function q(c,b){var d=b.start.rowIndex;b=b.end;b=a.default.findRowMergedLastIndex(c,b.rowIndex,b.colIndex);if(0!==d||0!==b){d=Math.max(d,1);b=Math.max(b,1);var e=b-d+1;2>c.length-e?c.splice(0,c.length):(f(c,d,b),k(c,d,b),c.splice(d,e))}}Object.defineProperty(w,"__esModule",{value:!0});w._removeRow=q;t=b(0);var m=p(t);t=b(2);var n=p(t);t=b(1);t=p(t);var e=b(3),a=p(e);e=b(7);var c=p(e);b=b(6);var d=p(b);b=t.default.CommandManager;t=void 0;b&&(t=b.command("wysiwyg",
{name:"RemoveRow",exec:function(b){var e=b.getEditor(),f=e.getSelection().cloneRange();if(b.focus(),e.hasFormat("TABLE")){var h=(0,m.default)(f.startContainer),k=h.closest("table"),n=a.default.createTableData(k),p=n.length;b=b.componentManager.getManager("tableSelection").getSelectedCells();h=c.default.getTableSelectionRange(n,b,h);(e.saveUndoState(f),q(n,h),2>n.length)?k.remove():p!==n.length&&(k=d.default.replaceTable(k,n),p=h.start.rowIndex,n=p<n.length?p:p-1,p=h.start.colIndex,h=a.default.createTableData(k),
h.length-1<n&&--n,n=a.default.findElementIndex(h,n,p),n=k.find("tr").eq(n.rowIndex).find("th,td")[n.colIndex],d.default.focusToCell(e,f,n))}}}));w.default=t},function(t,w,b){function p(a){return a&&a.__esModule?a:{default:a}}function f(a,c,b){a.forEach(function(a){n.default.range(c,b+1).forEach(function(c){var d=a[c];if(n.default.isExisty(d.colMergeWith))c=a[d.colMergeWith],c.colspan&&--c.colspan;else if(1<d.colspan){var e=c+d.colspan-1;d.colspan-=b-c+1;e>b&&(a[b+1]=n.default.extend({},d))}})})}function k(a,
c,b){a.forEach(function(a){a.slice(b+1).forEach(function(a){n.default.isExisty(a.colMergeWith)&&a.colMergeWith>=c&&(a.colMergeWith=b+1)})})}function q(c,b){var d=b.start.colIndex;b=b.end;b=a.default.findColMergedLastIndex(c,b.rowIndex,b.colIndex);var e=b-d+1;f(c,d,b);k(c,d,b);c.forEach(function(a){a.splice(d,e)})}Object.defineProperty(w,"__esModule",{value:!0});w._removeColumns=q;t=b(0);var m=p(t);t=b(2);var n=p(t);t=b(1);t=p(t);var e=b(3),a=p(e);e=b(7);var c=p(e);b=b(6);var d=p(b);b=t.default.CommandManager;
t=void 0;b&&(t=b.command("wysiwyg",{name:"RemoveCol",exec:function(b){var e=b.getEditor(),f=e.getSelection().cloneRange();if(b.focus(),e.hasFormat("TABLE")){var h=(0,m.default)(f.startContainer),k=h.closest("table"),n=a.default.createTableData(k);b=b.componentManager.getManager("tableSelection").getSelectedCells();h=c.default.getTableSelectionRange(n,b,h);b=n[0].length;(e.saveUndoState(f),q(n,h),0===n[0].length)?k.remove():b!==n[0].length&&(k=d.default.replaceTable(k,n),b=h.start.colIndex,h=h.start.rowIndex,
n=b>=n[0].length?b-1:b,b=a.default.createTableData(k),b[0].length-1<n&&--n,n=a.default.findElementIndex(b,h,n),n=k.find("tr").eq(n.rowIndex).find("td, th")[n.colIndex],d.default.focusToCell(e,f,n))}}}));w.default=t},function(t,w,b){function p(a){return a&&a.__esModule?a:{default:a}}function f(a,b,e,f){q.default.range(b,e+1).forEach(function(c){c=a[c];q.default.isExisty(c.colMergeWith)?a[c.colMergeWith].align=f:c.align=f})}Object.defineProperty(w,"__esModule",{value:!0});t=b(0);var k=p(t);t=b(2);var q=
p(t);t=b(1);t=p(t);var m=b(3),n=p(m);m=b(7);var e=p(m);b=b(6);var a=p(b);b=t.default.CommandManager;t=void 0;b&&(t=b.command("wysiwyg",{name:"AlignCol",exec:function(c,b){var d=c.getEditor(),m=d.getSelection().cloneRange();if(c.focus(),d.hasFormat("TABLE")){var l=(0,k.default)(m.startContainer),p=l.closest("table"),q=n.default.createTableData(p);c=c.componentManager.getManager("tableSelection").getSelectedCells();c=e.default.getTableSelectionRange(q,c,l);f(q[0],c.start.colIndex,c.end.colIndex,b);
b=a.default.replaceTable(p,q);p=n.default.findElementRowIndex(l);l=n.default.findElementColIndex(l);l=b.find("tr").eq(p).find("td, th")[l];a.default.focusToCell(d,m,l)}}}));w.default=t},function(t,w,b){function p(a){return a&&a.__esModule?a:{default:a}}function f(a,c,b){var d,e=b+1;a=(d=[]).concat.apply(d,a.map(function(a){return a.slice(c,e)})).filter(function(a){return(a=a.content)&&a!==l});return a.length?a[0].content:l}function k(c,b,d){var e,f=d+1;c=c.map(function(a){return a.slice(b,f)});(e=
[]).concat.apply(e,c).slice(1).forEach(function(c){var b=c.nodeName;a.default.forEach(c,function(a,b){return delete c[b]});c.nodeName=b})}function q(a,c,b,d){var e=b+1;a.forEach(function(a){a.slice(c,e).forEach(function(a){a.rowMergeWith=d})})}function m(a,c,b,d){var e=b+1;a.forEach(function(a){a.slice(c,e).forEach(function(a){a.colMergeWith=d})})}function n(a,c){var b=c.start,d=c.end;c=b.rowIndex;b=b.colIndex;var e=d.rowIndex;d=d.colIndex;var h=a[c][b];a=a.slice(c,e+1);e=e-c+1;var l=d-b+1;h.rowspan=
e;h.colspan=l;h.content=f(a,b,d);k(a,b,d);1<e&&q(a.slice(1),b,d,c);1<l&&m(a,b+1,d,b)}Object.defineProperty(w,"__esModule",{value:!0});w._mergeCells=n;t=b(0);var e=p(t);t=b(2);var a=p(t);t=b(1);t=p(t);var c=b(3),d=p(c);c=b(7);var h=p(c);b=b(6);var r=p(b);b=t.default.CommandManager;var l=a.default.browser.msie?"":"<br>";t=void 0;b&&(t=b.command("wysiwyg",{name:"MergeCells",exec:function(a){var c=a.getEditor();if(a.focus(),c.hasFormat("TABLE")){a=a.componentManager.getManager("tableSelection");var b=
a.getSelectedCells();if(!(2>b.length||a.hasSelectedBothThAndTd(b))){a=c.getSelection().cloneRange();var f=(0,e.default)(a.startContainer),l=f.closest("table"),k=d.default.createTableData(l);f=h.default.getTableSelectionRange(k,b,f);n(k,f);b=r.default.replaceTable(l,k);l=f.start.rowIndex;k=f.start.colIndex;f=d.default.createTableData(b);l=d.default.findElementIndex(f,l,k);b=b.find("tr").eq(l.rowIndex).find("td, th")[l.colIndex];r.default.focusToCell(c,a,b)}}}}));w.default=t},function(t,w,b){function p(a){return a&&
a.__esModule?a:{default:a}}function f(a,c){var b,d=c.start;c=c.end;var e=d.colIndex,f=c.colIndex+1;a=a.slice(d.rowIndex,c.rowIndex+1).map(function(a){return a.slice(e,f)});return!!(b=[]).concat.apply(b,a).filter(function(a){return 1<a.colspan||1<a.rowspan}).length}function k(c,b,d,e,f){e=b+e;var h=n.default.range(d,d+f);n.default.range(b,e).forEach(function(d){var e=c[d];h.slice(d===b?1:0).forEach(function(c){e[c]=a.default.createBasicCell(d,c,e[c].nodeName)})})}function q(a,c){var b=c.start;c=c.end;
var d=n.default.range(b.colIndex,c.colIndex+1);n.default.range(b.rowIndex,c.rowIndex+1).forEach(function(c){d.forEach(function(b){var d=a[c][b],e=d.colspan,f=d.rowspan;(1<e||1<f)&&(d.colspan=1,d.rowspan=1,k(a,c,b,f,e))})})}Object.defineProperty(w,"__esModule",{value:!0});w._hasMergedCell=f;w._unmergeCells=q;t=b(0);var m=p(t);t=b(2);var n=p(t);t=b(1);t=p(t);var e=b(3),a=p(e);e=b(7);var c=p(e);b=b(6);var d=p(b);b=t.default.CommandManager;t=void 0;b&&(t=b.command("wysiwyg",{name:"UnmergeCells",exec:function(b){var e=
b.getEditor(),h=e.getSelection().cloneRange();if(b.focus(),e.hasFormat("TABLE")){var k=(0,m.default)(h.startContainer),n=k.closest("table"),p=a.default.createTableData(n);b=b.componentManager.getManager("tableSelection").getSelectedCells();k=c.default.getTableSelectionRange(p,b,k);f(p,k)&&(q(p,k),n=d.default.replaceTable(n,p),p=k.start.rowIndex,k=k.start.colIndex,b=a.default.createTableData(n),p=a.default.findElementIndex(b,p,k),n=n.find("tr").eq(p.rowIndex).find("td, th")[p.colIndex],d.default.focusToCell(e,
h,n))}}}));w.default=t},function(t,w,b){function p(b,k,n){var e=b.$content,a=(0,f.default)(e[5]),c=(0,f.default)(e[6]),d=(0,f.default)(e[7]);b.on("click .te-table-merge",function(){k.emit("command","MergeCells")});b.on("click .te-table-unmerge",function(){k.emit("command","UnmergeCells")});k.listen("openPopupTableUtils",function(){var b=n.getSelectedCells(),e=b.length;e?(2>e||n.hasSelectedBothThAndTd(b)?a.hide():a.show(),b.is("[rowspan], [colspan]")?c.show():c.hide(),d.show()):(a.hide(),c.hide(),
d.hide())})}Object.defineProperty(w,"__esModule",{value:!0});var f=(t=b(0))&&t.__esModule?t:{default:t};b=b(1);var k=(b&&b.__esModule?b:{default:b}).default.i18n;w.default={updateContextMenu:function(b,m,n){var e=['<button type="button" class="te-table-add-row">'+k.get("Add row")+"</button>",'<button type="button" class="te-table-add-col">'+k.get("Add col")+"</button>",'<button type="button" class="te-table-remove-row">'+k.get("Remove row")+"</button>",'<button type="button" class="te-table-remove-col">'+
k.get("Remove col")+"</button>","<hr/>",'<button type="button" class="te-table-merge">'+k.get("Merge cells")+"</button>",'<button type="button" class="te-table-unmerge">'+k.get("Unmerge cells")+"</button>","<hr/>",'<button type="button" class="te-table-col-align-left">'+k.get("Align left")+"</button>",'<button type="button" class="te-table-col-align-center">'+k.get("Align center")+"</button>",'<button type="button" class="te-table-col-align-right">'+k.get("Align right")+"</button>","<hr/>",'<button type="button" class="te-table-remove">'+
k.get("Remove table")+"</button>"].join("");e=(0,f.default)(e);b.setContent(e);p(b,m,n)}}}])});
