<div class="d-flex flex-column flex-grow">
  <div class="form-row align-items-center u-flex-shrink mt-1">
    <div class="col-auto">
      Group By:
    </div>
    <div class="col">
      <select class="custom-select" ng-model="view" ng-change="filtersCtrl.onGroupChange()" ng-options="key for (key, value) in views"/>
    </div>
    <div class="col-auto">
      <addfilter></addfilter>
    </div>

    <div class="input-group mt-1 mx-1">
      <input class="form-control" ng-model="term" ng-change="filtersCtrl.onSearchTermChange()" placeholder="Search filters"></input>
      <div class="input-group-append">
        <button class="btn btn-outline-secondary" ng-click="filtersCtrl.clearSearch()" title="Clear the search term">
          <i class="fa fa-times"></i>
        </button>
      </div>
    </div>
  </div>

  <div class="d-flex flex-row flex-grow mh-0 mt-1">
    <slicktree class="border" x-data="filters" selected="selected" show-root="true" context-menu="contextMenu" checkbox-tooltip="Show or hide the filter" multi-select="true" disposable="true"></slicktree>
  </div>

  <div class="mt-1">
    <div class="pull-right">
      <button class="btn btn-primary" ng-click="filtersCtrl.launch()" title="Configure the areas and filters applying to each layer.">
        <i class="fa fa-filter"></i> Advanced
      </button>
    </div>
    <button class="btn btn-secondary" ng-click="filtersCtrl.export()" ng-disabled="filtersCtrl.exportDisabled()">
      <i class="fa fa-download"></i> Export
    </button>
    <button class="btn btn-secondary" ng-click="filtersCtrl.import()">
      <i class="fa fa-sign-in"></i> Import
    </button>
  </div>
</div>
