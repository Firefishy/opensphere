<div class="d-flex flex-column flex-fill">
  <div>
    <div class="float-right">
      <button class="btn btn-primary" ng-click="servers.add()" title="Add a new server">
        <i class="fa fa-plus"></i>
        Add Server
      </button>
    </div>
    <p>Data servers provide layers, analytics, and other data that can be loaded on the map.</p>
  </div>
  <div class="flex-fill u-overflow-y-auto">
    <table class="table table-striped bg-secondary m-0">
      <tbody>
        <tr ng-repeat="item in data">
          <td class="d-flex p-1">
            <span class="form-check flex-fill" title="{{item.item.url}}">
              <input class="form-check-input" type="checkbox" ng-model="item.enabled" ng-change="servers.update()"
                  title="Enable/Disable this server">
              {{item.label}}
              <i ng-if="!item.loading" class="fa fa-circle"
                  ng-class="item.enabled ? item.error ? 'text-danger' : 'text-success' : ''"
                  title="{{item.error ? 'Offline' : item.enabled ? 'Online' : 'Disabled'}}"></i>
              <i ng-if="item.loading" class="fa fa-fw fa-spin fa-spinner" title="Loading..."></i>
            </span>
            <span>
              <i class="fa btn btn-sm p-0" ng-class="item.edit ? 'fa-pencil' : 'fa-eye'" ng-click="servers.edit(item.item)"
                  title="{{item.edit ? 'Edit' : 'View'}} server"></i>
              <i class="fa fa-close text-danger btn btn-sm p-0" ng-if="item.edit" ng-click="servers.remove(item.item)"
                  title="Delete server"></i>
              <i class="fa fa-refresh btn btn-sm p-0" ng-click="servers.refresh(item.item)"
                  title="Refresh server"></i>
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
